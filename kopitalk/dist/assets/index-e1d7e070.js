function fm(n,e){for(var t=0;t<e.length;t++){const o=e[t];if(typeof o!="string"&&!Array.isArray(o)){for(const i in o)if(i!=="default"&&!(i in n)){const s=Object.getOwnPropertyDescriptor(o,i);s&&Object.defineProperty(n,i,s.get?s:{enumerable:!0,get:()=>o[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))o(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&o(a)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();function pm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var nd={exports:{}},Zi={},td={exports:{}},G={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uo=Symbol.for("react.element"),mm=Symbol.for("react.portal"),hm=Symbol.for("react.fragment"),gm=Symbol.for("react.strict_mode"),ym=Symbol.for("react.profiler"),vm=Symbol.for("react.provider"),Cm=Symbol.for("react.context"),Tm=Symbol.for("react.forward_ref"),xm=Symbol.for("react.suspense"),Sm=Symbol.for("react.memo"),Em=Symbol.for("react.lazy"),fa=Symbol.iterator;function _m(n){return n===null||typeof n!="object"?null:(n=fa&&n[fa]||n["@@iterator"],typeof n=="function"?n:null)}var od={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},id=Object.assign,rd={};function Ut(n,e,t){this.props=n,this.context=e,this.refs=rd,this.updater=t||od}Ut.prototype.isReactComponent={};Ut.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};Ut.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function ld(){}ld.prototype=Ut.prototype;function us(n,e,t){this.props=n,this.context=e,this.refs=rd,this.updater=t||od}var cs=us.prototype=new ld;cs.constructor=us;id(cs,Ut.prototype);cs.isPureReactComponent=!0;var pa=Array.isArray,sd=Object.prototype.hasOwnProperty,ds={current:null},ad={key:!0,ref:!0,__self:!0,__source:!0};function ud(n,e,t){var o,i={},s=null,a=null;if(e!=null)for(o in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)sd.call(e,o)&&!ad.hasOwnProperty(o)&&(i[o]=e[o]);var u=arguments.length-2;if(u===1)i.children=t;else if(1<u){for(var c=Array(u),d=0;d<u;d++)c[d]=arguments[d+2];i.children=c}if(n&&n.defaultProps)for(o in u=n.defaultProps,u)i[o]===void 0&&(i[o]=u[o]);return{$$typeof:Uo,type:n,key:s,ref:a,props:i,_owner:ds.current}}function wm(n,e){return{$$typeof:Uo,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function fs(n){return typeof n=="object"&&n!==null&&n.$$typeof===Uo}function Mm(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var ma=/\/+/g;function Sr(n,e){return typeof n=="object"&&n!==null&&n.key!=null?Mm(""+n.key):e.toString(36)}function ai(n,e,t,o,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var a=!1;if(n===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(n.$$typeof){case Uo:case mm:a=!0}}if(a)return a=n,i=i(a),n=o===""?"."+Sr(a,0):o,pa(i)?(t="",n!=null&&(t=n.replace(ma,"$&/")+"/"),ai(i,e,t,"",function(d){return d})):i!=null&&(fs(i)&&(i=wm(i,t+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(ma,"$&/")+"/")+n)),e.push(i)),1;if(a=0,o=o===""?".":o+":",pa(n))for(var u=0;u<n.length;u++){s=n[u];var c=o+Sr(s,u);a+=ai(s,e,t,c,i)}else if(c=_m(n),typeof c=="function")for(n=c.call(n),u=0;!(s=n.next()).done;)s=s.value,c=o+Sr(s,u++),a+=ai(s,e,t,c,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function zo(n,e,t){if(n==null)return n;var o=[],i=0;return ai(n,o,"","",function(s){return e.call(t,s,i++)}),o}function Im(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var Ce={current:null},ui={transition:null},km={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:ui,ReactCurrentOwner:ds};function cd(){throw Error("act(...) is not supported in production builds of React.")}G.Children={map:zo,forEach:function(n,e,t){zo(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return zo(n,function(){e++}),e},toArray:function(n){return zo(n,function(e){return e})||[]},only:function(n){if(!fs(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};G.Component=Ut;G.Fragment=hm;G.Profiler=ym;G.PureComponent=us;G.StrictMode=gm;G.Suspense=xm;G.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=km;G.act=cd;G.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var o=id({},n.props),i=n.key,s=n.ref,a=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=ds.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var u=n.type.defaultProps;for(c in e)sd.call(e,c)&&!ad.hasOwnProperty(c)&&(o[c]=e[c]===void 0&&u!==void 0?u[c]:e[c])}var c=arguments.length-2;if(c===1)o.children=t;else if(1<c){u=Array(c);for(var d=0;d<c;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:Uo,type:n.type,key:i,ref:s,props:o,_owner:a}};G.createContext=function(n){return n={$$typeof:Cm,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:vm,_context:n},n.Consumer=n};G.createElement=ud;G.createFactory=function(n){var e=ud.bind(null,n);return e.type=n,e};G.createRef=function(){return{current:null}};G.forwardRef=function(n){return{$$typeof:Tm,render:n}};G.isValidElement=fs;G.lazy=function(n){return{$$typeof:Em,_payload:{_status:-1,_result:n},_init:Im}};G.memo=function(n,e){return{$$typeof:Sm,type:n,compare:e===void 0?null:e}};G.startTransition=function(n){var e=ui.transition;ui.transition={};try{n()}finally{ui.transition=e}};G.unstable_act=cd;G.useCallback=function(n,e){return Ce.current.useCallback(n,e)};G.useContext=function(n){return Ce.current.useContext(n)};G.useDebugValue=function(){};G.useDeferredValue=function(n){return Ce.current.useDeferredValue(n)};G.useEffect=function(n,e){return Ce.current.useEffect(n,e)};G.useId=function(){return Ce.current.useId()};G.useImperativeHandle=function(n,e,t){return Ce.current.useImperativeHandle(n,e,t)};G.useInsertionEffect=function(n,e){return Ce.current.useInsertionEffect(n,e)};G.useLayoutEffect=function(n,e){return Ce.current.useLayoutEffect(n,e)};G.useMemo=function(n,e){return Ce.current.useMemo(n,e)};G.useReducer=function(n,e,t){return Ce.current.useReducer(n,e,t)};G.useRef=function(n){return Ce.current.useRef(n)};G.useState=function(n){return Ce.current.useState(n)};G.useSyncExternalStore=function(n,e,t){return Ce.current.useSyncExternalStore(n,e,t)};G.useTransition=function(){return Ce.current.useTransition()};G.version="18.3.1";td.exports=G;var A=td.exports;const ps=pm(A),Am=fm({__proto__:null,default:ps},[A]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm=A,Rm=Symbol.for("react.element"),Pm=Symbol.for("react.fragment"),Dm=Object.prototype.hasOwnProperty,Lm=Nm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Um={key:!0,ref:!0,__self:!0,__source:!0};function dd(n,e,t){var o,i={},s=null,a=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(o in e)Dm.call(e,o)&&!Um.hasOwnProperty(o)&&(i[o]=e[o]);if(n&&n.defaultProps)for(o in e=n.defaultProps,e)i[o]===void 0&&(i[o]=e[o]);return{$$typeof:Rm,type:n,key:s,ref:a,props:i,_owner:Lm.current}}Zi.Fragment=Pm;Zi.jsx=dd;Zi.jsxs=dd;nd.exports=Zi;var h=nd.exports,nl={},fd={exports:{}},Ne={},pd={exports:{}},md={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(U,F){var V=U.length;U.push(F);e:for(;0<V;){var ee=V-1>>>1,le=U[ee];if(0<i(le,F))U[ee]=F,U[V]=le,V=ee;else break e}}function t(U){return U.length===0?null:U[0]}function o(U){if(U.length===0)return null;var F=U[0],V=U.pop();if(V!==F){U[0]=V;e:for(var ee=0,le=U.length,qo=le>>>1;ee<qo;){var Ln=2*(ee+1)-1,xr=U[Ln],Un=Ln+1,Ho=U[Un];if(0>i(xr,V))Un<le&&0>i(Ho,xr)?(U[ee]=Ho,U[Un]=V,ee=Un):(U[ee]=xr,U[Ln]=V,ee=Ln);else if(Un<le&&0>i(Ho,V))U[ee]=Ho,U[Un]=V,ee=Un;else break e}}return F}function i(U,F){var V=U.sortIndex-F.sortIndex;return V!==0?V:U.id-F.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var a=Date,u=a.now();n.unstable_now=function(){return a.now()-u}}var c=[],d=[],f=1,p=null,m=3,y=!1,T=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(U){for(var F=t(d);F!==null;){if(F.callback===null)o(d);else if(F.startTime<=U)o(d),F.sortIndex=F.expirationTime,e(c,F);else break;F=t(d)}}function S(U){if(x=!1,C(U),!T)if(t(c)!==null)T=!0,Dn(w);else{var F=t(d);F!==null&&Tr(S,F.startTime-U)}}function w(U,F){T=!1,x&&(x=!1,v(R),R=-1),y=!0;var V=m;try{for(C(F),p=t(c);p!==null&&(!(p.expirationTime>F)||U&&!P());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,m=p.priorityLevel;var le=ee(p.expirationTime<=F);F=n.unstable_now(),typeof le=="function"?p.callback=le:p===t(c)&&o(c),C(F)}else o(c);p=t(c)}if(p!==null)var qo=!0;else{var Ln=t(d);Ln!==null&&Tr(S,Ln.startTime-F),qo=!1}return qo}finally{p=null,m=V,y=!1}}var E=!1,M=null,R=-1,k=5,I=-1;function P(){return!(n.unstable_now()-I<k)}function q(){if(M!==null){var U=n.unstable_now();I=U;var F=!0;try{F=M(!0,U)}finally{F?W():(E=!1,M=null)}}else E=!1}var W;if(typeof g=="function")W=function(){g(q)};else if(typeof MessageChannel<"u"){var zt=new MessageChannel,Be=zt.port2;zt.port1.onmessage=q,W=function(){Be.postMessage(null)}}else W=function(){_(q,0)};function Dn(U){M=U,E||(E=!0,W())}function Tr(U,F){R=_(function(){U(n.unstable_now())},F)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(U){U.callback=null},n.unstable_continueExecution=function(){T||y||(T=!0,Dn(w))},n.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<U?Math.floor(1e3/U):5},n.unstable_getCurrentPriorityLevel=function(){return m},n.unstable_getFirstCallbackNode=function(){return t(c)},n.unstable_next=function(U){switch(m){case 1:case 2:case 3:var F=3;break;default:F=m}var V=m;m=F;try{return U()}finally{m=V}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(U,F){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var V=m;m=U;try{return F()}finally{m=V}},n.unstable_scheduleCallback=function(U,F,V){var ee=n.unstable_now();switch(typeof V=="object"&&V!==null?(V=V.delay,V=typeof V=="number"&&0<V?ee+V:ee):V=ee,U){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=V+le,U={id:f++,callback:F,priorityLevel:U,startTime:V,expirationTime:le,sortIndex:-1},V>ee?(U.sortIndex=V,e(d,U),t(c)===null&&U===t(d)&&(x?(v(R),R=-1):x=!0,Tr(S,V-ee))):(U.sortIndex=le,e(c,U),T||y||(T=!0,Dn(w))),U},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(U){var F=m;return function(){var V=m;m=F;try{return U.apply(this,arguments)}finally{m=V}}}})(md);pd.exports=md;var Fm=pd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vm=A,Ae=Fm;function N(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var hd=new Set,ho={};function Zn(n,e){kt(n,e),kt(n+"Capture",e)}function kt(n,e){for(ho[n]=e,n=0;n<e.length;n++)hd.add(e[n])}var rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tl=Object.prototype.hasOwnProperty,Gm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ha={},ga={};function Bm(n){return tl.call(ga,n)?!0:tl.call(ha,n)?!1:Gm.test(n)?ga[n]=!0:(ha[n]=!0,!1)}function $m(n,e,t,o){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return o?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function qm(n,e,t,o){if(e===null||typeof e>"u"||$m(n,e,t,o))return!0;if(o)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Te(n,e,t,o,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=o,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var de={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){de[n]=new Te(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];de[e]=new Te(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){de[n]=new Te(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){de[n]=new Te(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){de[n]=new Te(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){de[n]=new Te(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){de[n]=new Te(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){de[n]=new Te(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){de[n]=new Te(n,5,!1,n.toLowerCase(),null,!1,!1)});var ms=/[\-:]([a-z])/g;function hs(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(ms,hs);de[e]=new Te(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(ms,hs);de[e]=new Te(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(ms,hs);de[e]=new Te(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){de[n]=new Te(n,1,!1,n.toLowerCase(),null,!1,!1)});de.xlinkHref=new Te("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){de[n]=new Te(n,1,!1,n.toLowerCase(),null,!0,!0)});function gs(n,e,t,o){var i=de.hasOwnProperty(e)?de[e]:null;(i!==null?i.type!==0:o||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qm(e,t,i,o)&&(t=null),o||i===null?Bm(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,o=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,o?n.setAttributeNS(o,e,t):n.setAttribute(e,t))))}var un=Vm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Jo=Symbol.for("react.element"),rt=Symbol.for("react.portal"),lt=Symbol.for("react.fragment"),ys=Symbol.for("react.strict_mode"),ol=Symbol.for("react.profiler"),gd=Symbol.for("react.provider"),yd=Symbol.for("react.context"),vs=Symbol.for("react.forward_ref"),il=Symbol.for("react.suspense"),rl=Symbol.for("react.suspense_list"),Cs=Symbol.for("react.memo"),fn=Symbol.for("react.lazy"),vd=Symbol.for("react.offscreen"),ya=Symbol.iterator;function Jt(n){return n===null||typeof n!="object"?null:(n=ya&&n[ya]||n["@@iterator"],typeof n=="function"?n:null)}var Z=Object.assign,Er;function jt(n){if(Er===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);Er=e&&e[1]||""}return`
`+Er+n}var _r=!1;function wr(n,e){if(!n||_r)return"";_r=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var o=d}Reflect.construct(n,[],e)}else{try{e.call()}catch(d){o=d}n.call(e.prototype)}else{try{throw Error()}catch(d){o=d}n()}}catch(d){if(d&&o&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=o.stack.split(`
`),a=i.length-1,u=s.length-1;1<=a&&0<=u&&i[a]!==s[u];)u--;for(;1<=a&&0<=u;a--,u--)if(i[a]!==s[u]){if(a!==1||u!==1)do if(a--,u--,0>u||i[a]!==s[u]){var c=`
`+i[a].replace(" at new "," at ");return n.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",n.displayName)),c}while(1<=a&&0<=u);break}}}finally{_r=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?jt(n):""}function Hm(n){switch(n.tag){case 5:return jt(n.type);case 16:return jt("Lazy");case 13:return jt("Suspense");case 19:return jt("SuspenseList");case 0:case 2:case 15:return n=wr(n.type,!1),n;case 11:return n=wr(n.type.render,!1),n;case 1:return n=wr(n.type,!0),n;default:return""}}function ll(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case lt:return"Fragment";case rt:return"Portal";case ol:return"Profiler";case ys:return"StrictMode";case il:return"Suspense";case rl:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case yd:return(n.displayName||"Context")+".Consumer";case gd:return(n._context.displayName||"Context")+".Provider";case vs:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Cs:return e=n.displayName||null,e!==null?e:ll(n.type)||"Memo";case fn:e=n._payload,n=n._init;try{return ll(n(e))}catch{}}return null}function zm(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ll(e);case 8:return e===ys?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function kn(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Cd(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Jm(n){var e=Cd(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),o=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){o=""+a,s.call(this,a)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return o},setValue:function(a){o=""+a},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function Wo(n){n._valueTracker||(n._valueTracker=Jm(n))}function Td(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),o="";return n&&(o=Cd(n)?n.checked?"true":"false":n.value),n=o,n!==t?(e.setValue(n),!0):!1}function Si(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function sl(n,e){var t=e.checked;return Z({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function va(n,e){var t=e.defaultValue==null?"":e.defaultValue,o=e.checked!=null?e.checked:e.defaultChecked;t=kn(e.value!=null?e.value:t),n._wrapperState={initialChecked:o,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xd(n,e){e=e.checked,e!=null&&gs(n,"checked",e,!1)}function al(n,e){xd(n,e);var t=kn(e.value),o=e.type;if(t!=null)o==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(o==="submit"||o==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?ul(n,e.type,t):e.hasOwnProperty("defaultValue")&&ul(n,e.type,kn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function Ca(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var o=e.type;if(!(o!=="submit"&&o!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function ul(n,e,t){(e!=="number"||Si(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var eo=Array.isArray;function Ct(n,e,t,o){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&o&&(n[t].defaultSelected=!0)}else{for(t=""+kn(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,o&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function cl(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return Z({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Ta(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(N(92));if(eo(t)){if(1<t.length)throw Error(N(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:kn(t)}}function Sd(n,e){var t=kn(e.value),o=kn(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),o!=null&&(n.defaultValue=""+o)}function xa(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Ed(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dl(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Ed(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Ko,_d=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,o,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,o,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(Ko=Ko||document.createElement("div"),Ko.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ko.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function go(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var io={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wm=["Webkit","ms","Moz","O"];Object.keys(io).forEach(function(n){Wm.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),io[e]=io[n]})});function wd(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||io.hasOwnProperty(n)&&io[n]?(""+e).trim():e+"px"}function Md(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var o=t.indexOf("--")===0,i=wd(t,e[t],o);t==="float"&&(t="cssFloat"),o?n.setProperty(t,i):n[t]=i}}var Km=Z({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fl(n,e){if(e){if(Km[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function pl(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ml=null;function Ts(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var hl=null,Tt=null,xt=null;function Sa(n){if(n=Go(n)){if(typeof hl!="function")throw Error(N(280));var e=n.stateNode;e&&(e=or(e),hl(n.stateNode,n.type,e))}}function Id(n){Tt?xt?xt.push(n):xt=[n]:Tt=n}function kd(){if(Tt){var n=Tt,e=xt;if(xt=Tt=null,Sa(n),e)for(n=0;n<e.length;n++)Sa(e[n])}}function Ad(n,e){return n(e)}function Nd(){}var Mr=!1;function Rd(n,e,t){if(Mr)return n(e,t);Mr=!0;try{return Ad(n,e,t)}finally{Mr=!1,(Tt!==null||xt!==null)&&(Nd(),kd())}}function yo(n,e){var t=n.stateNode;if(t===null)return null;var o=or(t);if(o===null)return null;t=o[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(n=n.type,o=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!o;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(N(231,e,typeof t));return t}var gl=!1;if(rn)try{var Wt={};Object.defineProperty(Wt,"passive",{get:function(){gl=!0}}),window.addEventListener("test",Wt,Wt),window.removeEventListener("test",Wt,Wt)}catch{gl=!1}function Ym(n,e,t,o,i,s,a,u,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(t,d)}catch(f){this.onError(f)}}var ro=!1,Ei=null,_i=!1,yl=null,Om={onError:function(n){ro=!0,Ei=n}};function Qm(n,e,t,o,i,s,a,u,c){ro=!1,Ei=null,Ym.apply(Om,arguments)}function bm(n,e,t,o,i,s,a,u,c){if(Qm.apply(this,arguments),ro){if(ro){var d=Ei;ro=!1,Ei=null}else throw Error(N(198));_i||(_i=!0,yl=d)}}function jn(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function Pd(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function Ea(n){if(jn(n)!==n)throw Error(N(188))}function Xm(n){var e=n.alternate;if(!e){if(e=jn(n),e===null)throw Error(N(188));return e!==n?null:n}for(var t=n,o=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(o=i.return,o!==null){t=o;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return Ea(i),n;if(s===o)return Ea(i),e;s=s.sibling}throw Error(N(188))}if(t.return!==o.return)t=i,o=s;else{for(var a=!1,u=i.child;u;){if(u===t){a=!0,t=i,o=s;break}if(u===o){a=!0,o=i,t=s;break}u=u.sibling}if(!a){for(u=s.child;u;){if(u===t){a=!0,t=s,o=i;break}if(u===o){a=!0,o=s,t=i;break}u=u.sibling}if(!a)throw Error(N(189))}}if(t.alternate!==o)throw Error(N(190))}if(t.tag!==3)throw Error(N(188));return t.stateNode.current===t?n:e}function Dd(n){return n=Xm(n),n!==null?Ld(n):null}function Ld(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Ld(n);if(e!==null)return e;n=n.sibling}return null}var Ud=Ae.unstable_scheduleCallback,_a=Ae.unstable_cancelCallback,Zm=Ae.unstable_shouldYield,jm=Ae.unstable_requestPaint,ne=Ae.unstable_now,eh=Ae.unstable_getCurrentPriorityLevel,xs=Ae.unstable_ImmediatePriority,Fd=Ae.unstable_UserBlockingPriority,wi=Ae.unstable_NormalPriority,nh=Ae.unstable_LowPriority,Vd=Ae.unstable_IdlePriority,ji=null,Xe=null;function th(n){if(Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(ji,n,void 0,(n.current.flags&128)===128)}catch{}}var Je=Math.clz32?Math.clz32:rh,oh=Math.log,ih=Math.LN2;function rh(n){return n>>>=0,n===0?32:31-(oh(n)/ih|0)|0}var Yo=64,Oo=4194304;function no(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Mi(n,e){var t=n.pendingLanes;if(t===0)return 0;var o=0,i=n.suspendedLanes,s=n.pingedLanes,a=t&268435455;if(a!==0){var u=a&~i;u!==0?o=no(u):(s&=a,s!==0&&(o=no(s)))}else a=t&~i,a!==0?o=no(a):s!==0&&(o=no(s));if(o===0)return 0;if(e!==0&&e!==o&&!(e&i)&&(i=o&-o,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(o&4&&(o|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=o;0<e;)t=31-Je(e),i=1<<t,o|=n[t],e&=~i;return o}function lh(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sh(n,e){for(var t=n.suspendedLanes,o=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var a=31-Je(s),u=1<<a,c=i[a];c===-1?(!(u&t)||u&o)&&(i[a]=lh(u,e)):c<=e&&(n.expiredLanes|=u),s&=~u}}function vl(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function Gd(){var n=Yo;return Yo<<=1,!(Yo&4194240)&&(Yo=64),n}function Ir(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Fo(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-Je(e),n[e]=t}function ah(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var o=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-Je(t),s=1<<i;e[i]=0,o[i]=-1,n[i]=-1,t&=~s}}function Ss(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var o=31-Je(t),i=1<<o;i&e|n[o]&e&&(n[o]|=e),t&=~i}}var H=0;function Bd(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var $d,Es,qd,Hd,zd,Cl=!1,Qo=[],Tn=null,xn=null,Sn=null,vo=new Map,Co=new Map,mn=[],uh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function wa(n,e){switch(n){case"focusin":case"focusout":Tn=null;break;case"dragenter":case"dragleave":xn=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":vo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Co.delete(e.pointerId)}}function Kt(n,e,t,o,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:o,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Go(e),e!==null&&Es(e)),n):(n.eventSystemFlags|=o,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function ch(n,e,t,o,i){switch(e){case"focusin":return Tn=Kt(Tn,n,e,t,o,i),!0;case"dragenter":return xn=Kt(xn,n,e,t,o,i),!0;case"mouseover":return Sn=Kt(Sn,n,e,t,o,i),!0;case"pointerover":var s=i.pointerId;return vo.set(s,Kt(vo.get(s)||null,n,e,t,o,i)),!0;case"gotpointercapture":return s=i.pointerId,Co.set(s,Kt(Co.get(s)||null,n,e,t,o,i)),!0}return!1}function Jd(n){var e=Bn(n.target);if(e!==null){var t=jn(e);if(t!==null){if(e=t.tag,e===13){if(e=Pd(t),e!==null){n.blockedOn=e,zd(n.priority,function(){qd(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ci(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=Tl(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var o=new t.constructor(t.type,t);ml=o,t.target.dispatchEvent(o),ml=null}else return e=Go(t),e!==null&&Es(e),n.blockedOn=t,!1;e.shift()}return!0}function Ma(n,e,t){ci(n)&&t.delete(e)}function dh(){Cl=!1,Tn!==null&&ci(Tn)&&(Tn=null),xn!==null&&ci(xn)&&(xn=null),Sn!==null&&ci(Sn)&&(Sn=null),vo.forEach(Ma),Co.forEach(Ma)}function Yt(n,e){n.blockedOn===e&&(n.blockedOn=null,Cl||(Cl=!0,Ae.unstable_scheduleCallback(Ae.unstable_NormalPriority,dh)))}function To(n){function e(i){return Yt(i,n)}if(0<Qo.length){Yt(Qo[0],n);for(var t=1;t<Qo.length;t++){var o=Qo[t];o.blockedOn===n&&(o.blockedOn=null)}}for(Tn!==null&&Yt(Tn,n),xn!==null&&Yt(xn,n),Sn!==null&&Yt(Sn,n),vo.forEach(e),Co.forEach(e),t=0;t<mn.length;t++)o=mn[t],o.blockedOn===n&&(o.blockedOn=null);for(;0<mn.length&&(t=mn[0],t.blockedOn===null);)Jd(t),t.blockedOn===null&&mn.shift()}var St=un.ReactCurrentBatchConfig,Ii=!0;function fh(n,e,t,o){var i=H,s=St.transition;St.transition=null;try{H=1,_s(n,e,t,o)}finally{H=i,St.transition=s}}function ph(n,e,t,o){var i=H,s=St.transition;St.transition=null;try{H=4,_s(n,e,t,o)}finally{H=i,St.transition=s}}function _s(n,e,t,o){if(Ii){var i=Tl(n,e,t,o);if(i===null)Vr(n,e,o,ki,t),wa(n,o);else if(ch(i,n,e,t,o))o.stopPropagation();else if(wa(n,o),e&4&&-1<uh.indexOf(n)){for(;i!==null;){var s=Go(i);if(s!==null&&$d(s),s=Tl(n,e,t,o),s===null&&Vr(n,e,o,ki,t),s===i)break;i=s}i!==null&&o.stopPropagation()}else Vr(n,e,o,null,t)}}var ki=null;function Tl(n,e,t,o){if(ki=null,n=Ts(o),n=Bn(n),n!==null)if(e=jn(n),e===null)n=null;else if(t=e.tag,t===13){if(n=Pd(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return ki=n,null}function Wd(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(eh()){case xs:return 1;case Fd:return 4;case wi:case nh:return 16;case Vd:return 536870912;default:return 16}default:return 16}}var gn=null,ws=null,di=null;function Kd(){if(di)return di;var n,e=ws,t=e.length,o,i="value"in gn?gn.value:gn.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var a=t-n;for(o=1;o<=a&&e[t-o]===i[s-o];o++);return di=i.slice(n,1<o?1-o:void 0)}function fi(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function bo(){return!0}function Ia(){return!1}function Re(n){function e(t,o,i,s,a){this._reactName=t,this._targetInst=i,this.type=o,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var u in n)n.hasOwnProperty(u)&&(t=n[u],this[u]=t?t(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?bo:Ia,this.isPropagationStopped=Ia,this}return Z(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=bo)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=bo)},persist:function(){},isPersistent:bo}),e}var Ft={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ms=Re(Ft),Vo=Z({},Ft,{view:0,detail:0}),mh=Re(Vo),kr,Ar,Ot,er=Z({},Vo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Is,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Ot&&(Ot&&n.type==="mousemove"?(kr=n.screenX-Ot.screenX,Ar=n.screenY-Ot.screenY):Ar=kr=0,Ot=n),kr)},movementY:function(n){return"movementY"in n?n.movementY:Ar}}),ka=Re(er),hh=Z({},er,{dataTransfer:0}),gh=Re(hh),yh=Z({},Vo,{relatedTarget:0}),Nr=Re(yh),vh=Z({},Ft,{animationName:0,elapsedTime:0,pseudoElement:0}),Ch=Re(vh),Th=Z({},Ft,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),xh=Re(Th),Sh=Z({},Ft,{data:0}),Aa=Re(Sh),Eh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_h={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Mh(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=wh[n])?!!e[n]:!1}function Is(){return Mh}var Ih=Z({},Vo,{key:function(n){if(n.key){var e=Eh[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=fi(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?_h[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Is,charCode:function(n){return n.type==="keypress"?fi(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?fi(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),kh=Re(Ih),Ah=Z({},er,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Na=Re(Ah),Nh=Z({},Vo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Is}),Rh=Re(Nh),Ph=Z({},Ft,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dh=Re(Ph),Lh=Z({},er,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Uh=Re(Lh),Fh=[9,13,27,32],ks=rn&&"CompositionEvent"in window,lo=null;rn&&"documentMode"in document&&(lo=document.documentMode);var Vh=rn&&"TextEvent"in window&&!lo,Yd=rn&&(!ks||lo&&8<lo&&11>=lo),Ra=String.fromCharCode(32),Pa=!1;function Od(n,e){switch(n){case"keyup":return Fh.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qd(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var st=!1;function Gh(n,e){switch(n){case"compositionend":return Qd(e);case"keypress":return e.which!==32?null:(Pa=!0,Ra);case"textInput":return n=e.data,n===Ra&&Pa?null:n;default:return null}}function Bh(n,e){if(st)return n==="compositionend"||!ks&&Od(n,e)?(n=Kd(),di=ws=gn=null,st=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Yd&&e.locale!=="ko"?null:e.data;default:return null}}var $h={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Da(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!$h[n.type]:e==="textarea"}function bd(n,e,t,o){Id(o),e=Ai(e,"onChange"),0<e.length&&(t=new Ms("onChange","change",null,t,o),n.push({event:t,listeners:e}))}var so=null,xo=null;function qh(n){af(n,0)}function nr(n){var e=ct(n);if(Td(e))return n}function Hh(n,e){if(n==="change")return e}var Xd=!1;if(rn){var Rr;if(rn){var Pr="oninput"in document;if(!Pr){var La=document.createElement("div");La.setAttribute("oninput","return;"),Pr=typeof La.oninput=="function"}Rr=Pr}else Rr=!1;Xd=Rr&&(!document.documentMode||9<document.documentMode)}function Ua(){so&&(so.detachEvent("onpropertychange",Zd),xo=so=null)}function Zd(n){if(n.propertyName==="value"&&nr(xo)){var e=[];bd(e,xo,n,Ts(n)),Rd(qh,e)}}function zh(n,e,t){n==="focusin"?(Ua(),so=e,xo=t,so.attachEvent("onpropertychange",Zd)):n==="focusout"&&Ua()}function Jh(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return nr(xo)}function Wh(n,e){if(n==="click")return nr(e)}function Kh(n,e){if(n==="input"||n==="change")return nr(e)}function Yh(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Ke=typeof Object.is=="function"?Object.is:Yh;function So(n,e){if(Ke(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),o=Object.keys(e);if(t.length!==o.length)return!1;for(o=0;o<t.length;o++){var i=t[o];if(!tl.call(e,i)||!Ke(n[i],e[i]))return!1}return!0}function Fa(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function Va(n,e){var t=Fa(n);n=0;for(var o;t;){if(t.nodeType===3){if(o=n+t.textContent.length,n<=e&&o>=e)return{node:t,offset:e-n};n=o}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=Fa(t)}}function jd(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?jd(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function ef(){for(var n=window,e=Si();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=Si(n.document)}return e}function As(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function Oh(n){var e=ef(),t=n.focusedElem,o=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&jd(t.ownerDocument.documentElement,t)){if(o!==null&&As(t)){if(e=o.start,n=o.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(o.start,i);o=o.end===void 0?s:Math.min(o.end,i),!n.extend&&s>o&&(i=o,o=s,s=i),i=Va(t,s);var a=Va(t,o);i&&a&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==a.node||n.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>o?(n.addRange(e),n.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var Qh=rn&&"documentMode"in document&&11>=document.documentMode,at=null,xl=null,ao=null,Sl=!1;function Ga(n,e,t){var o=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Sl||at==null||at!==Si(o)||(o=at,"selectionStart"in o&&As(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),ao&&So(ao,o)||(ao=o,o=Ai(xl,"onSelect"),0<o.length&&(e=new Ms("onSelect","select",null,e,t),n.push({event:e,listeners:o}),e.target=at)))}function Xo(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var ut={animationend:Xo("Animation","AnimationEnd"),animationiteration:Xo("Animation","AnimationIteration"),animationstart:Xo("Animation","AnimationStart"),transitionend:Xo("Transition","TransitionEnd")},Dr={},nf={};rn&&(nf=document.createElement("div").style,"AnimationEvent"in window||(delete ut.animationend.animation,delete ut.animationiteration.animation,delete ut.animationstart.animation),"TransitionEvent"in window||delete ut.transitionend.transition);function tr(n){if(Dr[n])return Dr[n];if(!ut[n])return n;var e=ut[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in nf)return Dr[n]=e[t];return n}var tf=tr("animationend"),of=tr("animationiteration"),rf=tr("animationstart"),lf=tr("transitionend"),sf=new Map,Ba="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(n,e){sf.set(n,e),Zn(e,[n])}for(var Lr=0;Lr<Ba.length;Lr++){var Ur=Ba[Lr],bh=Ur.toLowerCase(),Xh=Ur[0].toUpperCase()+Ur.slice(1);Nn(bh,"on"+Xh)}Nn(tf,"onAnimationEnd");Nn(of,"onAnimationIteration");Nn(rf,"onAnimationStart");Nn("dblclick","onDoubleClick");Nn("focusin","onFocus");Nn("focusout","onBlur");Nn(lf,"onTransitionEnd");kt("onMouseEnter",["mouseout","mouseover"]);kt("onMouseLeave",["mouseout","mouseover"]);kt("onPointerEnter",["pointerout","pointerover"]);kt("onPointerLeave",["pointerout","pointerover"]);Zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Zn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var to="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zh=new Set("cancel close invalid load scroll toggle".split(" ").concat(to));function $a(n,e,t){var o=n.type||"unknown-event";n.currentTarget=t,bm(o,e,void 0,n),n.currentTarget=null}function af(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var o=n[t],i=o.event;o=o.listeners;e:{var s=void 0;if(e)for(var a=o.length-1;0<=a;a--){var u=o[a],c=u.instance,d=u.currentTarget;if(u=u.listener,c!==s&&i.isPropagationStopped())break e;$a(i,u,d),s=c}else for(a=0;a<o.length;a++){if(u=o[a],c=u.instance,d=u.currentTarget,u=u.listener,c!==s&&i.isPropagationStopped())break e;$a(i,u,d),s=c}}}if(_i)throw n=yl,_i=!1,yl=null,n}function K(n,e){var t=e[Il];t===void 0&&(t=e[Il]=new Set);var o=n+"__bubble";t.has(o)||(uf(e,n,2,!1),t.add(o))}function Fr(n,e,t){var o=0;e&&(o|=4),uf(t,n,o,e)}var Zo="_reactListening"+Math.random().toString(36).slice(2);function Eo(n){if(!n[Zo]){n[Zo]=!0,hd.forEach(function(t){t!=="selectionchange"&&(Zh.has(t)||Fr(t,!1,n),Fr(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[Zo]||(e[Zo]=!0,Fr("selectionchange",!1,e))}}function uf(n,e,t,o){switch(Wd(e)){case 1:var i=fh;break;case 4:i=ph;break;default:i=_s}t=i.bind(null,e,t,n),i=void 0,!gl||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),o?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function Vr(n,e,t,o,i){var s=o;if(!(e&1)&&!(e&2)&&o!==null)e:for(;;){if(o===null)return;var a=o.tag;if(a===3||a===4){var u=o.stateNode.containerInfo;if(u===i||u.nodeType===8&&u.parentNode===i)break;if(a===4)for(a=o.return;a!==null;){var c=a.tag;if((c===3||c===4)&&(c=a.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;a=a.return}for(;u!==null;){if(a=Bn(u),a===null)return;if(c=a.tag,c===5||c===6){o=s=a;continue e}u=u.parentNode}}o=o.return}Rd(function(){var d=s,f=Ts(t),p=[];e:{var m=sf.get(n);if(m!==void 0){var y=Ms,T=n;switch(n){case"keypress":if(fi(t)===0)break e;case"keydown":case"keyup":y=kh;break;case"focusin":T="focus",y=Nr;break;case"focusout":T="blur",y=Nr;break;case"beforeblur":case"afterblur":y=Nr;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=ka;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=gh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=Rh;break;case tf:case of:case rf:y=Ch;break;case lf:y=Dh;break;case"scroll":y=mh;break;case"wheel":y=Uh;break;case"copy":case"cut":case"paste":y=xh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=Na}var x=(e&4)!==0,_=!x&&n==="scroll",v=x?m!==null?m+"Capture":null:m;x=[];for(var g=d,C;g!==null;){C=g;var S=C.stateNode;if(C.tag===5&&S!==null&&(C=S,v!==null&&(S=yo(g,v),S!=null&&x.push(_o(g,S,C)))),_)break;g=g.return}0<x.length&&(m=new y(m,T,null,t,f),p.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=n==="mouseover"||n==="pointerover",y=n==="mouseout"||n==="pointerout",m&&t!==ml&&(T=t.relatedTarget||t.fromElement)&&(Bn(T)||T[ln]))break e;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(T=t.relatedTarget||t.toElement,y=d,T=T?Bn(T):null,T!==null&&(_=jn(T),T!==_||T.tag!==5&&T.tag!==6)&&(T=null)):(y=null,T=d),y!==T)){if(x=ka,S="onMouseLeave",v="onMouseEnter",g="mouse",(n==="pointerout"||n==="pointerover")&&(x=Na,S="onPointerLeave",v="onPointerEnter",g="pointer"),_=y==null?m:ct(y),C=T==null?m:ct(T),m=new x(S,g+"leave",y,t,f),m.target=_,m.relatedTarget=C,S=null,Bn(f)===d&&(x=new x(v,g+"enter",T,t,f),x.target=C,x.relatedTarget=_,S=x),_=S,y&&T)n:{for(x=y,v=T,g=0,C=x;C;C=ot(C))g++;for(C=0,S=v;S;S=ot(S))C++;for(;0<g-C;)x=ot(x),g--;for(;0<C-g;)v=ot(v),C--;for(;g--;){if(x===v||v!==null&&x===v.alternate)break n;x=ot(x),v=ot(v)}x=null}else x=null;y!==null&&qa(p,m,y,x,!1),T!==null&&_!==null&&qa(p,_,T,x,!0)}}e:{if(m=d?ct(d):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var w=Hh;else if(Da(m))if(Xd)w=Kh;else{w=Jh;var E=zh}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(w=Wh);if(w&&(w=w(n,d))){bd(p,w,t,f);break e}E&&E(n,m,d),n==="focusout"&&(E=m._wrapperState)&&E.controlled&&m.type==="number"&&ul(m,"number",m.value)}switch(E=d?ct(d):window,n){case"focusin":(Da(E)||E.contentEditable==="true")&&(at=E,xl=d,ao=null);break;case"focusout":ao=xl=at=null;break;case"mousedown":Sl=!0;break;case"contextmenu":case"mouseup":case"dragend":Sl=!1,Ga(p,t,f);break;case"selectionchange":if(Qh)break;case"keydown":case"keyup":Ga(p,t,f)}var M;if(ks)e:{switch(n){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else st?Od(n,t)&&(R="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(R="onCompositionStart");R&&(Yd&&t.locale!=="ko"&&(st||R!=="onCompositionStart"?R==="onCompositionEnd"&&st&&(M=Kd()):(gn=f,ws="value"in gn?gn.value:gn.textContent,st=!0)),E=Ai(d,R),0<E.length&&(R=new Aa(R,n,null,t,f),p.push({event:R,listeners:E}),M?R.data=M:(M=Qd(t),M!==null&&(R.data=M)))),(M=Vh?Gh(n,t):Bh(n,t))&&(d=Ai(d,"onBeforeInput"),0<d.length&&(f=new Aa("onBeforeInput","beforeinput",null,t,f),p.push({event:f,listeners:d}),f.data=M))}af(p,e)})}function _o(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Ai(n,e){for(var t=e+"Capture",o=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=yo(n,t),s!=null&&o.unshift(_o(n,s,i)),s=yo(n,e),s!=null&&o.push(_o(n,s,i))),n=n.return}return o}function ot(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function qa(n,e,t,o,i){for(var s=e._reactName,a=[];t!==null&&t!==o;){var u=t,c=u.alternate,d=u.stateNode;if(c!==null&&c===o)break;u.tag===5&&d!==null&&(u=d,i?(c=yo(t,s),c!=null&&a.unshift(_o(t,c,u))):i||(c=yo(t,s),c!=null&&a.push(_o(t,c,u)))),t=t.return}a.length!==0&&n.push({event:e,listeners:a})}var jh=/\r\n?/g,eg=/\u0000|\uFFFD/g;function Ha(n){return(typeof n=="string"?n:""+n).replace(jh,`
`).replace(eg,"")}function jo(n,e,t){if(e=Ha(e),Ha(n)!==e&&t)throw Error(N(425))}function Ni(){}var El=null,_l=null;function wl(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ml=typeof setTimeout=="function"?setTimeout:void 0,ng=typeof clearTimeout=="function"?clearTimeout:void 0,za=typeof Promise=="function"?Promise:void 0,tg=typeof queueMicrotask=="function"?queueMicrotask:typeof za<"u"?function(n){return za.resolve(null).then(n).catch(og)}:Ml;function og(n){setTimeout(function(){throw n})}function Gr(n,e){var t=e,o=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(o===0){n.removeChild(i),To(e);return}o--}else t!=="$"&&t!=="$?"&&t!=="$!"||o++;t=i}while(t);To(e)}function En(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function Ja(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var Vt=Math.random().toString(36).slice(2),be="__reactFiber$"+Vt,wo="__reactProps$"+Vt,ln="__reactContainer$"+Vt,Il="__reactEvents$"+Vt,ig="__reactListeners$"+Vt,rg="__reactHandles$"+Vt;function Bn(n){var e=n[be];if(e)return e;for(var t=n.parentNode;t;){if(e=t[ln]||t[be]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=Ja(n);n!==null;){if(t=n[be])return t;n=Ja(n)}return e}n=t,t=n.parentNode}return null}function Go(n){return n=n[be]||n[ln],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ct(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(N(33))}function or(n){return n[wo]||null}var kl=[],dt=-1;function Rn(n){return{current:n}}function O(n){0>dt||(n.current=kl[dt],kl[dt]=null,dt--)}function J(n,e){dt++,kl[dt]=n.current,n.current=e}var An={},ge=Rn(An),Ee=Rn(!1),Kn=An;function At(n,e){var t=n.type.contextTypes;if(!t)return An;var o=n.stateNode;if(o&&o.__reactInternalMemoizedUnmaskedChildContext===e)return o.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function _e(n){return n=n.childContextTypes,n!=null}function Ri(){O(Ee),O(ge)}function Wa(n,e,t){if(ge.current!==An)throw Error(N(168));J(ge,e),J(Ee,t)}function cf(n,e,t){var o=n.stateNode;if(e=e.childContextTypes,typeof o.getChildContext!="function")return t;o=o.getChildContext();for(var i in o)if(!(i in e))throw Error(N(108,zm(n)||"Unknown",i));return Z({},t,o)}function Pi(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||An,Kn=ge.current,J(ge,n),J(Ee,Ee.current),!0}function Ka(n,e,t){var o=n.stateNode;if(!o)throw Error(N(169));t?(n=cf(n,e,Kn),o.__reactInternalMemoizedMergedChildContext=n,O(Ee),O(ge),J(ge,n)):O(Ee),J(Ee,t)}var en=null,ir=!1,Br=!1;function df(n){en===null?en=[n]:en.push(n)}function lg(n){ir=!0,df(n)}function Pn(){if(!Br&&en!==null){Br=!0;var n=0,e=H;try{var t=en;for(H=1;n<t.length;n++){var o=t[n];do o=o(!0);while(o!==null)}en=null,ir=!1}catch(i){throw en!==null&&(en=en.slice(n+1)),Ud(xs,Pn),i}finally{H=e,Br=!1}}return null}var ft=[],pt=0,Di=null,Li=0,Pe=[],De=0,Yn=null,nn=1,tn="";function Fn(n,e){ft[pt++]=Li,ft[pt++]=Di,Di=n,Li=e}function ff(n,e,t){Pe[De++]=nn,Pe[De++]=tn,Pe[De++]=Yn,Yn=n;var o=nn;n=tn;var i=32-Je(o)-1;o&=~(1<<i),t+=1;var s=32-Je(e)+i;if(30<s){var a=i-i%5;s=(o&(1<<a)-1).toString(32),o>>=a,i-=a,nn=1<<32-Je(e)+i|t<<i|o,tn=s+n}else nn=1<<s|t<<i|o,tn=n}function Ns(n){n.return!==null&&(Fn(n,1),ff(n,1,0))}function Rs(n){for(;n===Di;)Di=ft[--pt],ft[pt]=null,Li=ft[--pt],ft[pt]=null;for(;n===Yn;)Yn=Pe[--De],Pe[De]=null,tn=Pe[--De],Pe[De]=null,nn=Pe[--De],Pe[De]=null}var ke=null,Ie=null,Q=!1,ze=null;function pf(n,e){var t=Le(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function Ya(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ke=n,Ie=En(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ke=n,Ie=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=Yn!==null?{id:nn,overflow:tn}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=Le(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ke=n,Ie=null,!0):!1;default:return!1}}function Al(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Nl(n){if(Q){var e=Ie;if(e){var t=e;if(!Ya(n,e)){if(Al(n))throw Error(N(418));e=En(t.nextSibling);var o=ke;e&&Ya(n,e)?pf(o,t):(n.flags=n.flags&-4097|2,Q=!1,ke=n)}}else{if(Al(n))throw Error(N(418));n.flags=n.flags&-4097|2,Q=!1,ke=n}}}function Oa(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ke=n}function ei(n){if(n!==ke)return!1;if(!Q)return Oa(n),Q=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!wl(n.type,n.memoizedProps)),e&&(e=Ie)){if(Al(n))throw mf(),Error(N(418));for(;e;)pf(n,e),e=En(e.nextSibling)}if(Oa(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(N(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){Ie=En(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}Ie=null}}else Ie=ke?En(n.stateNode.nextSibling):null;return!0}function mf(){for(var n=Ie;n;)n=En(n.nextSibling)}function Nt(){Ie=ke=null,Q=!1}function Ps(n){ze===null?ze=[n]:ze.push(n)}var sg=un.ReactCurrentBatchConfig;function Qt(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(N(309));var o=t.stateNode}if(!o)throw Error(N(147,n));var i=o,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var u=i.refs;a===null?delete u[s]:u[s]=a},e._stringRef=s,e)}if(typeof n!="string")throw Error(N(284));if(!t._owner)throw Error(N(290,n))}return n}function ni(n,e){throw n=Object.prototype.toString.call(e),Error(N(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function Qa(n){var e=n._init;return e(n._payload)}function hf(n){function e(v,g){if(n){var C=v.deletions;C===null?(v.deletions=[g],v.flags|=16):C.push(g)}}function t(v,g){if(!n)return null;for(;g!==null;)e(v,g),g=g.sibling;return null}function o(v,g){for(v=new Map;g!==null;)g.key!==null?v.set(g.key,g):v.set(g.index,g),g=g.sibling;return v}function i(v,g){return v=In(v,g),v.index=0,v.sibling=null,v}function s(v,g,C){return v.index=C,n?(C=v.alternate,C!==null?(C=C.index,C<g?(v.flags|=2,g):C):(v.flags|=2,g)):(v.flags|=1048576,g)}function a(v){return n&&v.alternate===null&&(v.flags|=2),v}function u(v,g,C,S){return g===null||g.tag!==6?(g=Kr(C,v.mode,S),g.return=v,g):(g=i(g,C),g.return=v,g)}function c(v,g,C,S){var w=C.type;return w===lt?f(v,g,C.props.children,S,C.key):g!==null&&(g.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===fn&&Qa(w)===g.type)?(S=i(g,C.props),S.ref=Qt(v,g,C),S.return=v,S):(S=Ci(C.type,C.key,C.props,null,v.mode,S),S.ref=Qt(v,g,C),S.return=v,S)}function d(v,g,C,S){return g===null||g.tag!==4||g.stateNode.containerInfo!==C.containerInfo||g.stateNode.implementation!==C.implementation?(g=Yr(C,v.mode,S),g.return=v,g):(g=i(g,C.children||[]),g.return=v,g)}function f(v,g,C,S,w){return g===null||g.tag!==7?(g=zn(C,v.mode,S,w),g.return=v,g):(g=i(g,C),g.return=v,g)}function p(v,g,C){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Kr(""+g,v.mode,C),g.return=v,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Jo:return C=Ci(g.type,g.key,g.props,null,v.mode,C),C.ref=Qt(v,null,g),C.return=v,C;case rt:return g=Yr(g,v.mode,C),g.return=v,g;case fn:var S=g._init;return p(v,S(g._payload),C)}if(eo(g)||Jt(g))return g=zn(g,v.mode,C,null),g.return=v,g;ni(v,g)}return null}function m(v,g,C,S){var w=g!==null?g.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return w!==null?null:u(v,g,""+C,S);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Jo:return C.key===w?c(v,g,C,S):null;case rt:return C.key===w?d(v,g,C,S):null;case fn:return w=C._init,m(v,g,w(C._payload),S)}if(eo(C)||Jt(C))return w!==null?null:f(v,g,C,S,null);ni(v,C)}return null}function y(v,g,C,S,w){if(typeof S=="string"&&S!==""||typeof S=="number")return v=v.get(C)||null,u(g,v,""+S,w);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Jo:return v=v.get(S.key===null?C:S.key)||null,c(g,v,S,w);case rt:return v=v.get(S.key===null?C:S.key)||null,d(g,v,S,w);case fn:var E=S._init;return y(v,g,C,E(S._payload),w)}if(eo(S)||Jt(S))return v=v.get(C)||null,f(g,v,S,w,null);ni(g,S)}return null}function T(v,g,C,S){for(var w=null,E=null,M=g,R=g=0,k=null;M!==null&&R<C.length;R++){M.index>R?(k=M,M=null):k=M.sibling;var I=m(v,M,C[R],S);if(I===null){M===null&&(M=k);break}n&&M&&I.alternate===null&&e(v,M),g=s(I,g,R),E===null?w=I:E.sibling=I,E=I,M=k}if(R===C.length)return t(v,M),Q&&Fn(v,R),w;if(M===null){for(;R<C.length;R++)M=p(v,C[R],S),M!==null&&(g=s(M,g,R),E===null?w=M:E.sibling=M,E=M);return Q&&Fn(v,R),w}for(M=o(v,M);R<C.length;R++)k=y(M,v,R,C[R],S),k!==null&&(n&&k.alternate!==null&&M.delete(k.key===null?R:k.key),g=s(k,g,R),E===null?w=k:E.sibling=k,E=k);return n&&M.forEach(function(P){return e(v,P)}),Q&&Fn(v,R),w}function x(v,g,C,S){var w=Jt(C);if(typeof w!="function")throw Error(N(150));if(C=w.call(C),C==null)throw Error(N(151));for(var E=w=null,M=g,R=g=0,k=null,I=C.next();M!==null&&!I.done;R++,I=C.next()){M.index>R?(k=M,M=null):k=M.sibling;var P=m(v,M,I.value,S);if(P===null){M===null&&(M=k);break}n&&M&&P.alternate===null&&e(v,M),g=s(P,g,R),E===null?w=P:E.sibling=P,E=P,M=k}if(I.done)return t(v,M),Q&&Fn(v,R),w;if(M===null){for(;!I.done;R++,I=C.next())I=p(v,I.value,S),I!==null&&(g=s(I,g,R),E===null?w=I:E.sibling=I,E=I);return Q&&Fn(v,R),w}for(M=o(v,M);!I.done;R++,I=C.next())I=y(M,v,R,I.value,S),I!==null&&(n&&I.alternate!==null&&M.delete(I.key===null?R:I.key),g=s(I,g,R),E===null?w=I:E.sibling=I,E=I);return n&&M.forEach(function(q){return e(v,q)}),Q&&Fn(v,R),w}function _(v,g,C,S){if(typeof C=="object"&&C!==null&&C.type===lt&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Jo:e:{for(var w=C.key,E=g;E!==null;){if(E.key===w){if(w=C.type,w===lt){if(E.tag===7){t(v,E.sibling),g=i(E,C.props.children),g.return=v,v=g;break e}}else if(E.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===fn&&Qa(w)===E.type){t(v,E.sibling),g=i(E,C.props),g.ref=Qt(v,E,C),g.return=v,v=g;break e}t(v,E);break}else e(v,E);E=E.sibling}C.type===lt?(g=zn(C.props.children,v.mode,S,C.key),g.return=v,v=g):(S=Ci(C.type,C.key,C.props,null,v.mode,S),S.ref=Qt(v,g,C),S.return=v,v=S)}return a(v);case rt:e:{for(E=C.key;g!==null;){if(g.key===E)if(g.tag===4&&g.stateNode.containerInfo===C.containerInfo&&g.stateNode.implementation===C.implementation){t(v,g.sibling),g=i(g,C.children||[]),g.return=v,v=g;break e}else{t(v,g);break}else e(v,g);g=g.sibling}g=Yr(C,v.mode,S),g.return=v,v=g}return a(v);case fn:return E=C._init,_(v,g,E(C._payload),S)}if(eo(C))return T(v,g,C,S);if(Jt(C))return x(v,g,C,S);ni(v,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,g!==null&&g.tag===6?(t(v,g.sibling),g=i(g,C),g.return=v,v=g):(t(v,g),g=Kr(C,v.mode,S),g.return=v,v=g),a(v)):t(v,g)}return _}var Rt=hf(!0),gf=hf(!1),Ui=Rn(null),Fi=null,mt=null,Ds=null;function Ls(){Ds=mt=Fi=null}function Us(n){var e=Ui.current;O(Ui),n._currentValue=e}function Rl(n,e,t){for(;n!==null;){var o=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,o!==null&&(o.childLanes|=e)):o!==null&&(o.childLanes&e)!==e&&(o.childLanes|=e),n===t)break;n=n.return}}function Et(n,e){Fi=n,Ds=mt=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(Se=!0),n.firstContext=null)}function Ve(n){var e=n._currentValue;if(Ds!==n)if(n={context:n,memoizedValue:e,next:null},mt===null){if(Fi===null)throw Error(N(308));mt=n,Fi.dependencies={lanes:0,firstContext:n}}else mt=mt.next=n;return e}var $n=null;function Fs(n){$n===null?$n=[n]:$n.push(n)}function yf(n,e,t,o){var i=e.interleaved;return i===null?(t.next=t,Fs(e)):(t.next=i.next,i.next=t),e.interleaved=t,sn(n,o)}function sn(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var pn=!1;function Vs(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vf(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function on(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function _n(n,e,t){var o=n.updateQueue;if(o===null)return null;if(o=o.shared,B&2){var i=o.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),o.pending=e,sn(n,t)}return i=o.interleaved,i===null?(e.next=e,Fs(o)):(e.next=i.next,i.next=e),o.interleaved=e,sn(n,t)}function pi(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var o=e.lanes;o&=n.pendingLanes,t|=o,e.lanes=t,Ss(n,t)}}function ba(n,e){var t=n.updateQueue,o=n.alternate;if(o!==null&&(o=o.updateQueue,t===o)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var a={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=a:s=s.next=a,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:o.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:o.shared,effects:o.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function Vi(n,e,t,o){var i=n.updateQueue;pn=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,u=i.shared.pending;if(u!==null){i.shared.pending=null;var c=u,d=c.next;c.next=null,a===null?s=d:a.next=d,a=c;var f=n.alternate;f!==null&&(f=f.updateQueue,u=f.lastBaseUpdate,u!==a&&(u===null?f.firstBaseUpdate=d:u.next=d,f.lastBaseUpdate=c))}if(s!==null){var p=i.baseState;a=0,f=d=c=null,u=s;do{var m=u.lane,y=u.eventTime;if((o&m)===m){f!==null&&(f=f.next={eventTime:y,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var T=n,x=u;switch(m=e,y=t,x.tag){case 1:if(T=x.payload,typeof T=="function"){p=T.call(y,p,m);break e}p=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=x.payload,m=typeof T=="function"?T.call(y,p,m):T,m==null)break e;p=Z({},p,m);break e;case 2:pn=!0}}u.callback!==null&&u.lane!==0&&(n.flags|=64,m=i.effects,m===null?i.effects=[u]:m.push(u))}else y={eventTime:y,lane:m,tag:u.tag,payload:u.payload,callback:u.callback,next:null},f===null?(d=f=y,c=p):f=f.next=y,a|=m;if(u=u.next,u===null){if(u=i.shared.pending,u===null)break;m=u,u=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(f===null&&(c=p),i.baseState=c,i.firstBaseUpdate=d,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Qn|=a,n.lanes=a,n.memoizedState=p}}function Xa(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var o=n[e],i=o.callback;if(i!==null){if(o.callback=null,o=t,typeof i!="function")throw Error(N(191,i));i.call(o)}}}var Bo={},Ze=Rn(Bo),Mo=Rn(Bo),Io=Rn(Bo);function qn(n){if(n===Bo)throw Error(N(174));return n}function Gs(n,e){switch(J(Io,e),J(Mo,n),J(Ze,Bo),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dl(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=dl(e,n)}O(Ze),J(Ze,e)}function Pt(){O(Ze),O(Mo),O(Io)}function Cf(n){qn(Io.current);var e=qn(Ze.current),t=dl(e,n.type);e!==t&&(J(Mo,n),J(Ze,t))}function Bs(n){Mo.current===n&&(O(Ze),O(Mo))}var b=Rn(0);function Gi(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $r=[];function $s(){for(var n=0;n<$r.length;n++)$r[n]._workInProgressVersionPrimary=null;$r.length=0}var mi=un.ReactCurrentDispatcher,qr=un.ReactCurrentBatchConfig,On=0,X=null,oe=null,se=null,Bi=!1,uo=!1,ko=0,ag=0;function fe(){throw Error(N(321))}function qs(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Ke(n[t],e[t]))return!1;return!0}function Hs(n,e,t,o,i,s){if(On=s,X=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,mi.current=n===null||n.memoizedState===null?fg:pg,n=t(o,i),uo){s=0;do{if(uo=!1,ko=0,25<=s)throw Error(N(301));s+=1,se=oe=null,e.updateQueue=null,mi.current=mg,n=t(o,i)}while(uo)}if(mi.current=$i,e=oe!==null&&oe.next!==null,On=0,se=oe=X=null,Bi=!1,e)throw Error(N(300));return n}function zs(){var n=ko!==0;return ko=0,n}function Qe(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return se===null?X.memoizedState=se=n:se=se.next=n,se}function Ge(){if(oe===null){var n=X.alternate;n=n!==null?n.memoizedState:null}else n=oe.next;var e=se===null?X.memoizedState:se.next;if(e!==null)se=e,oe=n;else{if(n===null)throw Error(N(310));oe=n,n={memoizedState:oe.memoizedState,baseState:oe.baseState,baseQueue:oe.baseQueue,queue:oe.queue,next:null},se===null?X.memoizedState=se=n:se=se.next=n}return se}function Ao(n,e){return typeof e=="function"?e(n):e}function Hr(n){var e=Ge(),t=e.queue;if(t===null)throw Error(N(311));t.lastRenderedReducer=n;var o=oe,i=o.baseQueue,s=t.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}o.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,o=o.baseState;var u=a=null,c=null,d=s;do{var f=d.lane;if((On&f)===f)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),o=d.hasEagerState?d.eagerState:n(o,d.action);else{var p={lane:f,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(u=c=p,a=o):c=c.next=p,X.lanes|=f,Qn|=f}d=d.next}while(d!==null&&d!==s);c===null?a=o:c.next=u,Ke(o,e.memoizedState)||(Se=!0),e.memoizedState=o,e.baseState=a,e.baseQueue=c,t.lastRenderedState=o}if(n=t.interleaved,n!==null){i=n;do s=i.lane,X.lanes|=s,Qn|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function zr(n){var e=Ge(),t=e.queue;if(t===null)throw Error(N(311));t.lastRenderedReducer=n;var o=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var a=i=i.next;do s=n(s,a.action),a=a.next;while(a!==i);Ke(s,e.memoizedState)||(Se=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,o]}function Tf(){}function xf(n,e){var t=X,o=Ge(),i=e(),s=!Ke(o.memoizedState,i);if(s&&(o.memoizedState=i,Se=!0),o=o.queue,Js(_f.bind(null,t,o,n),[n]),o.getSnapshot!==e||s||se!==null&&se.memoizedState.tag&1){if(t.flags|=2048,No(9,Ef.bind(null,t,o,i,e),void 0,null),ae===null)throw Error(N(349));On&30||Sf(t,e,i)}return i}function Sf(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function Ef(n,e,t,o){e.value=t,e.getSnapshot=o,wf(e)&&Mf(n)}function _f(n,e,t){return t(function(){wf(e)&&Mf(n)})}function wf(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Ke(n,t)}catch{return!0}}function Mf(n){var e=sn(n,1);e!==null&&We(e,n,1,-1)}function Za(n){var e=Qe();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ao,lastRenderedState:n},e.queue=n,n=n.dispatch=dg.bind(null,X,n),[e.memoizedState,n]}function No(n,e,t,o){return n={tag:n,create:e,destroy:t,deps:o,next:null},e=X.updateQueue,e===null?(e={lastEffect:null,stores:null},X.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(o=t.next,t.next=n,n.next=o,e.lastEffect=n)),n}function If(){return Ge().memoizedState}function hi(n,e,t,o){var i=Qe();X.flags|=n,i.memoizedState=No(1|e,t,void 0,o===void 0?null:o)}function rr(n,e,t,o){var i=Ge();o=o===void 0?null:o;var s=void 0;if(oe!==null){var a=oe.memoizedState;if(s=a.destroy,o!==null&&qs(o,a.deps)){i.memoizedState=No(e,t,s,o);return}}X.flags|=n,i.memoizedState=No(1|e,t,s,o)}function ja(n,e){return hi(8390656,8,n,e)}function Js(n,e){return rr(2048,8,n,e)}function kf(n,e){return rr(4,2,n,e)}function Af(n,e){return rr(4,4,n,e)}function Nf(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function Rf(n,e,t){return t=t!=null?t.concat([n]):null,rr(4,4,Nf.bind(null,e,n),t)}function Ws(){}function Pf(n,e){var t=Ge();e=e===void 0?null:e;var o=t.memoizedState;return o!==null&&e!==null&&qs(e,o[1])?o[0]:(t.memoizedState=[n,e],n)}function Df(n,e){var t=Ge();e=e===void 0?null:e;var o=t.memoizedState;return o!==null&&e!==null&&qs(e,o[1])?o[0]:(n=n(),t.memoizedState=[n,e],n)}function Lf(n,e,t){return On&21?(Ke(t,e)||(t=Gd(),X.lanes|=t,Qn|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,Se=!0),n.memoizedState=t)}function ug(n,e){var t=H;H=t!==0&&4>t?t:4,n(!0);var o=qr.transition;qr.transition={};try{n(!1),e()}finally{H=t,qr.transition=o}}function Uf(){return Ge().memoizedState}function cg(n,e,t){var o=Mn(n);if(t={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null},Ff(n))Vf(e,t);else if(t=yf(n,e,t,o),t!==null){var i=ve();We(t,n,o,i),Gf(t,e,o)}}function dg(n,e,t){var o=Mn(n),i={lane:o,action:t,hasEagerState:!1,eagerState:null,next:null};if(Ff(n))Vf(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,u=s(a,t);if(i.hasEagerState=!0,i.eagerState=u,Ke(u,a)){var c=e.interleaved;c===null?(i.next=i,Fs(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}t=yf(n,e,i,o),t!==null&&(i=ve(),We(t,n,o,i),Gf(t,e,o))}}function Ff(n){var e=n.alternate;return n===X||e!==null&&e===X}function Vf(n,e){uo=Bi=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function Gf(n,e,t){if(t&4194240){var o=e.lanes;o&=n.pendingLanes,t|=o,e.lanes=t,Ss(n,t)}}var $i={readContext:Ve,useCallback:fe,useContext:fe,useEffect:fe,useImperativeHandle:fe,useInsertionEffect:fe,useLayoutEffect:fe,useMemo:fe,useReducer:fe,useRef:fe,useState:fe,useDebugValue:fe,useDeferredValue:fe,useTransition:fe,useMutableSource:fe,useSyncExternalStore:fe,useId:fe,unstable_isNewReconciler:!1},fg={readContext:Ve,useCallback:function(n,e){return Qe().memoizedState=[n,e===void 0?null:e],n},useContext:Ve,useEffect:ja,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,hi(4194308,4,Nf.bind(null,e,n),t)},useLayoutEffect:function(n,e){return hi(4194308,4,n,e)},useInsertionEffect:function(n,e){return hi(4,2,n,e)},useMemo:function(n,e){var t=Qe();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var o=Qe();return e=t!==void 0?t(e):e,o.memoizedState=o.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},o.queue=n,n=n.dispatch=cg.bind(null,X,n),[o.memoizedState,n]},useRef:function(n){var e=Qe();return n={current:n},e.memoizedState=n},useState:Za,useDebugValue:Ws,useDeferredValue:function(n){return Qe().memoizedState=n},useTransition:function(){var n=Za(!1),e=n[0];return n=ug.bind(null,n[1]),Qe().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var o=X,i=Qe();if(Q){if(t===void 0)throw Error(N(407));t=t()}else{if(t=e(),ae===null)throw Error(N(349));On&30||Sf(o,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,ja(_f.bind(null,o,s,n),[n]),o.flags|=2048,No(9,Ef.bind(null,o,s,t,e),void 0,null),t},useId:function(){var n=Qe(),e=ae.identifierPrefix;if(Q){var t=tn,o=nn;t=(o&~(1<<32-Je(o)-1)).toString(32)+t,e=":"+e+"R"+t,t=ko++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=ag++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},pg={readContext:Ve,useCallback:Pf,useContext:Ve,useEffect:Js,useImperativeHandle:Rf,useInsertionEffect:kf,useLayoutEffect:Af,useMemo:Df,useReducer:Hr,useRef:If,useState:function(){return Hr(Ao)},useDebugValue:Ws,useDeferredValue:function(n){var e=Ge();return Lf(e,oe.memoizedState,n)},useTransition:function(){var n=Hr(Ao)[0],e=Ge().memoizedState;return[n,e]},useMutableSource:Tf,useSyncExternalStore:xf,useId:Uf,unstable_isNewReconciler:!1},mg={readContext:Ve,useCallback:Pf,useContext:Ve,useEffect:Js,useImperativeHandle:Rf,useInsertionEffect:kf,useLayoutEffect:Af,useMemo:Df,useReducer:zr,useRef:If,useState:function(){return zr(Ao)},useDebugValue:Ws,useDeferredValue:function(n){var e=Ge();return oe===null?e.memoizedState=n:Lf(e,oe.memoizedState,n)},useTransition:function(){var n=zr(Ao)[0],e=Ge().memoizedState;return[n,e]},useMutableSource:Tf,useSyncExternalStore:xf,useId:Uf,unstable_isNewReconciler:!1};function qe(n,e){if(n&&n.defaultProps){e=Z({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Pl(n,e,t,o){e=n.memoizedState,t=t(o,e),t=t==null?e:Z({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var lr={isMounted:function(n){return(n=n._reactInternals)?jn(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var o=ve(),i=Mn(n),s=on(o,i);s.payload=e,t!=null&&(s.callback=t),e=_n(n,s,i),e!==null&&(We(e,n,i,o),pi(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var o=ve(),i=Mn(n),s=on(o,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=_n(n,s,i),e!==null&&(We(e,n,i,o),pi(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=ve(),o=Mn(n),i=on(t,o);i.tag=2,e!=null&&(i.callback=e),e=_n(n,i,o),e!==null&&(We(e,n,o,t),pi(e,n,o))}};function eu(n,e,t,o,i,s,a){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(o,s,a):e.prototype&&e.prototype.isPureReactComponent?!So(t,o)||!So(i,s):!0}function Bf(n,e,t){var o=!1,i=An,s=e.contextType;return typeof s=="object"&&s!==null?s=Ve(s):(i=_e(e)?Kn:ge.current,o=e.contextTypes,s=(o=o!=null)?At(n,i):An),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lr,n.stateNode=e,e._reactInternals=n,o&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function nu(n,e,t,o){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,o),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,o),e.state!==n&&lr.enqueueReplaceState(e,e.state,null)}function Dl(n,e,t,o){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},Vs(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ve(s):(s=_e(e)?Kn:ge.current,i.context=At(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Pl(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&lr.enqueueReplaceState(i,i.state,null),Vi(n,t,i,o),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function Dt(n,e){try{var t="",o=e;do t+=Hm(o),o=o.return;while(o);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function Jr(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function Ll(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var hg=typeof WeakMap=="function"?WeakMap:Map;function $f(n,e,t){t=on(-1,t),t.tag=3,t.payload={element:null};var o=e.value;return t.callback=function(){Hi||(Hi=!0,Jl=o),Ll(n,e)},t}function qf(n,e,t){t=on(-1,t),t.tag=3;var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var i=e.value;t.payload=function(){return o(i)},t.callback=function(){Ll(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){Ll(n,e),typeof o!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),t}function tu(n,e,t){var o=n.pingCache;if(o===null){o=n.pingCache=new hg;var i=new Set;o.set(e,i)}else i=o.get(e),i===void 0&&(i=new Set,o.set(e,i));i.has(t)||(i.add(t),n=Ag.bind(null,n,e,t),e.then(n,n))}function ou(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function iu(n,e,t,o,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=on(-1,1),e.tag=2,_n(t,e,1))),t.lanes|=1),n)}var gg=un.ReactCurrentOwner,Se=!1;function ye(n,e,t,o){e.child=n===null?gf(e,null,t,o):Rt(e,n.child,t,o)}function ru(n,e,t,o,i){t=t.render;var s=e.ref;return Et(e,i),o=Hs(n,e,t,o,s,i),t=zs(),n!==null&&!Se?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,an(n,e,i)):(Q&&t&&Ns(e),e.flags|=1,ye(n,e,o,i),e.child)}function lu(n,e,t,o,i){if(n===null){var s=t.type;return typeof s=="function"&&!js(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,Hf(n,e,s,o,i)):(n=Ci(t.type,null,o,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var a=s.memoizedProps;if(t=t.compare,t=t!==null?t:So,t(a,o)&&n.ref===e.ref)return an(n,e,i)}return e.flags|=1,n=In(s,o),n.ref=e.ref,n.return=e,e.child=n}function Hf(n,e,t,o,i){if(n!==null){var s=n.memoizedProps;if(So(s,o)&&n.ref===e.ref)if(Se=!1,e.pendingProps=o=s,(n.lanes&i)!==0)n.flags&131072&&(Se=!0);else return e.lanes=n.lanes,an(n,e,i)}return Ul(n,e,t,o,i)}function zf(n,e,t){var o=e.pendingProps,i=o.children,s=n!==null?n.memoizedState:null;if(o.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},J(gt,Me),Me|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,J(gt,Me),Me|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},o=s!==null?s.baseLanes:t,J(gt,Me),Me|=o}else s!==null?(o=s.baseLanes|t,e.memoizedState=null):o=t,J(gt,Me),Me|=o;return ye(n,e,i,t),e.child}function Jf(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function Ul(n,e,t,o,i){var s=_e(t)?Kn:ge.current;return s=At(e,s),Et(e,i),t=Hs(n,e,t,o,s,i),o=zs(),n!==null&&!Se?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,an(n,e,i)):(Q&&o&&Ns(e),e.flags|=1,ye(n,e,t,i),e.child)}function su(n,e,t,o,i){if(_e(t)){var s=!0;Pi(e)}else s=!1;if(Et(e,i),e.stateNode===null)gi(n,e),Bf(e,t,o),Dl(e,t,o,i),o=!0;else if(n===null){var a=e.stateNode,u=e.memoizedProps;a.props=u;var c=a.context,d=t.contextType;typeof d=="object"&&d!==null?d=Ve(d):(d=_e(t)?Kn:ge.current,d=At(e,d));var f=t.getDerivedStateFromProps,p=typeof f=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==o||c!==d)&&nu(e,a,o,d),pn=!1;var m=e.memoizedState;a.state=m,Vi(e,o,a,i),c=e.memoizedState,u!==o||m!==c||Ee.current||pn?(typeof f=="function"&&(Pl(e,t,f,o),c=e.memoizedState),(u=pn||eu(e,t,u,o,m,c,d))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=o,e.memoizedState=c),a.props=o,a.state=c,a.context=d,o=u):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),o=!1)}else{a=e.stateNode,vf(n,e),u=e.memoizedProps,d=e.type===e.elementType?u:qe(e.type,u),a.props=d,p=e.pendingProps,m=a.context,c=t.contextType,typeof c=="object"&&c!==null?c=Ve(c):(c=_e(t)?Kn:ge.current,c=At(e,c));var y=t.getDerivedStateFromProps;(f=typeof y=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(u!==p||m!==c)&&nu(e,a,o,c),pn=!1,m=e.memoizedState,a.state=m,Vi(e,o,a,i);var T=e.memoizedState;u!==p||m!==T||Ee.current||pn?(typeof y=="function"&&(Pl(e,t,y,o),T=e.memoizedState),(d=pn||eu(e,t,d,o,m,T,c)||!1)?(f||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(o,T,c),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(o,T,c)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),e.memoizedProps=o,e.memoizedState=T),a.props=o,a.state=T,a.context=c,o=d):(typeof a.componentDidUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||u===n.memoizedProps&&m===n.memoizedState||(e.flags|=1024),o=!1)}return Fl(n,e,t,o,s,i)}function Fl(n,e,t,o,i,s){Jf(n,e);var a=(e.flags&128)!==0;if(!o&&!a)return i&&Ka(e,t,!1),an(n,e,s);o=e.stateNode,gg.current=e;var u=a&&typeof t.getDerivedStateFromError!="function"?null:o.render();return e.flags|=1,n!==null&&a?(e.child=Rt(e,n.child,null,s),e.child=Rt(e,null,u,s)):ye(n,e,u,s),e.memoizedState=o.state,i&&Ka(e,t,!0),e.child}function Wf(n){var e=n.stateNode;e.pendingContext?Wa(n,e.pendingContext,e.pendingContext!==e.context):e.context&&Wa(n,e.context,!1),Gs(n,e.containerInfo)}function au(n,e,t,o,i){return Nt(),Ps(i),e.flags|=256,ye(n,e,t,o),e.child}var Vl={dehydrated:null,treeContext:null,retryLane:0};function Gl(n){return{baseLanes:n,cachePool:null,transitions:null}}function Kf(n,e,t){var o=e.pendingProps,i=b.current,s=!1,a=(e.flags&128)!==0,u;if((u=a)||(u=n!==null&&n.memoizedState===null?!1:(i&2)!==0),u?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),J(b,i&1),n===null)return Nl(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=o.children,n=o.fallback,s?(o=e.mode,s=e.child,a={mode:"hidden",children:a},!(o&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=ur(a,o,0,null),n=zn(n,o,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=Gl(t),e.memoizedState=Vl,n):Ks(e,a));if(i=n.memoizedState,i!==null&&(u=i.dehydrated,u!==null))return yg(n,e,a,o,u,i,t);if(s){s=o.fallback,a=e.mode,i=n.child,u=i.sibling;var c={mode:"hidden",children:o.children};return!(a&1)&&e.child!==i?(o=e.child,o.childLanes=0,o.pendingProps=c,e.deletions=null):(o=In(i,c),o.subtreeFlags=i.subtreeFlags&14680064),u!==null?s=In(u,s):(s=zn(s,a,t,null),s.flags|=2),s.return=e,o.return=e,o.sibling=s,e.child=o,o=s,s=e.child,a=n.child.memoizedState,a=a===null?Gl(t):{baseLanes:a.baseLanes|t,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=n.childLanes&~t,e.memoizedState=Vl,o}return s=n.child,n=s.sibling,o=In(s,{mode:"visible",children:o.children}),!(e.mode&1)&&(o.lanes=t),o.return=e,o.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=o,e.memoizedState=null,o}function Ks(n,e){return e=ur({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function ti(n,e,t,o){return o!==null&&Ps(o),Rt(e,n.child,null,t),n=Ks(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function yg(n,e,t,o,i,s,a){if(t)return e.flags&256?(e.flags&=-257,o=Jr(Error(N(422))),ti(n,e,a,o)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=o.fallback,i=e.mode,o=ur({mode:"visible",children:o.children},i,0,null),s=zn(s,i,a,null),s.flags|=2,o.return=e,s.return=e,o.sibling=s,e.child=o,e.mode&1&&Rt(e,n.child,null,a),e.child.memoizedState=Gl(a),e.memoizedState=Vl,s);if(!(e.mode&1))return ti(n,e,a,null);if(i.data==="$!"){if(o=i.nextSibling&&i.nextSibling.dataset,o)var u=o.dgst;return o=u,s=Error(N(419)),o=Jr(s,o,void 0),ti(n,e,a,o)}if(u=(a&n.childLanes)!==0,Se||u){if(o=ae,o!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(o.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,sn(n,i),We(o,n,i,-1))}return Zs(),o=Jr(Error(N(421))),ti(n,e,a,o)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=Ng.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,Ie=En(i.nextSibling),ke=e,Q=!0,ze=null,n!==null&&(Pe[De++]=nn,Pe[De++]=tn,Pe[De++]=Yn,nn=n.id,tn=n.overflow,Yn=e),e=Ks(e,o.children),e.flags|=4096,e)}function uu(n,e,t){n.lanes|=e;var o=n.alternate;o!==null&&(o.lanes|=e),Rl(n.return,e,t)}function Wr(n,e,t,o,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:o,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=o,s.tail=t,s.tailMode=i)}function Yf(n,e,t){var o=e.pendingProps,i=o.revealOrder,s=o.tail;if(ye(n,e,o.children,t),o=b.current,o&2)o=o&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&uu(n,t,e);else if(n.tag===19)uu(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}o&=1}if(J(b,o),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Gi(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),Wr(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Gi(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}Wr(e,!0,t,null,s);break;case"together":Wr(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function gi(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function an(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),Qn|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(N(153));if(e.child!==null){for(n=e.child,t=In(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=In(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function vg(n,e,t){switch(e.tag){case 3:Wf(e),Nt();break;case 5:Cf(e);break;case 1:_e(e.type)&&Pi(e);break;case 4:Gs(e,e.stateNode.containerInfo);break;case 10:var o=e.type._context,i=e.memoizedProps.value;J(Ui,o._currentValue),o._currentValue=i;break;case 13:if(o=e.memoizedState,o!==null)return o.dehydrated!==null?(J(b,b.current&1),e.flags|=128,null):t&e.child.childLanes?Kf(n,e,t):(J(b,b.current&1),n=an(n,e,t),n!==null?n.sibling:null);J(b,b.current&1);break;case 19:if(o=(t&e.childLanes)!==0,n.flags&128){if(o)return Yf(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),J(b,b.current),o)break;return null;case 22:case 23:return e.lanes=0,zf(n,e,t)}return an(n,e,t)}var Of,Bl,Qf,bf;Of=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};Bl=function(){};Qf=function(n,e,t,o){var i=n.memoizedProps;if(i!==o){n=e.stateNode,qn(Ze.current);var s=null;switch(t){case"input":i=sl(n,i),o=sl(n,o),s=[];break;case"select":i=Z({},i,{value:void 0}),o=Z({},o,{value:void 0}),s=[];break;case"textarea":i=cl(n,i),o=cl(n,o),s=[];break;default:typeof i.onClick!="function"&&typeof o.onClick=="function"&&(n.onclick=Ni)}fl(t,o);var a;t=null;for(d in i)if(!o.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var u=i[d];for(a in u)u.hasOwnProperty(a)&&(t||(t={}),t[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ho.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in o){var c=o[d];if(u=i!=null?i[d]:void 0,o.hasOwnProperty(d)&&c!==u&&(c!=null||u!=null))if(d==="style")if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(t||(t={}),t[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(t||(t={}),t[a]=c[a])}else t||(s||(s=[]),s.push(d,t)),t=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(s=s||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ho.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&K("scroll",n),s||u===c||(s=[])):(s=s||[]).push(d,c))}t&&(s=s||[]).push("style",t);var d=s;(e.updateQueue=d)&&(e.flags|=4)}};bf=function(n,e,t,o){t!==o&&(e.flags|=4)};function bt(n,e){if(!Q)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var o=null;t!==null;)t.alternate!==null&&(o=t),t=t.sibling;o===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:o.sibling=null}}function pe(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,o=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,o|=i.subtreeFlags&14680064,o|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,o|=i.subtreeFlags,o|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=o,n.childLanes=t,e}function Cg(n,e,t){var o=e.pendingProps;switch(Rs(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pe(e),null;case 1:return _e(e.type)&&Ri(),pe(e),null;case 3:return o=e.stateNode,Pt(),O(Ee),O(ge),$s(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(ei(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ze!==null&&(Yl(ze),ze=null))),Bl(n,e),pe(e),null;case 5:Bs(e);var i=qn(Io.current);if(t=e.type,n!==null&&e.stateNode!=null)Qf(n,e,t,o,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!o){if(e.stateNode===null)throw Error(N(166));return pe(e),null}if(n=qn(Ze.current),ei(e)){o=e.stateNode,t=e.type;var s=e.memoizedProps;switch(o[be]=e,o[wo]=s,n=(e.mode&1)!==0,t){case"dialog":K("cancel",o),K("close",o);break;case"iframe":case"object":case"embed":K("load",o);break;case"video":case"audio":for(i=0;i<to.length;i++)K(to[i],o);break;case"source":K("error",o);break;case"img":case"image":case"link":K("error",o),K("load",o);break;case"details":K("toggle",o);break;case"input":va(o,s),K("invalid",o);break;case"select":o._wrapperState={wasMultiple:!!s.multiple},K("invalid",o);break;case"textarea":Ta(o,s),K("invalid",o)}fl(t,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var u=s[a];a==="children"?typeof u=="string"?o.textContent!==u&&(s.suppressHydrationWarning!==!0&&jo(o.textContent,u,n),i=["children",u]):typeof u=="number"&&o.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&jo(o.textContent,u,n),i=["children",""+u]):ho.hasOwnProperty(a)&&u!=null&&a==="onScroll"&&K("scroll",o)}switch(t){case"input":Wo(o),Ca(o,s,!0);break;case"textarea":Wo(o),xa(o);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(o.onclick=Ni)}o=i,e.updateQueue=o,o!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ed(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=a.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof o.is=="string"?n=a.createElement(t,{is:o.is}):(n=a.createElement(t),t==="select"&&(a=n,o.multiple?a.multiple=!0:o.size&&(a.size=o.size))):n=a.createElementNS(n,t),n[be]=e,n[wo]=o,Of(n,e,!1,!1),e.stateNode=n;e:{switch(a=pl(t,o),t){case"dialog":K("cancel",n),K("close",n),i=o;break;case"iframe":case"object":case"embed":K("load",n),i=o;break;case"video":case"audio":for(i=0;i<to.length;i++)K(to[i],n);i=o;break;case"source":K("error",n),i=o;break;case"img":case"image":case"link":K("error",n),K("load",n),i=o;break;case"details":K("toggle",n),i=o;break;case"input":va(n,o),i=sl(n,o),K("invalid",n);break;case"option":i=o;break;case"select":n._wrapperState={wasMultiple:!!o.multiple},i=Z({},o,{value:void 0}),K("invalid",n);break;case"textarea":Ta(n,o),i=cl(n,o),K("invalid",n);break;default:i=o}fl(t,i),u=i;for(s in u)if(u.hasOwnProperty(s)){var c=u[s];s==="style"?Md(n,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&_d(n,c)):s==="children"?typeof c=="string"?(t!=="textarea"||c!=="")&&go(n,c):typeof c=="number"&&go(n,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ho.hasOwnProperty(s)?c!=null&&s==="onScroll"&&K("scroll",n):c!=null&&gs(n,s,c,a))}switch(t){case"input":Wo(n),Ca(n,o,!1);break;case"textarea":Wo(n),xa(n);break;case"option":o.value!=null&&n.setAttribute("value",""+kn(o.value));break;case"select":n.multiple=!!o.multiple,s=o.value,s!=null?Ct(n,!!o.multiple,s,!1):o.defaultValue!=null&&Ct(n,!!o.multiple,o.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=Ni)}switch(t){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}}o&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return pe(e),null;case 6:if(n&&e.stateNode!=null)bf(n,e,n.memoizedProps,o);else{if(typeof o!="string"&&e.stateNode===null)throw Error(N(166));if(t=qn(Io.current),qn(Ze.current),ei(e)){if(o=e.stateNode,t=e.memoizedProps,o[be]=e,(s=o.nodeValue!==t)&&(n=ke,n!==null))switch(n.tag){case 3:jo(o.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&jo(o.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else o=(t.nodeType===9?t:t.ownerDocument).createTextNode(o),o[be]=e,e.stateNode=o}return pe(e),null;case 13:if(O(b),o=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(Q&&Ie!==null&&e.mode&1&&!(e.flags&128))mf(),Nt(),e.flags|=98560,s=!1;else if(s=ei(e),o!==null&&o.dehydrated!==null){if(n===null){if(!s)throw Error(N(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(N(317));s[be]=e}else Nt(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;pe(e),s=!1}else ze!==null&&(Yl(ze),ze=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(o=o!==null,o!==(n!==null&&n.memoizedState!==null)&&o&&(e.child.flags|=8192,e.mode&1&&(n===null||b.current&1?ie===0&&(ie=3):Zs())),e.updateQueue!==null&&(e.flags|=4),pe(e),null);case 4:return Pt(),Bl(n,e),n===null&&Eo(e.stateNode.containerInfo),pe(e),null;case 10:return Us(e.type._context),pe(e),null;case 17:return _e(e.type)&&Ri(),pe(e),null;case 19:if(O(b),s=e.memoizedState,s===null)return pe(e),null;if(o=(e.flags&128)!==0,a=s.rendering,a===null)if(o)bt(s,!1);else{if(ie!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(a=Gi(n),a!==null){for(e.flags|=128,bt(s,!1),o=a.updateQueue,o!==null&&(e.updateQueue=o,e.flags|=4),e.subtreeFlags=0,o=t,t=e.child;t!==null;)s=t,n=o,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,n=a.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return J(b,b.current&1|2),e.child}n=n.sibling}s.tail!==null&&ne()>Lt&&(e.flags|=128,o=!0,bt(s,!1),e.lanes=4194304)}else{if(!o)if(n=Gi(a),n!==null){if(e.flags|=128,o=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),bt(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Q)return pe(e),null}else 2*ne()-s.renderingStartTime>Lt&&t!==1073741824&&(e.flags|=128,o=!0,bt(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(t=s.last,t!==null?t.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ne(),e.sibling=null,t=b.current,J(b,o?t&1|2:t&1),e):(pe(e),null);case 22:case 23:return Xs(),o=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==o&&(e.flags|=8192),o&&e.mode&1?Me&1073741824&&(pe(e),e.subtreeFlags&6&&(e.flags|=8192)):pe(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function Tg(n,e){switch(Rs(e),e.tag){case 1:return _e(e.type)&&Ri(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return Pt(),O(Ee),O(ge),$s(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return Bs(e),null;case 13:if(O(b),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Nt()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return O(b),null;case 4:return Pt(),null;case 10:return Us(e.type._context),null;case 22:case 23:return Xs(),null;case 24:return null;default:return null}}var oi=!1,me=!1,xg=typeof WeakSet=="function"?WeakSet:Set,D=null;function ht(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(o){j(n,e,o)}else t.current=null}function $l(n,e,t){try{t()}catch(o){j(n,e,o)}}var cu=!1;function Sg(n,e){if(El=Ii,n=ef(),As(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var o=t.getSelection&&t.getSelection();if(o&&o.rangeCount!==0){t=o.anchorNode;var i=o.anchorOffset,s=o.focusNode;o=o.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var a=0,u=-1,c=-1,d=0,f=0,p=n,m=null;n:for(;;){for(var y;p!==t||i!==0&&p.nodeType!==3||(u=a+i),p!==s||o!==0&&p.nodeType!==3||(c=a+o),p.nodeType===3&&(a+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===n)break n;if(m===t&&++d===i&&(u=a),m===s&&++f===o&&(c=a),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}t=u===-1||c===-1?null:{start:u,end:c}}else t=null}t=t||{start:0,end:0}}else t=null;for(_l={focusedElem:n,selectionRange:t},Ii=!1,D=e;D!==null;)if(e=D,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,D=n;else for(;D!==null;){e=D;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var x=T.memoizedProps,_=T.memoizedState,v=e.stateNode,g=v.getSnapshotBeforeUpdate(e.elementType===e.type?x:qe(e.type,x),_);v.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(S){j(e,e.return,S)}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}return T=cu,cu=!1,T}function co(n,e,t){var o=e.updateQueue;if(o=o!==null?o.lastEffect:null,o!==null){var i=o=o.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&$l(e,t,s)}i=i.next}while(i!==o)}}function sr(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var o=t.create;t.destroy=o()}t=t.next}while(t!==e)}}function ql(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function Xf(n){var e=n.alternate;e!==null&&(n.alternate=null,Xf(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[be],delete e[wo],delete e[Il],delete e[ig],delete e[rg])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function Zf(n){return n.tag===5||n.tag===3||n.tag===4}function du(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Zf(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Hl(n,e,t){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=Ni));else if(o!==4&&(n=n.child,n!==null))for(Hl(n,e,t),n=n.sibling;n!==null;)Hl(n,e,t),n=n.sibling}function zl(n,e,t){var o=n.tag;if(o===5||o===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(o!==4&&(n=n.child,n!==null))for(zl(n,e,t),n=n.sibling;n!==null;)zl(n,e,t),n=n.sibling}var ue=null,He=!1;function dn(n,e,t){for(t=t.child;t!==null;)jf(n,e,t),t=t.sibling}function jf(n,e,t){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(ji,t)}catch{}switch(t.tag){case 5:me||ht(t,e);case 6:var o=ue,i=He;ue=null,dn(n,e,t),ue=o,He=i,ue!==null&&(He?(n=ue,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):ue.removeChild(t.stateNode));break;case 18:ue!==null&&(He?(n=ue,t=t.stateNode,n.nodeType===8?Gr(n.parentNode,t):n.nodeType===1&&Gr(n,t),To(n)):Gr(ue,t.stateNode));break;case 4:o=ue,i=He,ue=t.stateNode.containerInfo,He=!0,dn(n,e,t),ue=o,He=i;break;case 0:case 11:case 14:case 15:if(!me&&(o=t.updateQueue,o!==null&&(o=o.lastEffect,o!==null))){i=o=o.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&$l(t,e,a),i=i.next}while(i!==o)}dn(n,e,t);break;case 1:if(!me&&(ht(t,e),o=t.stateNode,typeof o.componentWillUnmount=="function"))try{o.props=t.memoizedProps,o.state=t.memoizedState,o.componentWillUnmount()}catch(u){j(t,e,u)}dn(n,e,t);break;case 21:dn(n,e,t);break;case 22:t.mode&1?(me=(o=me)||t.memoizedState!==null,dn(n,e,t),me=o):dn(n,e,t);break;default:dn(n,e,t)}}function fu(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new xg),e.forEach(function(o){var i=Rg.bind(null,n,o);t.has(o)||(t.add(o),o.then(i,i))})}}function $e(n,e){var t=e.deletions;if(t!==null)for(var o=0;o<t.length;o++){var i=t[o];try{var s=n,a=e,u=a;e:for(;u!==null;){switch(u.tag){case 5:ue=u.stateNode,He=!1;break e;case 3:ue=u.stateNode.containerInfo,He=!0;break e;case 4:ue=u.stateNode.containerInfo,He=!0;break e}u=u.return}if(ue===null)throw Error(N(160));jf(s,a,i),ue=null,He=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(d){j(i,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ep(e,n),e=e.sibling}function ep(n,e){var t=n.alternate,o=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if($e(e,n),Oe(n),o&4){try{co(3,n,n.return),sr(3,n)}catch(x){j(n,n.return,x)}try{co(5,n,n.return)}catch(x){j(n,n.return,x)}}break;case 1:$e(e,n),Oe(n),o&512&&t!==null&&ht(t,t.return);break;case 5:if($e(e,n),Oe(n),o&512&&t!==null&&ht(t,t.return),n.flags&32){var i=n.stateNode;try{go(i,"")}catch(x){j(n,n.return,x)}}if(o&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,a=t!==null?t.memoizedProps:s,u=n.type,c=n.updateQueue;if(n.updateQueue=null,c!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&xd(i,s),pl(u,a);var d=pl(u,s);for(a=0;a<c.length;a+=2){var f=c[a],p=c[a+1];f==="style"?Md(i,p):f==="dangerouslySetInnerHTML"?_d(i,p):f==="children"?go(i,p):gs(i,f,p,d)}switch(u){case"input":al(i,s);break;case"textarea":Sd(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Ct(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?Ct(i,!!s.multiple,s.defaultValue,!0):Ct(i,!!s.multiple,s.multiple?[]:"",!1))}i[wo]=s}catch(x){j(n,n.return,x)}}break;case 6:if($e(e,n),Oe(n),o&4){if(n.stateNode===null)throw Error(N(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(x){j(n,n.return,x)}}break;case 3:if($e(e,n),Oe(n),o&4&&t!==null&&t.memoizedState.isDehydrated)try{To(e.containerInfo)}catch(x){j(n,n.return,x)}break;case 4:$e(e,n),Oe(n);break;case 13:$e(e,n),Oe(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Qs=ne())),o&4&&fu(n);break;case 22:if(f=t!==null&&t.memoizedState!==null,n.mode&1?(me=(d=me)||f,$e(e,n),me=d):$e(e,n),Oe(n),o&8192){if(d=n.memoizedState!==null,(n.stateNode.isHidden=d)&&!f&&n.mode&1)for(D=n,f=n.child;f!==null;){for(p=D=f;D!==null;){switch(m=D,y=m.child,m.tag){case 0:case 11:case 14:case 15:co(4,m,m.return);break;case 1:ht(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){o=m,t=m.return;try{e=o,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(x){j(o,t,x)}}break;case 5:ht(m,m.return);break;case 22:if(m.memoizedState!==null){mu(p);continue}}y!==null?(y.return=m,D=y):mu(p)}f=f.sibling}e:for(f=null,p=n;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=p.stateNode,c=p.memoizedProps.style,a=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=wd("display",a))}catch(x){j(n,n.return,x)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=d?"":p.memoizedProps}catch(x){j(n,n.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===n)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break e;for(;p.sibling===null;){if(p.return===null||p.return===n)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:$e(e,n),Oe(n),o&4&&fu(n);break;case 21:break;default:$e(e,n),Oe(n)}}function Oe(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(Zf(t)){var o=t;break e}t=t.return}throw Error(N(160))}switch(o.tag){case 5:var i=o.stateNode;o.flags&32&&(go(i,""),o.flags&=-33);var s=du(n);zl(n,s,i);break;case 3:case 4:var a=o.stateNode.containerInfo,u=du(n);Hl(n,u,a);break;default:throw Error(N(161))}}catch(c){j(n,n.return,c)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function Eg(n,e,t){D=n,np(n)}function np(n,e,t){for(var o=(n.mode&1)!==0;D!==null;){var i=D,s=i.child;if(i.tag===22&&o){var a=i.memoizedState!==null||oi;if(!a){var u=i.alternate,c=u!==null&&u.memoizedState!==null||me;u=oi;var d=me;if(oi=a,(me=c)&&!d)for(D=i;D!==null;)a=D,c=a.child,a.tag===22&&a.memoizedState!==null?hu(i):c!==null?(c.return=a,D=c):hu(i);for(;s!==null;)D=s,np(s),s=s.sibling;D=i,oi=u,me=d}pu(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,D=s):pu(n)}}function pu(n){for(;D!==null;){var e=D;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:me||sr(5,e);break;case 1:var o=e.stateNode;if(e.flags&4&&!me)if(t===null)o.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:qe(e.type,t.memoizedProps);o.componentDidUpdate(i,t.memoizedState,o.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Xa(e,s,o);break;case 3:var a=e.updateQueue;if(a!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}Xa(e,a,t)}break;case 5:var u=e.stateNode;if(t===null&&e.flags&4){t=u;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&t.focus();break;case"img":c.src&&(t.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var f=d.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&To(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}me||e.flags&512&&ql(e)}catch(m){j(e,e.return,m)}}if(e===n){D=null;break}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}}function mu(n){for(;D!==null;){var e=D;if(e===n){D=null;break}var t=e.sibling;if(t!==null){t.return=e.return,D=t;break}D=e.return}}function hu(n){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{sr(4,e)}catch(c){j(e,t,c)}break;case 1:var o=e.stateNode;if(typeof o.componentDidMount=="function"){var i=e.return;try{o.componentDidMount()}catch(c){j(e,i,c)}}var s=e.return;try{ql(e)}catch(c){j(e,s,c)}break;case 5:var a=e.return;try{ql(e)}catch(c){j(e,a,c)}}}catch(c){j(e,e.return,c)}if(e===n){D=null;break}var u=e.sibling;if(u!==null){u.return=e.return,D=u;break}D=e.return}}var _g=Math.ceil,qi=un.ReactCurrentDispatcher,Ys=un.ReactCurrentOwner,Ue=un.ReactCurrentBatchConfig,B=0,ae=null,te=null,ce=0,Me=0,gt=Rn(0),ie=0,Ro=null,Qn=0,ar=0,Os=0,fo=null,xe=null,Qs=0,Lt=1/0,je=null,Hi=!1,Jl=null,wn=null,ii=!1,yn=null,zi=0,po=0,Wl=null,yi=-1,vi=0;function ve(){return B&6?ne():yi!==-1?yi:yi=ne()}function Mn(n){return n.mode&1?B&2&&ce!==0?ce&-ce:sg.transition!==null?(vi===0&&(vi=Gd()),vi):(n=H,n!==0||(n=window.event,n=n===void 0?16:Wd(n.type)),n):1}function We(n,e,t,o){if(50<po)throw po=0,Wl=null,Error(N(185));Fo(n,t,o),(!(B&2)||n!==ae)&&(n===ae&&(!(B&2)&&(ar|=t),ie===4&&hn(n,ce)),we(n,o),t===1&&B===0&&!(e.mode&1)&&(Lt=ne()+500,ir&&Pn()))}function we(n,e){var t=n.callbackNode;sh(n,e);var o=Mi(n,n===ae?ce:0);if(o===0)t!==null&&_a(t),n.callbackNode=null,n.callbackPriority=0;else if(e=o&-o,n.callbackPriority!==e){if(t!=null&&_a(t),e===1)n.tag===0?lg(gu.bind(null,n)):df(gu.bind(null,n)),tg(function(){!(B&6)&&Pn()}),t=null;else{switch(Bd(o)){case 1:t=xs;break;case 4:t=Fd;break;case 16:t=wi;break;case 536870912:t=Vd;break;default:t=wi}t=up(t,tp.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function tp(n,e){if(yi=-1,vi=0,B&6)throw Error(N(327));var t=n.callbackNode;if(_t()&&n.callbackNode!==t)return null;var o=Mi(n,n===ae?ce:0);if(o===0)return null;if(o&30||o&n.expiredLanes||e)e=Ji(n,o);else{e=o;var i=B;B|=2;var s=ip();(ae!==n||ce!==e)&&(je=null,Lt=ne()+500,Hn(n,e));do try{Ig();break}catch(u){op(n,u)}while(1);Ls(),qi.current=s,B=i,te!==null?e=0:(ae=null,ce=0,e=ie)}if(e!==0){if(e===2&&(i=vl(n),i!==0&&(o=i,e=Kl(n,i))),e===1)throw t=Ro,Hn(n,0),hn(n,o),we(n,ne()),t;if(e===6)hn(n,o);else{if(i=n.current.alternate,!(o&30)&&!wg(i)&&(e=Ji(n,o),e===2&&(s=vl(n),s!==0&&(o=s,e=Kl(n,s))),e===1))throw t=Ro,Hn(n,0),hn(n,o),we(n,ne()),t;switch(n.finishedWork=i,n.finishedLanes=o,e){case 0:case 1:throw Error(N(345));case 2:Vn(n,xe,je);break;case 3:if(hn(n,o),(o&130023424)===o&&(e=Qs+500-ne(),10<e)){if(Mi(n,0)!==0)break;if(i=n.suspendedLanes,(i&o)!==o){ve(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Ml(Vn.bind(null,n,xe,je),e);break}Vn(n,xe,je);break;case 4:if(hn(n,o),(o&4194240)===o)break;for(e=n.eventTimes,i=-1;0<o;){var a=31-Je(o);s=1<<a,a=e[a],a>i&&(i=a),o&=~s}if(o=i,o=ne()-o,o=(120>o?120:480>o?480:1080>o?1080:1920>o?1920:3e3>o?3e3:4320>o?4320:1960*_g(o/1960))-o,10<o){n.timeoutHandle=Ml(Vn.bind(null,n,xe,je),o);break}Vn(n,xe,je);break;case 5:Vn(n,xe,je);break;default:throw Error(N(329))}}}return we(n,ne()),n.callbackNode===t?tp.bind(null,n):null}function Kl(n,e){var t=fo;return n.current.memoizedState.isDehydrated&&(Hn(n,e).flags|=256),n=Ji(n,e),n!==2&&(e=xe,xe=t,e!==null&&Yl(e)),n}function Yl(n){xe===null?xe=n:xe.push.apply(xe,n)}function wg(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var o=0;o<t.length;o++){var i=t[o],s=i.getSnapshot;i=i.value;try{if(!Ke(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function hn(n,e){for(e&=~Os,e&=~ar,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-Je(e),o=1<<t;n[t]=-1,e&=~o}}function gu(n){if(B&6)throw Error(N(327));_t();var e=Mi(n,0);if(!(e&1))return we(n,ne()),null;var t=Ji(n,e);if(n.tag!==0&&t===2){var o=vl(n);o!==0&&(e=o,t=Kl(n,o))}if(t===1)throw t=Ro,Hn(n,0),hn(n,e),we(n,ne()),t;if(t===6)throw Error(N(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Vn(n,xe,je),we(n,ne()),null}function bs(n,e){var t=B;B|=1;try{return n(e)}finally{B=t,B===0&&(Lt=ne()+500,ir&&Pn())}}function bn(n){yn!==null&&yn.tag===0&&!(B&6)&&_t();var e=B;B|=1;var t=Ue.transition,o=H;try{if(Ue.transition=null,H=1,n)return n()}finally{H=o,Ue.transition=t,B=e,!(B&6)&&Pn()}}function Xs(){Me=gt.current,O(gt)}function Hn(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,ng(t)),te!==null)for(t=te.return;t!==null;){var o=t;switch(Rs(o),o.tag){case 1:o=o.type.childContextTypes,o!=null&&Ri();break;case 3:Pt(),O(Ee),O(ge),$s();break;case 5:Bs(o);break;case 4:Pt();break;case 13:O(b);break;case 19:O(b);break;case 10:Us(o.type._context);break;case 22:case 23:Xs()}t=t.return}if(ae=n,te=n=In(n.current,null),ce=Me=e,ie=0,Ro=null,Os=ar=Qn=0,xe=fo=null,$n!==null){for(e=0;e<$n.length;e++)if(t=$n[e],o=t.interleaved,o!==null){t.interleaved=null;var i=o.next,s=t.pending;if(s!==null){var a=s.next;s.next=i,o.next=a}t.pending=o}$n=null}return n}function op(n,e){do{var t=te;try{if(Ls(),mi.current=$i,Bi){for(var o=X.memoizedState;o!==null;){var i=o.queue;i!==null&&(i.pending=null),o=o.next}Bi=!1}if(On=0,se=oe=X=null,uo=!1,ko=0,Ys.current=null,t===null||t.return===null){ie=1,Ro=e,te=null;break}e:{var s=n,a=t.return,u=t,c=e;if(e=ce,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,f=u,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=ou(a);if(y!==null){y.flags&=-257,iu(y,a,u,s,e),y.mode&1&&tu(s,d,e),e=y,c=d;var T=e.updateQueue;if(T===null){var x=new Set;x.add(c),e.updateQueue=x}else T.add(c);break e}else{if(!(e&1)){tu(s,d,e),Zs();break e}c=Error(N(426))}}else if(Q&&u.mode&1){var _=ou(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),iu(_,a,u,s,e),Ps(Dt(c,u));break e}}s=c=Dt(c,u),ie!==4&&(ie=2),fo===null?fo=[s]:fo.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var v=$f(s,c,e);ba(s,v);break e;case 1:u=c;var g=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof g.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(wn===null||!wn.has(C)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=qf(s,u,e);ba(s,S);break e}}s=s.return}while(s!==null)}lp(t)}catch(w){e=w,te===t&&t!==null&&(te=t=t.return);continue}break}while(1)}function ip(){var n=qi.current;return qi.current=$i,n===null?$i:n}function Zs(){(ie===0||ie===3||ie===2)&&(ie=4),ae===null||!(Qn&268435455)&&!(ar&268435455)||hn(ae,ce)}function Ji(n,e){var t=B;B|=2;var o=ip();(ae!==n||ce!==e)&&(je=null,Hn(n,e));do try{Mg();break}catch(i){op(n,i)}while(1);if(Ls(),B=t,qi.current=o,te!==null)throw Error(N(261));return ae=null,ce=0,ie}function Mg(){for(;te!==null;)rp(te)}function Ig(){for(;te!==null&&!Zm();)rp(te)}function rp(n){var e=ap(n.alternate,n,Me);n.memoizedProps=n.pendingProps,e===null?lp(n):te=e,Ys.current=null}function lp(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=Tg(t,e),t!==null){t.flags&=32767,te=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{ie=6,te=null;return}}else if(t=Cg(t,e,Me),t!==null){te=t;return}if(e=e.sibling,e!==null){te=e;return}te=e=n}while(e!==null);ie===0&&(ie=5)}function Vn(n,e,t){var o=H,i=Ue.transition;try{Ue.transition=null,H=1,kg(n,e,t,o)}finally{Ue.transition=i,H=o}return null}function kg(n,e,t,o){do _t();while(yn!==null);if(B&6)throw Error(N(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(N(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(ah(n,s),n===ae&&(te=ae=null,ce=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||ii||(ii=!0,up(wi,function(){return _t(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=Ue.transition,Ue.transition=null;var a=H;H=1;var u=B;B|=4,Ys.current=null,Sg(n,t),ep(t,n),Oh(_l),Ii=!!El,_l=El=null,n.current=t,Eg(t),jm(),B=u,H=a,Ue.transition=s}else n.current=t;if(ii&&(ii=!1,yn=n,zi=i),s=n.pendingLanes,s===0&&(wn=null),th(t.stateNode),we(n,ne()),e!==null)for(o=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],o(i.value,{componentStack:i.stack,digest:i.digest});if(Hi)throw Hi=!1,n=Jl,Jl=null,n;return zi&1&&n.tag!==0&&_t(),s=n.pendingLanes,s&1?n===Wl?po++:(po=0,Wl=n):po=0,Pn(),null}function _t(){if(yn!==null){var n=Bd(zi),e=Ue.transition,t=H;try{if(Ue.transition=null,H=16>n?16:n,yn===null)var o=!1;else{if(n=yn,yn=null,zi=0,B&6)throw Error(N(331));var i=B;for(B|=4,D=n.current;D!==null;){var s=D,a=s.child;if(D.flags&16){var u=s.deletions;if(u!==null){for(var c=0;c<u.length;c++){var d=u[c];for(D=d;D!==null;){var f=D;switch(f.tag){case 0:case 11:case 15:co(8,f,s)}var p=f.child;if(p!==null)p.return=f,D=p;else for(;D!==null;){f=D;var m=f.sibling,y=f.return;if(Xf(f),f===d){D=null;break}if(m!==null){m.return=y,D=m;break}D=y}}}var T=s.alternate;if(T!==null){var x=T.child;if(x!==null){T.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}D=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,D=a;else e:for(;D!==null;){if(s=D,s.flags&2048)switch(s.tag){case 0:case 11:case 15:co(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,D=v;break e}D=s.return}}var g=n.current;for(D=g;D!==null;){a=D;var C=a.child;if(a.subtreeFlags&2064&&C!==null)C.return=a,D=C;else e:for(a=g;D!==null;){if(u=D,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:sr(9,u)}}catch(w){j(u,u.return,w)}if(u===a){D=null;break e}var S=u.sibling;if(S!==null){S.return=u.return,D=S;break e}D=u.return}}if(B=i,Pn(),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(ji,n)}catch{}o=!0}return o}finally{H=t,Ue.transition=e}}return!1}function yu(n,e,t){e=Dt(t,e),e=$f(n,e,1),n=_n(n,e,1),e=ve(),n!==null&&(Fo(n,1,e),we(n,e))}function j(n,e,t){if(n.tag===3)yu(n,n,t);else for(;e!==null;){if(e.tag===3){yu(e,n,t);break}else if(e.tag===1){var o=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(wn===null||!wn.has(o))){n=Dt(t,n),n=qf(e,n,1),e=_n(e,n,1),n=ve(),e!==null&&(Fo(e,1,n),we(e,n));break}}e=e.return}}function Ag(n,e,t){var o=n.pingCache;o!==null&&o.delete(e),e=ve(),n.pingedLanes|=n.suspendedLanes&t,ae===n&&(ce&t)===t&&(ie===4||ie===3&&(ce&130023424)===ce&&500>ne()-Qs?Hn(n,0):Os|=t),we(n,e)}function sp(n,e){e===0&&(n.mode&1?(e=Oo,Oo<<=1,!(Oo&130023424)&&(Oo=4194304)):e=1);var t=ve();n=sn(n,e),n!==null&&(Fo(n,e,t),we(n,t))}function Ng(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),sp(n,t)}function Rg(n,e){var t=0;switch(n.tag){case 13:var o=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:o=n.stateNode;break;default:throw Error(N(314))}o!==null&&o.delete(e),sp(n,t)}var ap;ap=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||Ee.current)Se=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return Se=!1,vg(n,e,t);Se=!!(n.flags&131072)}else Se=!1,Q&&e.flags&1048576&&ff(e,Li,e.index);switch(e.lanes=0,e.tag){case 2:var o=e.type;gi(n,e),n=e.pendingProps;var i=At(e,ge.current);Et(e,t),i=Hs(null,e,o,n,i,t);var s=zs();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,_e(o)?(s=!0,Pi(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Vs(e),i.updater=lr,e.stateNode=i,i._reactInternals=e,Dl(e,o,n,t),e=Fl(null,e,o,!0,s,t)):(e.tag=0,Q&&s&&Ns(e),ye(null,e,i,t),e=e.child),e;case 16:o=e.elementType;e:{switch(gi(n,e),n=e.pendingProps,i=o._init,o=i(o._payload),e.type=o,i=e.tag=Dg(o),n=qe(o,n),i){case 0:e=Ul(null,e,o,n,t);break e;case 1:e=su(null,e,o,n,t);break e;case 11:e=ru(null,e,o,n,t);break e;case 14:e=lu(null,e,o,qe(o.type,n),t);break e}throw Error(N(306,o,""))}return e;case 0:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:qe(o,i),Ul(n,e,o,i,t);case 1:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:qe(o,i),su(n,e,o,i,t);case 3:e:{if(Wf(e),n===null)throw Error(N(387));o=e.pendingProps,s=e.memoizedState,i=s.element,vf(n,e),Vi(e,o,null,t);var a=e.memoizedState;if(o=a.element,s.isDehydrated)if(s={element:o,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Dt(Error(N(423)),e),e=au(n,e,o,t,i);break e}else if(o!==i){i=Dt(Error(N(424)),e),e=au(n,e,o,t,i);break e}else for(Ie=En(e.stateNode.containerInfo.firstChild),ke=e,Q=!0,ze=null,t=gf(e,null,o,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(Nt(),o===i){e=an(n,e,t);break e}ye(n,e,o,t)}e=e.child}return e;case 5:return Cf(e),n===null&&Nl(e),o=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,a=i.children,wl(o,i)?a=null:s!==null&&wl(o,s)&&(e.flags|=32),Jf(n,e),ye(n,e,a,t),e.child;case 6:return n===null&&Nl(e),null;case 13:return Kf(n,e,t);case 4:return Gs(e,e.stateNode.containerInfo),o=e.pendingProps,n===null?e.child=Rt(e,null,o,t):ye(n,e,o,t),e.child;case 11:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:qe(o,i),ru(n,e,o,i,t);case 7:return ye(n,e,e.pendingProps,t),e.child;case 8:return ye(n,e,e.pendingProps.children,t),e.child;case 12:return ye(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(o=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,J(Ui,o._currentValue),o._currentValue=a,s!==null)if(Ke(s.value,a)){if(s.children===i.children&&!Ee.current){e=an(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var u=s.dependencies;if(u!==null){a=s.child;for(var c=u.firstContext;c!==null;){if(c.context===o){if(s.tag===1){c=on(-1,t&-t),c.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var f=d.pending;f===null?c.next=c:(c.next=f.next,f.next=c),d.pending=c}}s.lanes|=t,c=s.alternate,c!==null&&(c.lanes|=t),Rl(s.return,t,e),u.lanes|=t;break}c=c.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(N(341));a.lanes|=t,u=a.alternate,u!==null&&(u.lanes|=t),Rl(a,t,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}ye(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,o=e.pendingProps.children,Et(e,t),i=Ve(i),o=o(i),e.flags|=1,ye(n,e,o,t),e.child;case 14:return o=e.type,i=qe(o,e.pendingProps),i=qe(o.type,i),lu(n,e,o,i,t);case 15:return Hf(n,e,e.type,e.pendingProps,t);case 17:return o=e.type,i=e.pendingProps,i=e.elementType===o?i:qe(o,i),gi(n,e),e.tag=1,_e(o)?(n=!0,Pi(e)):n=!1,Et(e,t),Bf(e,o,i),Dl(e,o,i,t),Fl(null,e,o,!0,n,t);case 19:return Yf(n,e,t);case 22:return zf(n,e,t)}throw Error(N(156,e.tag))};function up(n,e){return Ud(n,e)}function Pg(n,e,t,o){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Le(n,e,t,o){return new Pg(n,e,t,o)}function js(n){return n=n.prototype,!(!n||!n.isReactComponent)}function Dg(n){if(typeof n=="function")return js(n)?1:0;if(n!=null){if(n=n.$$typeof,n===vs)return 11;if(n===Cs)return 14}return 2}function In(n,e){var t=n.alternate;return t===null?(t=Le(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function Ci(n,e,t,o,i,s){var a=2;if(o=n,typeof n=="function")js(n)&&(a=1);else if(typeof n=="string")a=5;else e:switch(n){case lt:return zn(t.children,i,s,e);case ys:a=8,i|=8;break;case ol:return n=Le(12,t,e,i|2),n.elementType=ol,n.lanes=s,n;case il:return n=Le(13,t,e,i),n.elementType=il,n.lanes=s,n;case rl:return n=Le(19,t,e,i),n.elementType=rl,n.lanes=s,n;case vd:return ur(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case gd:a=10;break e;case yd:a=9;break e;case vs:a=11;break e;case Cs:a=14;break e;case fn:a=16,o=null;break e}throw Error(N(130,n==null?n:typeof n,""))}return e=Le(a,t,e,i),e.elementType=n,e.type=o,e.lanes=s,e}function zn(n,e,t,o){return n=Le(7,n,o,e),n.lanes=t,n}function ur(n,e,t,o){return n=Le(22,n,o,e),n.elementType=vd,n.lanes=t,n.stateNode={isHidden:!1},n}function Kr(n,e,t){return n=Le(6,n,null,e),n.lanes=t,n}function Yr(n,e,t){return e=Le(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function Lg(n,e,t,o,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ir(0),this.expirationTimes=Ir(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ir(0),this.identifierPrefix=o,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ea(n,e,t,o,i,s,a,u,c){return n=new Lg(n,e,t,u,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Le(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:o,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vs(s),n}function Ug(n,e,t){var o=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:rt,key:o==null?null:""+o,children:n,containerInfo:e,implementation:t}}function cp(n){if(!n)return An;n=n._reactInternals;e:{if(jn(n)!==n||n.tag!==1)throw Error(N(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(_e(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(n.tag===1){var t=n.type;if(_e(t))return cf(n,t,e)}return e}function dp(n,e,t,o,i,s,a,u,c){return n=ea(t,o,!0,n,i,s,a,u,c),n.context=cp(null),t=n.current,o=ve(),i=Mn(t),s=on(o,i),s.callback=e??null,_n(t,s,i),n.current.lanes=i,Fo(n,i,o),we(n,o),n}function cr(n,e,t,o){var i=e.current,s=ve(),a=Mn(i);return t=cp(t),e.context===null?e.context=t:e.pendingContext=t,e=on(s,a),e.payload={element:n},o=o===void 0?null:o,o!==null&&(e.callback=o),n=_n(i,e,a),n!==null&&(We(n,i,a,s),pi(n,i,a)),a}function Wi(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function vu(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function na(n,e){vu(n,e),(n=n.alternate)&&vu(n,e)}function Fg(){return null}var fp=typeof reportError=="function"?reportError:function(n){console.error(n)};function ta(n){this._internalRoot=n}dr.prototype.render=ta.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(N(409));cr(n,e,null,null)};dr.prototype.unmount=ta.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;bn(function(){cr(null,n,null,null)}),e[ln]=null}};function dr(n){this._internalRoot=n}dr.prototype.unstable_scheduleHydration=function(n){if(n){var e=Hd();n={blockedOn:null,target:n,priority:e};for(var t=0;t<mn.length&&e!==0&&e<mn[t].priority;t++);mn.splice(t,0,n),t===0&&Jd(n)}};function oa(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function fr(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Cu(){}function Vg(n,e,t,o,i){if(i){if(typeof o=="function"){var s=o;o=function(){var d=Wi(a);s.call(d)}}var a=dp(e,o,n,0,null,!1,!1,"",Cu);return n._reactRootContainer=a,n[ln]=a.current,Eo(n.nodeType===8?n.parentNode:n),bn(),a}for(;i=n.lastChild;)n.removeChild(i);if(typeof o=="function"){var u=o;o=function(){var d=Wi(c);u.call(d)}}var c=ea(n,0,!1,null,null,!1,!1,"",Cu);return n._reactRootContainer=c,n[ln]=c.current,Eo(n.nodeType===8?n.parentNode:n),bn(function(){cr(e,c,t,o)}),c}function pr(n,e,t,o,i){var s=t._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var u=i;i=function(){var c=Wi(a);u.call(c)}}cr(e,a,n,i)}else a=Vg(t,e,n,i,o);return Wi(a)}$d=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=no(e.pendingLanes);t!==0&&(Ss(e,t|1),we(e,ne()),!(B&6)&&(Lt=ne()+500,Pn()))}break;case 13:bn(function(){var o=sn(n,1);if(o!==null){var i=ve();We(o,n,1,i)}}),na(n,1)}};Es=function(n){if(n.tag===13){var e=sn(n,134217728);if(e!==null){var t=ve();We(e,n,134217728,t)}na(n,134217728)}};qd=function(n){if(n.tag===13){var e=Mn(n),t=sn(n,e);if(t!==null){var o=ve();We(t,n,e,o)}na(n,e)}};Hd=function(){return H};zd=function(n,e){var t=H;try{return H=n,e()}finally{H=t}};hl=function(n,e,t){switch(e){case"input":if(al(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var o=t[e];if(o!==n&&o.form===n.form){var i=or(o);if(!i)throw Error(N(90));Td(o),al(o,i)}}}break;case"textarea":Sd(n,t);break;case"select":e=t.value,e!=null&&Ct(n,!!t.multiple,e,!1)}};Ad=bs;Nd=bn;var Gg={usingClientEntryPoint:!1,Events:[Go,ct,or,Id,kd,bs]},Xt={findFiberByHostInstance:Bn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Bg={bundleType:Xt.bundleType,version:Xt.version,rendererPackageName:Xt.rendererPackageName,rendererConfig:Xt.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:un.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Dd(n),n===null?null:n.stateNode},findFiberByHostInstance:Xt.findFiberByHostInstance||Fg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ri=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ri.isDisabled&&ri.supportsFiber)try{ji=ri.inject(Bg),Xe=ri}catch{}}Ne.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Gg;Ne.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oa(e))throw Error(N(200));return Ug(n,e,null,t)};Ne.createRoot=function(n,e){if(!oa(n))throw Error(N(299));var t=!1,o="",i=fp;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(o=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ea(n,1,!1,null,null,t,!1,o,i),n[ln]=e.current,Eo(n.nodeType===8?n.parentNode:n),new ta(e)};Ne.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(N(188)):(n=Object.keys(n).join(","),Error(N(268,n)));return n=Dd(e),n=n===null?null:n.stateNode,n};Ne.flushSync=function(n){return bn(n)};Ne.hydrate=function(n,e,t){if(!fr(e))throw Error(N(200));return pr(null,n,e,!0,t)};Ne.hydrateRoot=function(n,e,t){if(!oa(n))throw Error(N(405));var o=t!=null&&t.hydratedSources||null,i=!1,s="",a=fp;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),e=dp(e,null,n,1,t??null,i,!1,s,a),n[ln]=e.current,Eo(n),o)for(n=0;n<o.length;n++)t=o[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new dr(e)};Ne.render=function(n,e,t){if(!fr(e))throw Error(N(200));return pr(null,n,e,!1,t)};Ne.unmountComponentAtNode=function(n){if(!fr(n))throw Error(N(40));return n._reactRootContainer?(bn(function(){pr(null,null,n,!1,function(){n._reactRootContainer=null,n[ln]=null})}),!0):!1};Ne.unstable_batchedUpdates=bs;Ne.unstable_renderSubtreeIntoContainer=function(n,e,t,o){if(!fr(t))throw Error(N(200));if(n==null||n._reactInternals===void 0)throw Error(N(38));return pr(n,e,t,!1,o)};Ne.version="18.3.1-next-f1338f8080-20240426";function pp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(pp)}catch(n){console.error(n)}}pp(),fd.exports=Ne;var $g=fd.exports,Tu=$g;nl.createRoot=Tu.createRoot,nl.hydrateRoot=Tu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Po(){return Po=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Po.apply(this,arguments)}var vn;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(vn||(vn={}));const xu="popstate";function qg(n){n===void 0&&(n={});function e(o,i){let{pathname:s,search:a,hash:u}=o.location;return Ol("",{pathname:s,search:a,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(o,i){return typeof i=="string"?i:hp(i)}return zg(e,t,null,n)}function re(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function mp(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hg(){return Math.random().toString(36).substr(2,8)}function Su(n,e){return{usr:n.state,key:n.key,idx:e}}function Ol(n,e,t,o){return t===void 0&&(t=null),Po({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Gt(e):e,{state:t,key:e&&e.key||o||Hg()})}function hp(n){let{pathname:e="/",search:t="",hash:o=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),o&&o!=="#"&&(e+=o.charAt(0)==="#"?o:"#"+o),e}function Gt(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let o=n.indexOf("?");o>=0&&(e.search=n.substr(o),n=n.substr(0,o)),n&&(e.pathname=n)}return e}function zg(n,e,t,o){o===void 0&&(o={});let{window:i=document.defaultView,v5Compat:s=!1}=o,a=i.history,u=vn.Pop,c=null,d=f();d==null&&(d=0,a.replaceState(Po({},a.state,{idx:d}),""));function f(){return(a.state||{idx:null}).idx}function p(){u=vn.Pop;let _=f(),v=_==null?null:_-d;d=_,c&&c({action:u,location:x.location,delta:v})}function m(_,v){u=vn.Push;let g=Ol(x.location,_,v);t&&t(g,_),d=f()+1;let C=Su(g,d),S=x.createHref(g);try{a.pushState(C,"",S)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;i.location.assign(S)}s&&c&&c({action:u,location:x.location,delta:1})}function y(_,v){u=vn.Replace;let g=Ol(x.location,_,v);t&&t(g,_),d=f();let C=Su(g,d),S=x.createHref(g);a.replaceState(C,"",S),s&&c&&c({action:u,location:x.location,delta:0})}function T(_){let v=i.location.origin!=="null"?i.location.origin:i.location.href,g=typeof _=="string"?_:hp(_);return g=g.replace(/ $/,"%20"),re(v,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,v)}let x={get action(){return u},get location(){return n(i,a)},listen(_){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(xu,p),c=_,()=>{i.removeEventListener(xu,p),c=null}},createHref(_){return e(i,_)},createURL:T,encodeLocation(_){let v=T(_);return{pathname:v.pathname,search:v.search,hash:v.hash}},push:m,replace:y,go(_){return a.go(_)}};return x}var Eu;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Eu||(Eu={}));function Jg(n,e,t){return t===void 0&&(t="/"),Wg(n,e,t,!1)}function Wg(n,e,t,o){let i=typeof e=="string"?Gt(e):e,s=vp(i.pathname||"/",t);if(s==null)return null;let a=gp(n);Kg(a);let u=null;for(let c=0;u==null&&c<a.length;++c){let d=oy(s);u=ny(a[c],d,o)}return u}function gp(n,e,t,o){e===void 0&&(e=[]),t===void 0&&(t=[]),o===void 0&&(o="");let i=(s,a,u)=>{let c={relativePath:u===void 0?s.path||"":u,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};c.relativePath.startsWith("/")&&(re(c.relativePath.startsWith(o),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+o+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(o.length));let d=Jn([o,c.relativePath]),f=t.concat(c);s.children&&s.children.length>0&&(re(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),gp(s.children,e,f,d)),!(s.path==null&&!s.index)&&e.push({path:d,score:jg(d,s.index),routesMeta:f})};return n.forEach((s,a)=>{var u;if(s.path===""||!((u=s.path)!=null&&u.includes("?")))i(s,a);else for(let c of yp(s.path))i(s,a,c)}),e}function yp(n){let e=n.split("/");if(e.length===0)return[];let[t,...o]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(o.length===0)return i?[s,""]:[s];let a=yp(o.join("/")),u=[];return u.push(...a.map(c=>c===""?s:[s,c].join("/"))),i&&u.push(...a),u.map(c=>n.startsWith("/")&&c===""?"/":c)}function Kg(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:ey(e.routesMeta.map(o=>o.childrenIndex),t.routesMeta.map(o=>o.childrenIndex)))}const Yg=/^:[\w-]+$/,Og=3,Qg=2,bg=1,Xg=10,Zg=-2,_u=n=>n==="*";function jg(n,e){let t=n.split("/"),o=t.length;return t.some(_u)&&(o+=Zg),e&&(o+=Qg),t.filter(i=>!_u(i)).reduce((i,s)=>i+(Yg.test(s)?Og:s===""?bg:Xg),o)}function ey(n,e){return n.length===e.length&&n.slice(0,-1).every((o,i)=>o===e[i])?n[n.length-1]-e[e.length-1]:0}function ny(n,e,t){t===void 0&&(t=!1);let{routesMeta:o}=n,i={},s="/",a=[];for(let u=0;u<o.length;++u){let c=o[u],d=u===o.length-1,f=s==="/"?e:e.slice(s.length)||"/",p=wu({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),m=c.route;if(!p&&d&&t&&!o[o.length-1].route.index&&(p=wu({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),a.push({params:i,pathname:Jn([s,p.pathname]),pathnameBase:uy(Jn([s,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(s=Jn([s,p.pathnameBase]))}return a}function wu(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,o]=ty(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:o.reduce((d,f,p)=>{let{paramName:m,isOptional:y}=f;if(m==="*"){let x=u[p]||"";a=s.slice(0,s.length-x.length).replace(/(.)\/+$/,"$1")}const T=u[p];return y&&!T?d[m]=void 0:d[m]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:s,pathnameBase:a,pattern:n}}function ty(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),mp(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let o=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,u,c)=>(o.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(o.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),o]}function oy(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return mp(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function vp(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,o=n.charAt(t);return o&&o!=="/"?null:n.slice(t)||"/"}function iy(n,e){e===void 0&&(e="/");let{pathname:t,search:o="",hash:i=""}=typeof n=="string"?Gt(n):n;return{pathname:t?t.startsWith("/")?t:ry(t,e):e,search:cy(o),hash:dy(i)}}function ry(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function Or(n,e,t,o){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(o)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ly(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function sy(n,e){let t=ly(n);return e?t.map((o,i)=>i===t.length-1?o.pathname:o.pathnameBase):t.map(o=>o.pathnameBase)}function ay(n,e,t,o){o===void 0&&(o=!1);let i;typeof n=="string"?i=Gt(n):(i=Po({},n),re(!i.pathname||!i.pathname.includes("?"),Or("?","pathname","search",i)),re(!i.pathname||!i.pathname.includes("#"),Or("#","pathname","hash",i)),re(!i.search||!i.search.includes("#"),Or("#","search","hash",i)));let s=n===""||i.pathname==="",a=s?"/":i.pathname,u;if(a==null)u=t;else{let p=e.length-1;if(!o&&a.startsWith("..")){let m=a.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}u=p>=0?e[p]:"/"}let c=iy(i,u),d=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&t.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}const Jn=n=>n.join("/").replace(/\/\/+/g,"/"),uy=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),cy=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,dy=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function fy(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Cp=["post","put","patch","delete"];new Set(Cp);const py=["get",...Cp];new Set(py);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Do(){return Do=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(n[o]=t[o])}return n},Do.apply(this,arguments)}const ia=A.createContext(null),my=A.createContext(null),mr=A.createContext(null),hr=A.createContext(null),et=A.createContext({outlet:null,matches:[],isDataRoute:!1}),Tp=A.createContext(null);function gr(){return A.useContext(hr)!=null}function xp(){return gr()||re(!1),A.useContext(hr).location}function Sp(n){A.useContext(mr).static||A.useLayoutEffect(n)}function Ep(){let{isDataRoute:n}=A.useContext(et);return n?ky():hy()}function hy(){gr()||re(!1);let n=A.useContext(ia),{basename:e,future:t,navigator:o}=A.useContext(mr),{matches:i}=A.useContext(et),{pathname:s}=xp(),a=JSON.stringify(sy(i,t.v7_relativeSplatPath)),u=A.useRef(!1);return Sp(()=>{u.current=!0}),A.useCallback(function(d,f){if(f===void 0&&(f={}),!u.current)return;if(typeof d=="number"){o.go(d);return}let p=ay(d,JSON.parse(a),s,f.relative==="path");n==null&&e!=="/"&&(p.pathname=p.pathname==="/"?e:Jn([e,p.pathname])),(f.replace?o.replace:o.push)(p,f.state,f)},[e,o,a,s,n])}function gy(){let{matches:n}=A.useContext(et),e=n[n.length-1];return e?e.params:{}}function yy(n,e){return vy(n,e)}function vy(n,e,t,o){gr()||re(!1);let{navigator:i}=A.useContext(mr),{matches:s}=A.useContext(et),a=s[s.length-1],u=a?a.params:{};a&&a.pathname;let c=a?a.pathnameBase:"/";a&&a.route;let d=xp(),f;if(e){var p;let _=typeof e=="string"?Gt(e):e;c==="/"||(p=_.pathname)!=null&&p.startsWith(c)||re(!1),f=_}else f=d;let m=f.pathname||"/",y=m;if(c!=="/"){let _=c.replace(/^\//,"").split("/");y="/"+m.replace(/^\//,"").split("/").slice(_.length).join("/")}let T=Jg(n,{pathname:y}),x=Ey(T&&T.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:Jn([c,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?c:Jn([c,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,t,o);return e&&x?A.createElement(hr.Provider,{value:{location:Do({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:vn.Pop}},x):x}function Cy(){let n=Iy(),e=fy(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return A.createElement(A.Fragment,null,A.createElement("h2",null,"Unexpected Application Error!"),A.createElement("h3",{style:{fontStyle:"italic"}},e),t?A.createElement("pre",{style:i},t):null,s)}const Ty=A.createElement(Cy,null);class xy extends A.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?A.createElement(et.Provider,{value:this.props.routeContext},A.createElement(Tp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Sy(n){let{routeContext:e,match:t,children:o}=n,i=A.useContext(ia);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),A.createElement(et.Provider,{value:e},o)}function Ey(n,e,t,o){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),o===void 0&&(o=null),n==null){var s;if(!t)return null;if(t.errors)n=t.matches;else if((s=o)!=null&&s.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,u=(i=t)==null?void 0:i.errors;if(u!=null){let f=a.findIndex(p=>p.route.id&&(u==null?void 0:u[p.route.id])!==void 0);f>=0||re(!1),a=a.slice(0,Math.min(a.length,f+1))}let c=!1,d=-1;if(t&&o&&o.v7_partialHydration)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(d=f),p.route.id){let{loaderData:m,errors:y}=t,T=p.route.loader&&m[p.route.id]===void 0&&(!y||y[p.route.id]===void 0);if(p.route.lazy||T){c=!0,d>=0?a=a.slice(0,d+1):a=[a[0]];break}}}return a.reduceRight((f,p,m)=>{let y,T=!1,x=null,_=null;t&&(y=u&&p.route.id?u[p.route.id]:void 0,x=p.route.errorElement||Ty,c&&(d<0&&m===0?(Ay("route-fallback",!1),T=!0,_=null):d===m&&(T=!0,_=p.route.hydrateFallbackElement||null)));let v=e.concat(a.slice(0,m+1)),g=()=>{let C;return y?C=x:T?C=_:p.route.Component?C=A.createElement(p.route.Component,null):p.route.element?C=p.route.element:C=f,A.createElement(Sy,{match:p,routeContext:{outlet:f,matches:v,isDataRoute:t!=null},children:C})};return t&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?A.createElement(xy,{location:t.location,revalidation:t.revalidation,component:x,error:y,children:g(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):g()},null)}var _p=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(_p||{}),Ki=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Ki||{});function _y(n){let e=A.useContext(ia);return e||re(!1),e}function wy(n){let e=A.useContext(my);return e||re(!1),e}function My(n){let e=A.useContext(et);return e||re(!1),e}function wp(n){let e=My(),t=e.matches[e.matches.length-1];return t.route.id||re(!1),t.route.id}function Iy(){var n;let e=A.useContext(Tp),t=wy(Ki.UseRouteError),o=wp(Ki.UseRouteError);return e!==void 0?e:(n=t.errors)==null?void 0:n[o]}function ky(){let{router:n}=_y(_p.UseNavigateStable),e=wp(Ki.UseNavigateStable),t=A.useRef(!1);return Sp(()=>{t.current=!0}),A.useCallback(function(i,s){s===void 0&&(s={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Do({fromRouteId:e},s)))},[n,e])}const Mu={};function Ay(n,e,t){!e&&!Mu[n]&&(Mu[n]=!0)}function Ny(n,e){n==null||n.v7_startTransition,(n==null?void 0:n.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Gn(n){re(!1)}function Ry(n){let{basename:e="/",children:t=null,location:o,navigationType:i=vn.Pop,navigator:s,static:a=!1,future:u}=n;gr()&&re(!1);let c=e.replace(/^\/*/,"/"),d=A.useMemo(()=>({basename:c,navigator:s,static:a,future:Do({v7_relativeSplatPath:!1},u)}),[c,u,s,a]);typeof o=="string"&&(o=Gt(o));let{pathname:f="/",search:p="",hash:m="",state:y=null,key:T="default"}=o,x=A.useMemo(()=>{let _=vp(f,c);return _==null?null:{location:{pathname:_,search:p,hash:m,state:y,key:T},navigationType:i}},[c,f,p,m,y,T,i]);return x==null?null:A.createElement(mr.Provider,{value:d},A.createElement(hr.Provider,{children:t,value:x}))}function Py(n){let{children:e,location:t}=n;return yy(Ql(e),t)}new Promise(()=>{});function Ql(n,e){e===void 0&&(e=[]);let t=[];return A.Children.forEach(n,(o,i)=>{if(!A.isValidElement(o))return;let s=[...e,i];if(o.type===A.Fragment){t.push.apply(t,Ql(o.props.children,s));return}o.type!==Gn&&re(!1),!o.props.index||!o.props.children||re(!1);let a={id:o.props.id||s.join("-"),caseSensitive:o.props.caseSensitive,element:o.props.element,Component:o.props.Component,index:o.props.index,path:o.props.path,loader:o.props.loader,action:o.props.action,errorElement:o.props.errorElement,ErrorBoundary:o.props.ErrorBoundary,hasErrorBoundary:o.props.ErrorBoundary!=null||o.props.errorElement!=null,shouldRevalidate:o.props.shouldRevalidate,handle:o.props.handle,lazy:o.props.lazy};o.props.children&&(a.children=Ql(o.props.children,s)),t.push(a)}),t}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Dy="6";try{window.__reactRouterVersion=Dy}catch{}const Ly="startTransition",Iu=Am[Ly];function Uy(n){let{basename:e,children:t,future:o,window:i}=n,s=A.useRef();s.current==null&&(s.current=qg({window:i,v5Compat:!0}));let a=s.current,[u,c]=A.useState({action:a.action,location:a.location}),{v7_startTransition:d}=o||{},f=A.useCallback(p=>{d&&Iu?Iu(()=>c(p)):c(p)},[c,d]);return A.useLayoutEffect(()=>a.listen(f),[a,f]),A.useEffect(()=>Ny(o),[o]),A.createElement(Ry,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:a,future:o})}var ku;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(ku||(ku={}));var Au;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(Au||(Au={}));const Nu="kopitalk_games",bl={getGames(){const n=localStorage.getItem(Nu);return n?JSON.parse(n):[]},getGame(n){return this.getGames().find(t=>t.id===n)||null},saveGame(n){const e=this.getGames(),t=e.findIndex(o=>o.id===n.id);t>=0?e[t]=n:e.push(n),localStorage.setItem(Nu,JSON.stringify(e))},createGame(n,e){const t={easy:0,medium:0,hard:0,expert:0},o={id:`game_${Date.now()}`,difficulty:n,family_budget:t[n],family_members:e.map(i=>({...i,position:0,points:0,cash:0,ezlink_balance:0})),game_phase:"family_setup",current_player_index:0,game_scenario:null,created_date:new Date().toISOString(),last_updated:new Date().toISOString()};return this.saveGame(o),o}};var Fy={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Vy=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),z=(n,e)=>{const t=A.forwardRef(({color:o="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,children:u,...c},d)=>A.createElement("svg",{ref:d,...Fy,width:i,height:i,stroke:o,strokeWidth:a?Number(s)*24/Number(i):s,className:`lucide lucide-${Vy(n)}`,...c},[...e.map(([f,p])=>A.createElement(f,p)),...(Array.isArray(u)?u:[u])||[]]));return t.displayName=`${n}`,t},Gy=z("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),By=z("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),Yi=z("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]),Ru=z("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),$y=z("ChefHat",[["path",{d:"M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z",key:"z3ra2g"}],["line",{x1:"6",x2:"18",y1:"17",y2:"17",key:"12q60k"}]]),qy=z("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),Pu=z("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]),Mp=z("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Du=z("Dice1",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]]),Hy=z("Dice2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M15 9h.01",key:"x1ddxp"}],["path",{d:"M9 15h.01",key:"fzyn71"}]]),zy=z("Dice3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Jy=z("Dice4",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}]]),Wy=z("Dice5",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 16h.01",key:"18s6g9"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M12 12h.01",key:"1mp3jc"}]]),Ky=z("Dice6",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["path",{d:"M16 8h.01",key:"cr5u4v"}],["path",{d:"M16 12h.01",key:"1l6xoz"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M8 8h.01",key:"1e4136"}],["path",{d:"M8 12h.01",key:"czm47f"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]),Ip=z("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]),Xl=z("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]),Lu=z("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]),Yy=z("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),oo=z("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),Oy=z("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),kp=z("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Qy=z("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]),Wn=z("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),by=z("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),Ap=z("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),yt=z("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Xy=z("VideoOff",[["path",{d:"M10.66 6H14a2 2 0 0 1 2 2v2.34l1 1L22 8v8",key:"ubwiq0"}],["path",{d:"M16 16a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2l10 10Z",key:"1l10zd"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),Zy=z("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]]),Np=z("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),jy=()=>{const[n,e]=A.useState([]),t=Ep();A.useEffect(()=>{e(bl.getGames())},[]);const o=()=>{t("/game")},i=a=>{t(`/game/${a}`)},s=a=>new Date(a).toLocaleDateString("en-SG",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"});return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-kopi-50 via-white to-talk-50",children:[h.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[h.jsx("div",{className:"absolute -top-40 -right-40 w-80 h-80 bg-kopi-200 rounded-full mix-blend-multiply filter blur-xl opacity-50 animate-float"}),h.jsx("div",{className:"absolute -bottom-40 -left-40 w-80 h-80 bg-talk-200 rounded-full mix-blend-multiply filter blur-xl opacity-50 animate-float",style:{animationDelay:"2s"}}),h.jsx("div",{className:"hidden md:block absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-96 h-96 bg-purple-200 rounded-full mix-blend-multiply filter blur-xl opacity-30 animate-float",style:{animationDelay:"4s"}})]}),h.jsxs("div",{className:"relative z-10 container mx-auto px-4 py-8",children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsxs("div",{className:"inline-flex items-center gap-2 mb-6",children:[h.jsx(Pu,{className:"w-8 h-8 text-kopi-500"}),h.jsx("h1",{className:"text-6xl font-bold gradient-text",children:"KopiTalk"}),h.jsx(Lu,{className:"w-8 h-8 text-talk-500"})]}),h.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-2xl mx-auto",children:"Bridge generations through meaningful conversations and fun challenges. A digital companion for real-life family bonding."}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-8 max-w-4xl mx-auto",children:[h.jsxs("div",{className:"card-hover bg-gradient-to-br from-kopi-500 to-kopi-600 p-8 rounded-2xl text-white shadow-lg slide-in-left",children:[h.jsx(Pu,{className:"w-12 h-12 mb-4 mx-auto opacity-90"}),h.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Kopi"}),h.jsx("p",{className:"opacity-90 mb-4",children:"Traditional connections through storytelling, wisdom sharing, and cultural heritage."}),h.jsxs("div",{className:"flex items-center justify-center gap-2 text-kopi-100",children:[h.jsx(Wn,{className:"w-4 h-4"}),h.jsx("span",{className:"text-sm",children:"Cultural Storytelling"})]})]}),h.jsxs("div",{className:"card-hover bg-gradient-to-br from-talk-500 to-talk-600 p-8 rounded-2xl text-white shadow-lg slide-in-right",children:[h.jsx(Lu,{className:"w-12 h-12 mb-4 mx-auto opacity-90"}),h.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Talk"}),h.jsx("p",{className:"opacity-90 mb-4",children:"Modern conversations with AI-powered topics, TikTok trends, and digital challenges."}),h.jsxs("div",{className:"flex items-center justify-center gap-2 text-talk-100",children:[h.jsx(Wn,{className:"w-4 h-4"}),h.jsx("span",{className:"text-sm",children:"AI-Powered Analysis"})]})]})]}),h.jsxs("button",{onClick:o,className:"inline-flex items-center gap-3 bg-gradient-to-r from-kopi-500 via-purple-500 to-talk-500 text-white px-8 py-4 rounded-2xl text-lg font-semibold shadow-lg hover:shadow-xl hover:scale-105 transition-all duration-300",children:[h.jsx(yt,{className:"w-6 h-6"}),"Start New Family Adventure",h.jsx(Wn,{className:"w-6 h-6"})]})]}),n.length>0&&h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("h2",{className:"text-2xl font-bold text-gray-800 mb-6 flex items-center gap-2",children:[h.jsx(qy,{className:"w-6 h-6"}),"Continue Previous Adventures"]}),h.jsx("div",{className:"grid gap-4",children:n.map((a,u)=>h.jsx("div",{onClick:()=>i(a.id),className:"card-hover bg-white p-6 rounded-xl shadow-md border border-gray-100 cursor-pointer fade-in-up",style:{animationDelay:`${u*.1}s`},children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-kopi-500 to-talk-500 rounded-full flex items-center justify-center",children:h.jsx(by,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-gray-800",children:a.family_members.map(c=>c.name).join(", ")}),h.jsxs("p",{className:"text-sm text-gray-500",children:[a.difficulty.charAt(0).toUpperCase()+a.difficulty.slice(1)," • $",a.family_budget," budget •",a.family_members.length," players"]})]})]}),h.jsxs("div",{className:"text-right",children:[h.jsx("p",{className:"text-sm text-gray-500",children:s(a.last_updated)}),h.jsx("p",{className:"text-xs text-gray-400 capitalize",children:a.game_phase.replace("_"," ")})]})]})},a.id))})]})]})]})},ev=({onSetupComplete:n})=>{const[e,t]=A.useState("medium"),[o,i]=A.useState([{name:"",role:"grandfather"},{name:"",role:"son"}]),s=[{id:"easy",label:"Easy",budget:0,color:"bg-green-500",description:"Perfect for first-time players"},{id:"medium",label:"Medium",budget:0,color:"bg-yellow-500",description:"Balanced challenge for most families"},{id:"hard",label:"Hard",budget:0,color:"bg-orange-500",description:"Requires strategic thinking"},{id:"expert",label:"Expert",budget:0,color:"bg-red-500",description:"For experienced players only"}],a=[{id:"grandfather",label:"Grandfather",icon:Mp,type:"senior"},{id:"grandmother",label:"Grandmother",icon:Xl,type:"senior"},{id:"son",label:"Son",icon:yt,type:"young"},{id:"daughter",label:"Daughter",icon:Wn,type:"young"}],u=(m,y,T)=>{const x=[...o];x[m]={...x[m],[y]:T},i(x)},c=()=>{o.length<4&&i([...o,{name:"",role:"son"}])},d=m=>{o.length>2&&i(o.filter((y,T)=>T!==m))},f=()=>{const m=o.every(x=>x.name.trim().length>0),y=o.some(x=>["son","daughter"].includes(x.role)),T=o.some(x=>["grandfather","grandmother"].includes(x.role));return m&&y&&T},p=()=>{f()&&n(e,o)};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-kopi-50 via-white to-talk-50",children:h.jsx("div",{className:"container mx-auto px-4 py-8",children:h.jsxs("div",{className:"max-w-2xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-8 fade-in-up",children:[h.jsx("h1",{className:"text-4xl font-bold gradient-text mb-4",children:"Family Setup"}),h.jsx("p",{className:"text-gray-600 slide-in-left",children:"Configure your family for the KopiTalk adventure"})]}),h.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg mb-8 slide-in-left",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Choose Difficulty"}),h.jsx("div",{className:"grid grid-cols-2 gap-4",children:s.map((m,y)=>h.jsxs("button",{onClick:()=>t(m.id),className:`p-4 rounded-xl border-2 text-left transition-all duration-300 card-hover ${e===m.id?"border-kopi-500 bg-kopi-50":"border-gray-200 hover:border-gray-300 hover:bg-gray-50"}`,children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:`w-3 h-3 rounded-full ${m.color}`}),h.jsx("span",{className:"font-medium text-gray-800",children:m.label})]}),h.jsxs("p",{className:"text-sm text-gray-600 mb-1",children:["$",m.budget," starting budget"]}),h.jsx("p",{className:"text-xs text-gray-500",children:m.description})]},m.id))})]}),h.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg mb-8 slide-in-right",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Family Members"}),o.length<4&&h.jsx("button",{onClick:c,className:"text-kopi-500 hover:text-kopi-600 text-sm font-medium transition-colors duration-200",children:"+ Add Player"})]}),h.jsx("div",{className:"space-y-4",children:o.map((m,y)=>h.jsxs("div",{className:"flex gap-4 items-center",children:[h.jsx("div",{className:"flex-1",children:h.jsx("input",{type:"text",placeholder:"Enter name",value:m.name,onChange:T=>u(y,"name",T.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-kopi-500 transition-colors duration-200"})}),h.jsx("div",{className:"flex-1",children:h.jsx("select",{value:m.role,onChange:T=>u(y,"role",T.target.value),className:"w-full px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-kopi-500 transition-colors duration-200",children:a.map(T=>h.jsx("option",{value:T.id,children:T.label},T.id))})}),o.length>2&&h.jsx("button",{onClick:()=>d(y),className:"text-red-500 hover:text-red-600 text-sm transition-colors duration-200",children:"Remove"})]},y))}),!f()&&h.jsx("div",{className:"mt-4 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:h.jsx("p",{className:"text-sm text-yellow-800",children:"Please ensure all players have names and you have at least one young member (Son/Daughter) and one senior member (Grandfather/Grandmother)."})})]}),h.jsx("button",{onClick:p,disabled:!f(),className:`w-full py-4 rounded-2xl text-white font-semibold text-lg transition-all duration-300 ${f()?"bg-gradient-to-r from-kopi-500 to-talk-500 hover:shadow-xl hover:scale-105":"bg-gray-300 cursor-not-allowed opacity-50"}`,children:"Start Family Adventure"})]})})})};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let nv,tv;function ov(){return{geminiUrl:nv,vertexUrl:tv}}function iv(n,e,t,o){var i,s;if(!(n!=null&&n.baseUrl)){const a=ov();return e?(i=a.vertexUrl)!==null&&i!==void 0?i:t:(s=a.geminiUrl)!==null&&s!==void 0?s:o}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class nt{}function L(n,e){const t=/\{([^}]+)\}/g;return n.replace(t,(o,i)=>{if(Object.prototype.hasOwnProperty.call(e,i)){const s=e[i];return s!=null?String(s):""}else throw new Error(`Key '${i}' not found in valueMap.`)})}function l(n,e,t){for(let s=0;s<e.length-1;s++){const a=e[s];if(a.endsWith("[]")){const u=a.slice(0,-2);if(!(u in n))if(Array.isArray(t))n[u]=Array.from({length:t.length},()=>({}));else throw new Error(`Value must be a list given an array path ${a}`);if(Array.isArray(n[u])){const c=n[u];if(Array.isArray(t))for(let d=0;d<c.length;d++){const f=c[d];l(f,e.slice(s+1),t[d])}else for(const d of c)l(d,e.slice(s+1),t)}return}else if(a.endsWith("[0]")){const u=a.slice(0,-3);u in n||(n[u]=[{}]);const c=n[u];l(c[0],e.slice(s+1),t);return}(!n[a]||typeof n[a]!="object")&&(n[a]={}),n=n[a]}const o=e[e.length-1],i=n[o];if(i!==void 0){if(!t||typeof t=="object"&&Object.keys(t).length===0||t===i)return;if(typeof i=="object"&&typeof t=="object"&&i!==null&&t!==null)Object.assign(i,t);else throw new Error(`Cannot set value for an existing key. Key: ${o}`)}else o==="_self"&&typeof t=="object"&&t!==null&&!Array.isArray(t)?Object.assign(n,t):n[o]=t}function r(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let t=0;t<e.length;t++){if(typeof n!="object"||n===null)return;const o=e[t];if(o.endsWith("[]")){const i=o.slice(0,-2);if(i in n){const s=n[i];return Array.isArray(s)?s.map(a=>r(a,e.slice(t+1))):void 0}else return}else n=n[o]}return n}catch(t){if(t instanceof TypeError)return;throw t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ra(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rv(n){const e={},t=r(n,["operationName"]);t!=null&&l(e,["_url","operationName"],t);const o=r(n,["config"]);return o!=null&&l(e,["config"],o),e}function lv(n){const e={},t=r(n,["operationName"]);t!=null&&l(e,["operationName"],t);const o=r(n,["resourceName"]);o!=null&&l(e,["_url","resourceName"],o);const i=r(n,["config"]);return i!=null&&l(e,["config"],i),e}function sv(n){const e={},t=r(n,["operationName"]);t!=null&&l(e,["_url","operationName"],t);const o=r(n,["config"]);return o!=null&&l(e,["config"],o),e}function av(n){const e={},t=r(n,["video","uri"]);t!=null&&l(e,["uri"],t);const o=r(n,["video","encodedVideo"]);o!=null&&l(e,["videoBytes"],ra(o));const i=r(n,["encoding"]);return i!=null&&l(e,["mimeType"],i),e}function uv(n){const e={},t=r(n,["_self"]);return t!=null&&l(e,["video"],av(t)),e}function cv(n){const e={},t=r(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>uv(a))),l(e,["generatedVideos"],s)}const o=r(n,["raiMediaFilteredCount"]);o!=null&&l(e,["raiMediaFilteredCount"],o);const i=r(n,["raiMediaFilteredReasons"]);return i!=null&&l(e,["raiMediaFilteredReasons"],i),e}function dv(n){const e={},t=r(n,["name"]);t!=null&&l(e,["name"],t);const o=r(n,["metadata"]);o!=null&&l(e,["metadata"],o);const i=r(n,["done"]);i!=null&&l(e,["done"],i);const s=r(n,["error"]);s!=null&&l(e,["error"],s);const a=r(n,["response","generateVideoResponse"]);return a!=null&&l(e,["response"],cv(a)),e}function fv(n){const e={},t=r(n,["gcsUri"]);t!=null&&l(e,["uri"],t);const o=r(n,["bytesBase64Encoded"]);o!=null&&l(e,["videoBytes"],ra(o));const i=r(n,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function pv(n){const e={},t=r(n,["_self"]);return t!=null&&l(e,["video"],fv(t)),e}function mv(n){const e={},t=r(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>pv(a))),l(e,["generatedVideos"],s)}const o=r(n,["raiMediaFilteredCount"]);o!=null&&l(e,["raiMediaFilteredCount"],o);const i=r(n,["raiMediaFilteredReasons"]);return i!=null&&l(e,["raiMediaFilteredReasons"],i),e}function hv(n){const e={},t=r(n,["name"]);t!=null&&l(e,["name"],t);const o=r(n,["metadata"]);o!=null&&l(e,["metadata"],o);const i=r(n,["done"]);i!=null&&l(e,["done"],i);const s=r(n,["error"]);s!=null&&l(e,["error"],s);const a=r(n,["response"]);return a!=null&&l(e,["response"],mv(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Uu;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Uu||(Uu={}));var Fu;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Fu||(Fu={}));var Cn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Cn||(Cn={}));var Vu;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Vu||(Vu={}));var Gu;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Gu||(Gu={}));var Bu;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Bu||(Bu={}));var $u;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})($u||($u={}));var qu;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(qu||(qu={}));var Hu;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Hu||(Hu={}));var zu;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(zu||(zu={}));var Ju;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Ju||(Ju={}));var Wu;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(Wu||(Wu={}));var Ku;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Ku||(Ku={}));var Yu;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(Yu||(Yu={}));var Ou;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Ou||(Ou={}));var Oi;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(Oi||(Oi={}));var Qu;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Qu||(Qu={}));var Zl;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Zl||(Zl={}));var bu;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(bu||(bu={}));var Xu;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Xu||(Xu={}));var Zu;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Zu||(Zu={}));var ju;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(ju||(ju={}));var ec;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(ec||(ec={}));var nc;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(nc||(nc={}));var tc;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(tc||(tc={}));var oc;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(oc||(oc={}));var ic;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(ic||(ic={}));var rc;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(rc||(rc={}));var lc;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(lc||(lc={}));var sc;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(sc||(sc={}));var ac;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(ac||(ac={}));var uc;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(uc||(uc={}));var cc;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(cc||(cc={}));var dc;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(dc||(dc={}));var fc;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(fc||(fc={}));var pc;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(pc||(pc={}));var mc;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(mc||(mc={}));var hc;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(hc||(hc={}));var gc;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(gc||(gc={}));var yc;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(yc||(yc={}));var vc;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(vc||(vc={}));var Cc;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Cc||(Cc={}));var Tc;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Tc||(Tc={}));var xc;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(xc||(xc={}));var Sc;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Sc||(Sc={}));var vt;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(vt||(vt={}));class jl{constructor(e){const t={};for(const o of e.headers.entries())t[o[0]]=o[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class Zt{get text(){var e,t,o,i,s,a,u,c;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let d="",f=!1;const p=[];for(const m of(c=(u=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[y,T]of Object.entries(m))y!=="text"&&y!=="thought"&&(T!==null||T!==void 0)&&p.push(y);if(typeof m.text=="string"){if(typeof m.thought=="boolean"&&m.thought)continue;f=!0,d+=m.text}}return p.length>0&&console.warn(`there are non-text parts ${p} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),f?d:void 0}get data(){var e,t,o,i,s,a,u,c;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let d="";const f=[];for(const p of(c=(u=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)!==null&&c!==void 0?c:[]){for(const[m,y]of Object.entries(p))m!=="inlineData"&&(y!==null||y!==void 0)&&f.push(m);p.inlineData&&typeof p.inlineData.data=="string"&&(d+=atob(p.inlineData.data))}return f.length>0&&console.warn(`there are non-data parts ${f} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),d.length>0?btoa(d):void 0}get functionCalls(){var e,t,o,i,s,a,u,c;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const d=(c=(u=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(f=>f.functionCall).map(f=>f.functionCall).filter(f=>f!==void 0);if((d==null?void 0:d.length)!==0)return d}get executableCode(){var e,t,o,i,s,a,u,c,d;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const f=(c=(u=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.executableCode).map(p=>p.executableCode).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.code}get codeExecutionResult(){var e,t,o,i,s,a,u,c,d;if(((i=(o=(t=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||t===void 0?void 0:t.content)===null||o===void 0?void 0:o.parts)===null||i===void 0?void 0:i.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const f=(c=(u=(a=(s=this.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content)===null||u===void 0?void 0:u.parts)===null||c===void 0?void 0:c.filter(p=>p.codeExecutionResult).map(p=>p.codeExecutionResult).filter(p=>p!==void 0);if((f==null?void 0:f.length)!==0)return(d=f==null?void 0:f[0])===null||d===void 0?void 0:d.output}}class Ec{}class _c{}class gv{}class yv{}class vv{}class Cv{}class wc{}class Mc{}class Ic{}class Tv{}class Qi{_fromAPIResponse({apiResponse:e,isVertexAI:t}){const o=new Qi;let i;const s=e;return t?i=hv(s):i=dv(s),Object.assign(o,i),o}}class kc{}class Ac{}class Nc{}class xv{}class Sv{}class Ev{}class Rc{}class _v{get text(){var e,t,o;let i="",s=!1;const a=[];for(const u of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[c,d]of Object.entries(u))c!=="text"&&c!=="thought"&&d!==null&&a.push(c);if(typeof u.text=="string"){if(typeof u.thought=="boolean"&&u.thought)continue;s=!0,i+=u.text}}return a.length>0&&console.warn(`there are non-text parts ${a} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),s?i:void 0}get data(){var e,t,o;let i="";const s=[];for(const a of(o=(t=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||t===void 0?void 0:t.parts)!==null&&o!==void 0?o:[]){for(const[u,c]of Object.entries(a))u!=="inlineData"&&c!==null&&s.push(u);a.inlineData&&typeof a.inlineData.data=="string"&&(i+=atob(a.inlineData.data))}return s.length>0&&console.warn(`there are non-data parts ${s} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),i.length>0?btoa(i):void 0}}class wv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const t=e.split("/",2);return`publishers/${t[0]}/models/${t[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function Rp(n,e){const t=$(n,e);return t?t.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:t.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${t}`:t:""}function Pp(n){return Array.isArray(n)?n.map(e=>bi(e)):[bi(n)]}function bi(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function Dp(n){const e=bi(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Lp(n){const e=bi(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function Pc(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Up(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>Pc(e)):[Pc(n)]}function es(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Dc(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Lc(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function he(n){if(n==null)throw new Error("ContentUnion is required");return es(n)?n:{role:"user",parts:Up(n)}}function la(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(t=>{const o=he(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]});if(n.isVertexAI()){const t=he(e);return t.parts&&t.parts.length>0&&t.parts[0].text!==void 0?[t.parts[0].text]:[]}return Array.isArray(e)?e.map(t=>he(t)):[he(e)]}function Fe(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Dc(n)||Lc(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[he(n)]}const e=[],t=[],o=es(n[0]);for(const i of n){const s=es(i);if(s!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(s)e.push(i);else{if(Dc(i)||Lc(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");t.push(i)}}return o||e.push({role:"user",parts:Up(t)}),e}function Mv(n,e){n.includes("null")&&(e.nullable=!0);const t=n.filter(o=>o!=="null");if(t.length===1)e.type=Object.values(Cn).includes(t[0].toUpperCase())?t[0].toUpperCase():Cn.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const o of t)e.anyOf.push({type:Object.values(Cn).includes(o.toUpperCase())?o.toUpperCase():Cn.TYPE_UNSPECIFIED})}}function wt(n){const e={},t=["items"],o=["anyOf"],i=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const s=n.anyOf;s!=null&&s.length==2&&(s[0].type==="null"?(e.nullable=!0,n=s[1]):s[1].type==="null"&&(e.nullable=!0,n=s[0])),n.type instanceof Array&&Mv(n.type,e);for(const[a,u]of Object.entries(n))if(u!=null)if(a=="type"){if(u==="null")throw new Error("type: null can not be the only possible type for the field.");if(u instanceof Array)continue;e.type=Object.values(Cn).includes(u.toUpperCase())?u.toUpperCase():Cn.TYPE_UNSPECIFIED}else if(t.includes(a))e[a]=wt(u);else if(o.includes(a)){const c=[];for(const d of u){if(d.type=="null"){e.nullable=!0;continue}c.push(wt(d))}e[a]=c}else if(i.includes(a)){const c={};for(const[d,f]of Object.entries(u))c[d]=wt(f);e[a]=c}else{if(a==="additionalProperties")continue;e[a]=u}return e}function sa(n){return wt(n)}function aa(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function ua(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function Bt(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=wt(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=wt(e.response));return n}function $t(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const t of n)e.push(t);return e}function Iv(n,e,t,o=1){const i=!e.startsWith(`${t}/`)&&e.split("/").length===o;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${t}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:i?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}/${e}`:e:i?`${t}/${e}`:e}function cn(n,e){if(typeof e!="string")throw new Error("name must be a string");return Iv(n,e,"cachedContents")}function Fp(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function tt(n){return ra(n)}function kv(n){return n!=null&&typeof n=="object"&&"name"in n}function Av(n){return n!=null&&typeof n=="object"&&"video"in n}function Nv(n){return n!=null&&typeof n=="object"&&"uri"in n}function Vp(n){var e;let t;if(kv(n)&&(t=n.name),!(Nv(n)&&(t=n.uri,t===void 0))&&!(Av(n)&&(t=(e=n.video)===null||e===void 0?void 0:e.uri,t===void 0))){if(typeof n=="string"&&(t=n),t===void 0)throw new Error("Could not extract file name from the provided input.");if(t.startsWith("https://")){const i=t.split("files/")[1].match(/[a-z0-9]+/);if(i===null)throw new Error(`Could not extract file name from URI ${t}`);t=i[0]}else t.startsWith("files/")&&(t=t.split("files/")[1]);return t}}function Gp(n,e){let t;return n.isVertexAI()?t=e?"publishers/google/models":"models":t=e?"models":"tunedModels",t}function Bp(n){for(const e of["models","tunedModels","publisherModels"])if(Rv(n,e))return n[e];return[]}function Rv(n,e){return n!==null&&typeof n=="object"&&e in n}function Pv(n,e={}){const t=n,o={name:t.name,description:t.description,parametersJsonSchema:t.inputSchema};return t.outputSchema&&(o.responseJsonSchema=t.outputSchema),e.behavior&&(o.behavior=e.behavior),{functionDeclarations:[o]}}function Dv(n,e={}){const t=[],o=new Set;for(const i of n){const s=i.name;if(o.has(s))throw new Error(`Duplicate function name ${s} found in MCP tools. Please ensure function names are unique.`);o.add(s);const a=Pv(i,e);a.functionDeclarations&&t.push(...a.functionDeclarations)}return{functionDeclarations:t}}function $p(n,e){let t;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))t={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))t={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))t={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");t={inlinedRequests:e}}else t=e;const o=[t.gcsUri,t.bigqueryUri].filter(Boolean).length,i=[t.inlinedRequests,t.fileName].filter(Boolean).length;if(n.isVertexAI()){if(i>0||o!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(o>0||i!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return t}function Lv(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function qp(n){if(typeof n!="object"||n===null)return{};const e=n,t=e.inlinedResponses;if(typeof t!="object"||t===null)return n;const i=t.inlinedResponses;if(!Array.isArray(i)||i.length===0)return n;let s=!1;for(const a of i){if(typeof a!="object"||a===null)continue;const c=a.response;if(typeof c!="object"||c===null)continue;if(c.embedding!==void 0){s=!0;break}}return s&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function qt(n,e){const t=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(t))return t.split("/").pop();throw new Error(`Invalid batch job name: ${t}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(t))return t.split("/").pop();if(/^\d+$/.test(t))return t;throw new Error(`Invalid batch job name: ${t}.`)}function Hp(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uv(n){const e={},t=r(n,["fps"]);t!=null&&l(e,["fps"],t);const o=r(n,["endOffset"]);o!=null&&l(e,["endOffset"],o);const i=r(n,["startOffset"]);return i!=null&&l(e,["startOffset"],i),e}function Fv(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=r(n,["data"]);t!=null&&l(e,["data"],t);const o=r(n,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Vv(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=r(n,["fileUri"]);t!=null&&l(e,["fileUri"],t);const o=r(n,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Gv(n){const e={},t=r(n,["id"]);t!=null&&l(e,["id"],t);const o=r(n,["args"]);o!=null&&l(e,["args"],o);const i=r(n,["name"]);return i!=null&&l(e,["name"],i),e}function Bv(n){const e={},t=r(n,["videoMetadata"]);t!=null&&l(e,["videoMetadata"],Uv(t));const o=r(n,["thought"]);o!=null&&l(e,["thought"],o);const i=r(n,["inlineData"]);i!=null&&l(e,["inlineData"],Fv(i));const s=r(n,["fileData"]);s!=null&&l(e,["fileData"],Vv(s));const a=r(n,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);const u=r(n,["functionCall"]);u!=null&&l(e,["functionCall"],Gv(u));const c=r(n,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);const d=r(n,["executableCode"]);d!=null&&l(e,["executableCode"],d);const f=r(n,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const p=r(n,["text"]);return p!=null&&l(e,["text"],p),e}function zp(n){const e={},t=r(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>Bv(s))),l(e,["parts"],i)}const o=r(n,["role"]);return o!=null&&l(e,["role"],o),e}function $v(n){const e={},t=r(n,["anyOf"]);t!=null&&l(e,["anyOf"],t);const o=r(n,["default"]);o!=null&&l(e,["default"],o);const i=r(n,["description"]);i!=null&&l(e,["description"],i);const s=r(n,["enum"]);s!=null&&l(e,["enum"],s);const a=r(n,["example"]);a!=null&&l(e,["example"],a);const u=r(n,["format"]);u!=null&&l(e,["format"],u);const c=r(n,["items"]);c!=null&&l(e,["items"],c);const d=r(n,["maxItems"]);d!=null&&l(e,["maxItems"],d);const f=r(n,["maxLength"]);f!=null&&l(e,["maxLength"],f);const p=r(n,["maxProperties"]);p!=null&&l(e,["maxProperties"],p);const m=r(n,["maximum"]);m!=null&&l(e,["maximum"],m);const y=r(n,["minItems"]);y!=null&&l(e,["minItems"],y);const T=r(n,["minLength"]);T!=null&&l(e,["minLength"],T);const x=r(n,["minProperties"]);x!=null&&l(e,["minProperties"],x);const _=r(n,["minimum"]);_!=null&&l(e,["minimum"],_);const v=r(n,["nullable"]);v!=null&&l(e,["nullable"],v);const g=r(n,["pattern"]);g!=null&&l(e,["pattern"],g);const C=r(n,["properties"]);C!=null&&l(e,["properties"],C);const S=r(n,["propertyOrdering"]);S!=null&&l(e,["propertyOrdering"],S);const w=r(n,["required"]);w!=null&&l(e,["required"],w);const E=r(n,["title"]);E!=null&&l(e,["title"],E);const M=r(n,["type"]);return M!=null&&l(e,["type"],M),e}function qv(n){const e={};if(r(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const t=r(n,["category"]);t!=null&&l(e,["category"],t);const o=r(n,["threshold"]);return o!=null&&l(e,["threshold"],o),e}function Hv(n){const e={},t=r(n,["behavior"]);t!=null&&l(e,["behavior"],t);const o=r(n,["description"]);o!=null&&l(e,["description"],o);const i=r(n,["name"]);i!=null&&l(e,["name"],i);const s=r(n,["parameters"]);s!=null&&l(e,["parameters"],s);const a=r(n,["parametersJsonSchema"]);a!=null&&l(e,["parametersJsonSchema"],a);const u=r(n,["response"]);u!=null&&l(e,["response"],u);const c=r(n,["responseJsonSchema"]);return c!=null&&l(e,["responseJsonSchema"],c),e}function zv(n){const e={},t=r(n,["startTime"]);t!=null&&l(e,["startTime"],t);const o=r(n,["endTime"]);return o!=null&&l(e,["endTime"],o),e}function Jv(n){const e={},t=r(n,["timeRangeFilter"]);if(t!=null&&l(e,["timeRangeFilter"],zv(t)),r(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Wv(n){const e={},t=r(n,["mode"]);t!=null&&l(e,["mode"],t);const o=r(n,["dynamicThreshold"]);return o!=null&&l(e,["dynamicThreshold"],o),e}function Kv(n){const e={},t=r(n,["dynamicRetrievalConfig"]);return t!=null&&l(e,["dynamicRetrievalConfig"],Wv(t)),e}function Yv(){return{}}function Ov(n){const e={},t=r(n,["environment"]);return t!=null&&l(e,["environment"],t),e}function Qv(n){const e={},t=r(n,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(d=>Hv(d))),l(e,["functionDeclarations"],c)}if(r(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(n,["googleSearch"]);o!=null&&l(e,["googleSearch"],Jv(o));const i=r(n,["googleSearchRetrieval"]);if(i!=null&&l(e,["googleSearchRetrieval"],Kv(i)),r(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(n,["urlContext"])!=null&&l(e,["urlContext"],Yv());const a=r(n,["computerUse"]);a!=null&&l(e,["computerUse"],Ov(a));const u=r(n,["codeExecution"]);return u!=null&&l(e,["codeExecution"],u),e}function bv(n){const e={},t=r(n,["mode"]);t!=null&&l(e,["mode"],t);const o=r(n,["allowedFunctionNames"]);return o!=null&&l(e,["allowedFunctionNames"],o),e}function Xv(n){const e={},t=r(n,["latitude"]);t!=null&&l(e,["latitude"],t);const o=r(n,["longitude"]);return o!=null&&l(e,["longitude"],o),e}function Zv(n){const e={},t=r(n,["latLng"]);t!=null&&l(e,["latLng"],Xv(t));const o=r(n,["languageCode"]);return o!=null&&l(e,["languageCode"],o),e}function jv(n){const e={},t=r(n,["functionCallingConfig"]);t!=null&&l(e,["functionCallingConfig"],bv(t));const o=r(n,["retrievalConfig"]);return o!=null&&l(e,["retrievalConfig"],Zv(o)),e}function e0(n){const e={},t=r(n,["voiceName"]);return t!=null&&l(e,["voiceName"],t),e}function Jp(n){const e={},t=r(n,["prebuiltVoiceConfig"]);return t!=null&&l(e,["prebuiltVoiceConfig"],e0(t)),e}function n0(n){const e={},t=r(n,["speaker"]);t!=null&&l(e,["speaker"],t);const o=r(n,["voiceConfig"]);return o!=null&&l(e,["voiceConfig"],Jp(o)),e}function t0(n){const e={},t=r(n,["speakerVoiceConfigs"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>n0(i))),l(e,["speakerVoiceConfigs"],o)}return e}function o0(n){const e={},t=r(n,["voiceConfig"]);t!=null&&l(e,["voiceConfig"],Jp(t));const o=r(n,["multiSpeakerVoiceConfig"]);o!=null&&l(e,["multiSpeakerVoiceConfig"],t0(o));const i=r(n,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function i0(n){const e={},t=r(n,["includeThoughts"]);t!=null&&l(e,["includeThoughts"],t);const o=r(n,["thinkingBudget"]);return o!=null&&l(e,["thinkingBudget"],o),e}function r0(n,e,t){const o={},i=r(e,["systemInstruction"]);t!==void 0&&i!=null&&l(t,["systemInstruction"],zp(he(i)));const s=r(e,["temperature"]);s!=null&&l(o,["temperature"],s);const a=r(e,["topP"]);a!=null&&l(o,["topP"],a);const u=r(e,["topK"]);u!=null&&l(o,["topK"],u);const c=r(e,["candidateCount"]);c!=null&&l(o,["candidateCount"],c);const d=r(e,["maxOutputTokens"]);d!=null&&l(o,["maxOutputTokens"],d);const f=r(e,["stopSequences"]);f!=null&&l(o,["stopSequences"],f);const p=r(e,["responseLogprobs"]);p!=null&&l(o,["responseLogprobs"],p);const m=r(e,["logprobs"]);m!=null&&l(o,["logprobs"],m);const y=r(e,["presencePenalty"]);y!=null&&l(o,["presencePenalty"],y);const T=r(e,["frequencyPenalty"]);T!=null&&l(o,["frequencyPenalty"],T);const x=r(e,["seed"]);x!=null&&l(o,["seed"],x);const _=r(e,["responseMimeType"]);_!=null&&l(o,["responseMimeType"],_);const v=r(e,["responseSchema"]);v!=null&&l(o,["responseSchema"],$v(sa(v)));const g=r(e,["responseJsonSchema"]);if(g!=null&&l(o,["responseJsonSchema"],g),r(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=r(e,["safetySettings"]);if(t!==void 0&&C!=null){let P=C;Array.isArray(P)&&(P=P.map(q=>qv(q))),l(t,["safetySettings"],P)}const S=r(e,["tools"]);if(t!==void 0&&S!=null){let P=$t(S);Array.isArray(P)&&(P=P.map(q=>Qv(Bt(q)))),l(t,["tools"],P)}const w=r(e,["toolConfig"]);if(t!==void 0&&w!=null&&l(t,["toolConfig"],jv(w)),r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=r(e,["cachedContent"]);t!==void 0&&E!=null&&l(t,["cachedContent"],cn(n,E));const M=r(e,["responseModalities"]);M!=null&&l(o,["responseModalities"],M);const R=r(e,["mediaResolution"]);R!=null&&l(o,["mediaResolution"],R);const k=r(e,["speechConfig"]);if(k!=null&&l(o,["speechConfig"],o0(aa(k))),r(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=r(e,["thinkingConfig"]);return I!=null&&l(o,["thinkingConfig"],i0(I)),o}function l0(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["request","model"],$(n,o));const i=r(e,["contents"]);if(i!=null){let a=Fe(i);Array.isArray(a)&&(a=a.map(u=>zp(u))),l(t,["request","contents"],a)}const s=r(e,["config"]);return s!=null&&l(t,["request","generationConfig"],r0(n,s,t)),t}function s0(n,e){const t={};if(r(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(r(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const o=r(e,["fileName"]);o!=null&&l(t,["fileName"],o);const i=r(e,["inlinedRequests"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>l0(n,a))),l(t,["requests","requests"],s)}return t}function a0(n,e){const t={},o=r(n,["displayName"]);if(e!==void 0&&o!=null&&l(e,["batch","displayName"],o),r(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return t}function Qr(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],$(n,o));const i=r(e,["src"]);i!=null&&l(t,["batch","inputConfig"],s0(n,$p(n,i)));const s=r(e,["config"]);return s!=null&&l(t,["config"],a0(s,t)),t}function u0(n,e){const t={},o=r(n,["taskType"]);e!==void 0&&o!=null&&l(e,["requests[]","taskType"],o);const i=r(n,["title"]);e!==void 0&&i!=null&&l(e,["requests[]","title"],i);const s=r(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&l(e,["requests[]","outputDimensionality"],s),r(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function c0(n,e){const t={},o=r(e,["contents"]);o!=null&&l(t,["requests[]","request","content"],la(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],u0(i,t)),t}function d0(n,e){const t={},o=r(e,["fileName"]);o!=null&&l(t,["file_name"],o);const i=r(e,["inlinedRequests"]);return i!=null&&l(t,["requests"],c0(n,i)),t}function f0(n,e){const t={},o=r(n,["displayName"]);return e!==void 0&&o!=null&&l(e,["batch","displayName"],o),t}function br(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],$(n,o));const i=r(e,["src"]);i!=null&&l(t,["batch","inputConfig"],d0(n,i));const s=r(e,["config"]);return s!=null&&l(t,["config"],f0(s,t)),t}function p0(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["_url","name"],qt(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function m0(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["_url","name"],qt(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function h0(n,e){const t={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);const i=r(n,["pageToken"]);if(e!==void 0&&i!=null&&l(e,["_query","pageToken"],i),r(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return t}function g0(n){const e={},t=r(n,["config"]);return t!=null&&l(e,["config"],h0(t,e)),e}function y0(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["_url","name"],qt(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function v0(n){const e={},t=r(n,["format"]);t!=null&&l(e,["instancesFormat"],t);const o=r(n,["gcsUri"]);o!=null&&l(e,["gcsSource","uris"],o);const i=r(n,["bigqueryUri"]);if(i!=null&&l(e,["bigquerySource","inputUri"],i),r(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function C0(n){const e={},t=r(n,["format"]);t!=null&&l(e,["predictionsFormat"],t);const o=r(n,["gcsUri"]);o!=null&&l(e,["gcsDestination","outputUriPrefix"],o);const i=r(n,["bigqueryUri"]);if(i!=null&&l(e,["bigqueryDestination","outputUri"],i),r(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(r(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(r(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function T0(n,e){const t={},o=r(n,["displayName"]);e!==void 0&&o!=null&&l(e,["displayName"],o);const i=r(n,["dest"]);return e!==void 0&&i!=null&&l(e,["outputConfig"],C0(Lv(i))),t}function x0(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["model"],$(n,o));const i=r(e,["src"]);i!=null&&l(t,["inputConfig"],v0($p(n,i)));const s=r(e,["config"]);return s!=null&&l(t,["config"],T0(s,t)),t}function S0(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["_url","name"],qt(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function E0(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["_url","name"],qt(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function _0(n,e){const t={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);const i=r(n,["pageToken"]);e!==void 0&&i!=null&&l(e,["_query","pageToken"],i);const s=r(n,["filter"]);return e!==void 0&&s!=null&&l(e,["_query","filter"],s),t}function w0(n){const e={},t=r(n,["config"]);return t!=null&&l(e,["config"],_0(t,e)),e}function M0(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["_url","name"],qt(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function I0(n){const e={},t=r(n,["fps"]);t!=null&&l(e,["fps"],t);const o=r(n,["endOffset"]);o!=null&&l(e,["endOffset"],o);const i=r(n,["startOffset"]);return i!=null&&l(e,["startOffset"],i),e}function k0(n){const e={},t=r(n,["data"]);t!=null&&l(e,["data"],t);const o=r(n,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function A0(n){const e={},t=r(n,["fileUri"]);t!=null&&l(e,["fileUri"],t);const o=r(n,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function N0(n){const e={},t=r(n,["id"]);t!=null&&l(e,["id"],t);const o=r(n,["args"]);o!=null&&l(e,["args"],o);const i=r(n,["name"]);return i!=null&&l(e,["name"],i),e}function R0(n){const e={},t=r(n,["videoMetadata"]);t!=null&&l(e,["videoMetadata"],I0(t));const o=r(n,["thought"]);o!=null&&l(e,["thought"],o);const i=r(n,["inlineData"]);i!=null&&l(e,["inlineData"],k0(i));const s=r(n,["fileData"]);s!=null&&l(e,["fileData"],A0(s));const a=r(n,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);const u=r(n,["functionCall"]);u!=null&&l(e,["functionCall"],N0(u));const c=r(n,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);const d=r(n,["executableCode"]);d!=null&&l(e,["executableCode"],d);const f=r(n,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const p=r(n,["text"]);return p!=null&&l(e,["text"],p),e}function P0(n){const e={},t=r(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>R0(s))),l(e,["parts"],i)}const o=r(n,["role"]);return o!=null&&l(e,["role"],o),e}function D0(n){const e={},t=r(n,["citationSources"]);return t!=null&&l(e,["citations"],t),e}function L0(n){const e={},t=r(n,["retrievedUrl"]);t!=null&&l(e,["retrievedUrl"],t);const o=r(n,["urlRetrievalStatus"]);return o!=null&&l(e,["urlRetrievalStatus"],o),e}function U0(n){const e={},t=r(n,["urlMetadata"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>L0(i))),l(e,["urlMetadata"],o)}return e}function F0(n){const e={},t=r(n,["content"]);t!=null&&l(e,["content"],P0(t));const o=r(n,["citationMetadata"]);o!=null&&l(e,["citationMetadata"],D0(o));const i=r(n,["tokenCount"]);i!=null&&l(e,["tokenCount"],i);const s=r(n,["finishReason"]);s!=null&&l(e,["finishReason"],s);const a=r(n,["urlContextMetadata"]);a!=null&&l(e,["urlContextMetadata"],U0(a));const u=r(n,["avgLogprobs"]);u!=null&&l(e,["avgLogprobs"],u);const c=r(n,["groundingMetadata"]);c!=null&&l(e,["groundingMetadata"],c);const d=r(n,["index"]);d!=null&&l(e,["index"],d);const f=r(n,["logprobsResult"]);f!=null&&l(e,["logprobsResult"],f);const p=r(n,["safetyRatings"]);return p!=null&&l(e,["safetyRatings"],p),e}function V0(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>F0(d))),l(e,["candidates"],c)}const i=r(n,["modelVersion"]);i!=null&&l(e,["modelVersion"],i);const s=r(n,["promptFeedback"]);s!=null&&l(e,["promptFeedback"],s);const a=r(n,["responseId"]);a!=null&&l(e,["responseId"],a);const u=r(n,["usageMetadata"]);return u!=null&&l(e,["usageMetadata"],u),e}function ca(n){const e={},t=r(n,["details"]);t!=null&&l(e,["details"],t);const o=r(n,["code"]);o!=null&&l(e,["code"],o);const i=r(n,["message"]);return i!=null&&l(e,["message"],i),e}function G0(n){const e={},t=r(n,["response"]);t!=null&&l(e,["response"],V0(t));const o=r(n,["error"]);return o!=null&&l(e,["error"],ca(o)),e}function B0(n){const e={},t=r(n,["values"]);return t!=null&&l(e,["values"],t),e}function $0(n){const e={},t=r(n,["embedding"]);t!=null&&l(e,["embedding"],B0(t));const o=r(n,["tokenCount"]);return o!=null&&l(e,["tokenCount"],o),e}function q0(n){const e={},t=r(n,["response"]);t!=null&&l(e,["response"],$0(t));const o=r(n,["error"]);return o!=null&&l(e,["error"],ca(o)),e}function H0(n){const e={},t=r(n,["responsesFile"]);t!=null&&l(e,["fileName"],t);const o=r(n,["inlinedResponses","inlinedResponses"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>G0(a))),l(e,["inlinedResponses"],s)}const i=r(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>q0(a))),l(e,["inlinedEmbedContentResponses"],s)}return e}function it(n){const e={},t=r(n,["name"]);t!=null&&l(e,["name"],t);const o=r(n,["metadata","displayName"]);o!=null&&l(e,["displayName"],o);const i=r(n,["metadata","state"]);i!=null&&l(e,["state"],Hp(i));const s=r(n,["metadata","createTime"]);s!=null&&l(e,["createTime"],s);const a=r(n,["metadata","endTime"]);a!=null&&l(e,["endTime"],a);const u=r(n,["metadata","updateTime"]);u!=null&&l(e,["updateTime"],u);const c=r(n,["metadata","model"]);c!=null&&l(e,["model"],c);const d=r(n,["metadata","output"]);return d!=null&&l(e,["dest"],H0(qp(d))),e}function z0(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);const i=r(n,["operations"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>it(a))),l(e,["batchJobs"],s)}return e}function J0(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["name"]);o!=null&&l(e,["name"],o);const i=r(n,["done"]);i!=null&&l(e,["done"],i);const s=r(n,["error"]);return s!=null&&l(e,["error"],ca(s)),e}function Wp(n){const e={},t=r(n,["details"]);t!=null&&l(e,["details"],t);const o=r(n,["code"]);o!=null&&l(e,["code"],o);const i=r(n,["message"]);return i!=null&&l(e,["message"],i),e}function W0(n){const e={},t=r(n,["instancesFormat"]);t!=null&&l(e,["format"],t);const o=r(n,["gcsSource","uris"]);o!=null&&l(e,["gcsUri"],o);const i=r(n,["bigquerySource","inputUri"]);return i!=null&&l(e,["bigqueryUri"],i),e}function K0(n){const e={},t=r(n,["predictionsFormat"]);t!=null&&l(e,["format"],t);const o=r(n,["gcsDestination","outputUriPrefix"]);o!=null&&l(e,["gcsUri"],o);const i=r(n,["bigqueryDestination","outputUri"]);return i!=null&&l(e,["bigqueryUri"],i),e}function ns(n){const e={},t=r(n,["name"]);t!=null&&l(e,["name"],t);const o=r(n,["displayName"]);o!=null&&l(e,["displayName"],o);const i=r(n,["state"]);i!=null&&l(e,["state"],Hp(i));const s=r(n,["error"]);s!=null&&l(e,["error"],Wp(s));const a=r(n,["createTime"]);a!=null&&l(e,["createTime"],a);const u=r(n,["startTime"]);u!=null&&l(e,["startTime"],u);const c=r(n,["endTime"]);c!=null&&l(e,["endTime"],c);const d=r(n,["updateTime"]);d!=null&&l(e,["updateTime"],d);const f=r(n,["model"]);f!=null&&l(e,["model"],f);const p=r(n,["inputConfig"]);p!=null&&l(e,["src"],W0(p));const m=r(n,["outputConfig"]);return m!=null&&l(e,["dest"],K0(qp(m))),e}function Y0(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);const i=r(n,["batchPredictionJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>ns(a))),l(e,["batchJobs"],s)}return e}function O0(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["name"]);o!=null&&l(e,["name"],o);const i=r(n,["done"]);i!=null&&l(e,["done"],i);const s=r(n,["error"]);return s!=null&&l(e,["error"],Wp(s)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Xn;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Xn||(Xn={}));class $o{constructor(e,t,o,i){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,o,i)}init(e,t,o){var i,s;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.sdkHttpResponseInternal=t==null?void 0:t.sdkHttpResponse,this.idxInternal=0;let a={config:{}};!o||Object.keys(o).length===0?a={config:{}}:typeof o=="object"?a=Object.assign({},o):a=o,a.config&&(a.config.pageToken=t.nextPageToken),this.paramsInternal=a,this.pageInternalSize=(s=(i=a.config)===null||i===void 0?void 0:i.pageSize)!==null&&s!==void 0?s:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Q0 extends nt{constructor(e){super(),this.apiClient=e,this.create=async t=>{var o,i;if(this.apiClient.isVertexAI())return t.config=this.formatDestination(t.src,t.config),this.createInternal(t);const s=t.src;if(!(Array.isArray(t.src)||s.inlinedRequests!==void 0))return this.createInternal(t);const u=this.createInlinedGenerateContentRequest(t),c=u.path,d=u.body,f=Qr(this.apiClient,t)._query||{};return this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()).then(m=>it(m))},this.createEmbeddings=async t=>{var o,i;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(t.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(t);const u=this.createInlinedEmbedContentRequest(t),c=u.path,d=u.body,f=br(this.apiClient,t)._query||{};return this.apiClient.request({path:c,queryParams:f,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(i=t.config)===null||i===void 0?void 0:i.abortSignal}).then(m=>m.json()).then(m=>it(m))},this.list=async(t={})=>new $o(Xn.PAGED_ITEM_BATCH_JOBS,o=>this.listInternal(o),await this.listInternal(t),t)}createInlinedGenerateContentRequest(e){const t=Qr(this.apiClient,e),o=t._url,i=L("{model}:batchGenerateContent",o),u=t.batch.inputConfig.requests,c=u.requests,d=[];for(const f of c){const p=Object.assign({},f);if(p.systemInstruction){const m=p.systemInstruction;delete p.systemInstruction;const y=p.request;y.systemInstruction=m,p.request=y}d.push(p)}return u.requests=d,delete t.config,delete t._url,delete t._query,{path:i,body:t}}createInlinedEmbedContentRequest(e){const t=br(this.apiClient,e),o=t._url,i=L("{model}:asyncBatchEmbedContent",o),u=t.batch.inputConfig.requests,c=u.requests,d=[];delete u.config;for(const f of c){const p=Object.assign({},f),m=p.request;for(const y in p)y!=="request"&&(m[y]=p[y],delete p[y]);d.push(p)}return u.requests=d,delete t.config,delete t._url,delete t._query,{path:i,body:t}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,t){const o=t?Object.assign({},t):{},i=Date.now().toString();if(o.displayName||(o.displayName=`genaiBatchJob_${i}`),o.dest===void 0){const s=this.getGcsUri(e),a=this.getBigqueryUri(e);if(s)s.endsWith(".jsonl")?o.dest=`${s.slice(0,-6)}/dest`:o.dest=`${s}_dest_${i}`;else if(a)o.dest=`${a}_dest_${i}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return o}async createInternal(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=x0(this.apiClient,e);return u=L("batchPredictionJobs",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>ns(f))}else{const d=Qr(this.apiClient,e);return u=L("{model}:batchGenerateContent",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),a.then(f=>it(f))}}async createEmbeddingsInternal(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=br(this.apiClient,e);return s=L("{model}:asyncBatchEmbedContent",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>it(c))}}async get(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=S0(this.apiClient,e);return u=L("batchPredictionJobs/{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>ns(f))}else{const d=p0(this.apiClient,e);return u=L("batches/{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),a.then(f=>it(f))}}async cancel(e){var t,o,i,s;let a="",u={};if(this.apiClient.isVertexAI()){const c=E0(this.apiClient,e);a=L("batchPredictionJobs/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=m0(this.apiClient,e);a=L("batches/{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async listInternal(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=w0(e);return u=L("batchPredictionJobs",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=Y0(f),m=new Rc;return Object.assign(m,p),m})}else{const d=g0(e);return u=L("batches",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=z0(f),m=new Rc;return Object.assign(m,p),m})}}async delete(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=M0(this.apiClient,e);return u=L("batchPredictionJobs/{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>O0(f))}else{const d=y0(this.apiClient,e);return u=L("batches/{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>J0(f))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function b0(n){const e={},t=r(n,["fps"]);t!=null&&l(e,["fps"],t);const o=r(n,["endOffset"]);o!=null&&l(e,["endOffset"],o);const i=r(n,["startOffset"]);return i!=null&&l(e,["startOffset"],i),e}function X0(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=r(n,["data"]);t!=null&&l(e,["data"],t);const o=r(n,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Z0(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=r(n,["fileUri"]);t!=null&&l(e,["fileUri"],t);const o=r(n,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function j0(n){const e={},t=r(n,["id"]);t!=null&&l(e,["id"],t);const o=r(n,["args"]);o!=null&&l(e,["args"],o);const i=r(n,["name"]);return i!=null&&l(e,["name"],i),e}function eC(n){const e={},t=r(n,["videoMetadata"]);t!=null&&l(e,["videoMetadata"],b0(t));const o=r(n,["thought"]);o!=null&&l(e,["thought"],o);const i=r(n,["inlineData"]);i!=null&&l(e,["inlineData"],X0(i));const s=r(n,["fileData"]);s!=null&&l(e,["fileData"],Z0(s));const a=r(n,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);const u=r(n,["functionCall"]);u!=null&&l(e,["functionCall"],j0(u));const c=r(n,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);const d=r(n,["executableCode"]);d!=null&&l(e,["executableCode"],d);const f=r(n,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const p=r(n,["text"]);return p!=null&&l(e,["text"],p),e}function Uc(n){const e={},t=r(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>eC(s))),l(e,["parts"],i)}const o=r(n,["role"]);return o!=null&&l(e,["role"],o),e}function nC(n){const e={},t=r(n,["behavior"]);t!=null&&l(e,["behavior"],t);const o=r(n,["description"]);o!=null&&l(e,["description"],o);const i=r(n,["name"]);i!=null&&l(e,["name"],i);const s=r(n,["parameters"]);s!=null&&l(e,["parameters"],s);const a=r(n,["parametersJsonSchema"]);a!=null&&l(e,["parametersJsonSchema"],a);const u=r(n,["response"]);u!=null&&l(e,["response"],u);const c=r(n,["responseJsonSchema"]);return c!=null&&l(e,["responseJsonSchema"],c),e}function tC(n){const e={},t=r(n,["startTime"]);t!=null&&l(e,["startTime"],t);const o=r(n,["endTime"]);return o!=null&&l(e,["endTime"],o),e}function oC(n){const e={},t=r(n,["timeRangeFilter"]);if(t!=null&&l(e,["timeRangeFilter"],tC(t)),r(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function iC(n){const e={},t=r(n,["mode"]);t!=null&&l(e,["mode"],t);const o=r(n,["dynamicThreshold"]);return o!=null&&l(e,["dynamicThreshold"],o),e}function rC(n){const e={},t=r(n,["dynamicRetrievalConfig"]);return t!=null&&l(e,["dynamicRetrievalConfig"],iC(t)),e}function lC(){return{}}function sC(n){const e={},t=r(n,["environment"]);return t!=null&&l(e,["environment"],t),e}function aC(n){const e={},t=r(n,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(d=>nC(d))),l(e,["functionDeclarations"],c)}if(r(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(n,["googleSearch"]);o!=null&&l(e,["googleSearch"],oC(o));const i=r(n,["googleSearchRetrieval"]);if(i!=null&&l(e,["googleSearchRetrieval"],rC(i)),r(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(n,["urlContext"])!=null&&l(e,["urlContext"],lC());const a=r(n,["computerUse"]);a!=null&&l(e,["computerUse"],sC(a));const u=r(n,["codeExecution"]);return u!=null&&l(e,["codeExecution"],u),e}function uC(n){const e={},t=r(n,["mode"]);t!=null&&l(e,["mode"],t);const o=r(n,["allowedFunctionNames"]);return o!=null&&l(e,["allowedFunctionNames"],o),e}function cC(n){const e={},t=r(n,["latitude"]);t!=null&&l(e,["latitude"],t);const o=r(n,["longitude"]);return o!=null&&l(e,["longitude"],o),e}function dC(n){const e={},t=r(n,["latLng"]);t!=null&&l(e,["latLng"],cC(t));const o=r(n,["languageCode"]);return o!=null&&l(e,["languageCode"],o),e}function fC(n){const e={},t=r(n,["functionCallingConfig"]);t!=null&&l(e,["functionCallingConfig"],uC(t));const o=r(n,["retrievalConfig"]);return o!=null&&l(e,["retrievalConfig"],dC(o)),e}function pC(n,e){const t={},o=r(n,["ttl"]);e!==void 0&&o!=null&&l(e,["ttl"],o);const i=r(n,["expireTime"]);e!==void 0&&i!=null&&l(e,["expireTime"],i);const s=r(n,["displayName"]);e!==void 0&&s!=null&&l(e,["displayName"],s);const a=r(n,["contents"]);if(e!==void 0&&a!=null){let f=Fe(a);Array.isArray(f)&&(f=f.map(p=>Uc(p))),l(e,["contents"],f)}const u=r(n,["systemInstruction"]);e!==void 0&&u!=null&&l(e,["systemInstruction"],Uc(he(u)));const c=r(n,["tools"]);if(e!==void 0&&c!=null){let f=c;Array.isArray(f)&&(f=f.map(p=>aC(p))),l(e,["tools"],f)}const d=r(n,["toolConfig"]);if(e!==void 0&&d!=null&&l(e,["toolConfig"],fC(d)),r(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return t}function mC(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["model"],Rp(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],pC(i,t)),t}function hC(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["_url","name"],cn(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function gC(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["_url","name"],cn(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function yC(n,e){const t={},o=r(n,["ttl"]);e!==void 0&&o!=null&&l(e,["ttl"],o);const i=r(n,["expireTime"]);return e!==void 0&&i!=null&&l(e,["expireTime"],i),t}function vC(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["_url","name"],cn(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],yC(i,t)),t}function CC(n,e){const t={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);const i=r(n,["pageToken"]);return e!==void 0&&i!=null&&l(e,["_query","pageToken"],i),t}function TC(n){const e={},t=r(n,["config"]);return t!=null&&l(e,["config"],CC(t,e)),e}function xC(n){const e={},t=r(n,["fps"]);t!=null&&l(e,["fps"],t);const o=r(n,["endOffset"]);o!=null&&l(e,["endOffset"],o);const i=r(n,["startOffset"]);return i!=null&&l(e,["startOffset"],i),e}function SC(n){const e={},t=r(n,["displayName"]);t!=null&&l(e,["displayName"],t);const o=r(n,["data"]);o!=null&&l(e,["data"],o);const i=r(n,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function EC(n){const e={},t=r(n,["displayName"]);t!=null&&l(e,["displayName"],t);const o=r(n,["fileUri"]);o!=null&&l(e,["fileUri"],o);const i=r(n,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function _C(n){const e={},t=r(n,["id"]);t!=null&&l(e,["id"],t);const o=r(n,["args"]);o!=null&&l(e,["args"],o);const i=r(n,["name"]);return i!=null&&l(e,["name"],i),e}function wC(n){const e={},t=r(n,["videoMetadata"]);t!=null&&l(e,["videoMetadata"],xC(t));const o=r(n,["thought"]);o!=null&&l(e,["thought"],o);const i=r(n,["inlineData"]);i!=null&&l(e,["inlineData"],SC(i));const s=r(n,["fileData"]);s!=null&&l(e,["fileData"],EC(s));const a=r(n,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);const u=r(n,["functionCall"]);u!=null&&l(e,["functionCall"],_C(u));const c=r(n,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);const d=r(n,["executableCode"]);d!=null&&l(e,["executableCode"],d);const f=r(n,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const p=r(n,["text"]);return p!=null&&l(e,["text"],p),e}function Fc(n){const e={},t=r(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>wC(s))),l(e,["parts"],i)}const o=r(n,["role"]);return o!=null&&l(e,["role"],o),e}function MC(n){const e={};if(r(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=r(n,["description"]);t!=null&&l(e,["description"],t);const o=r(n,["name"]);o!=null&&l(e,["name"],o);const i=r(n,["parameters"]);i!=null&&l(e,["parameters"],i);const s=r(n,["parametersJsonSchema"]);s!=null&&l(e,["parametersJsonSchema"],s);const a=r(n,["response"]);a!=null&&l(e,["response"],a);const u=r(n,["responseJsonSchema"]);return u!=null&&l(e,["responseJsonSchema"],u),e}function IC(n){const e={},t=r(n,["startTime"]);t!=null&&l(e,["startTime"],t);const o=r(n,["endTime"]);return o!=null&&l(e,["endTime"],o),e}function kC(n){const e={},t=r(n,["timeRangeFilter"]);t!=null&&l(e,["timeRangeFilter"],IC(t));const o=r(n,["excludeDomains"]);return o!=null&&l(e,["excludeDomains"],o),e}function AC(n){const e={},t=r(n,["mode"]);t!=null&&l(e,["mode"],t);const o=r(n,["dynamicThreshold"]);return o!=null&&l(e,["dynamicThreshold"],o),e}function NC(n){const e={},t=r(n,["dynamicRetrievalConfig"]);return t!=null&&l(e,["dynamicRetrievalConfig"],AC(t)),e}function RC(n){const e={},t=r(n,["excludeDomains"]);return t!=null&&l(e,["excludeDomains"],t),e}function PC(n){const e={},t=r(n,["apiKeyString"]);return t!=null&&l(e,["apiKeyString"],t),e}function DC(n){const e={},t=r(n,["apiKeyConfig"]);t!=null&&l(e,["apiKeyConfig"],PC(t));const o=r(n,["authType"]);o!=null&&l(e,["authType"],o);const i=r(n,["googleServiceAccountConfig"]);i!=null&&l(e,["googleServiceAccountConfig"],i);const s=r(n,["httpBasicAuthConfig"]);s!=null&&l(e,["httpBasicAuthConfig"],s);const a=r(n,["oauthConfig"]);a!=null&&l(e,["oauthConfig"],a);const u=r(n,["oidcConfig"]);return u!=null&&l(e,["oidcConfig"],u),e}function LC(n){const e={},t=r(n,["authConfig"]);return t!=null&&l(e,["authConfig"],DC(t)),e}function UC(){return{}}function FC(n){const e={},t=r(n,["environment"]);return t!=null&&l(e,["environment"],t),e}function VC(n){const e={},t=r(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(m=>MC(m))),l(e,["functionDeclarations"],p)}const o=r(n,["retrieval"]);o!=null&&l(e,["retrieval"],o);const i=r(n,["googleSearch"]);i!=null&&l(e,["googleSearch"],kC(i));const s=r(n,["googleSearchRetrieval"]);s!=null&&l(e,["googleSearchRetrieval"],NC(s));const a=r(n,["enterpriseWebSearch"]);a!=null&&l(e,["enterpriseWebSearch"],RC(a));const u=r(n,["googleMaps"]);u!=null&&l(e,["googleMaps"],LC(u)),r(n,["urlContext"])!=null&&l(e,["urlContext"],UC());const d=r(n,["computerUse"]);d!=null&&l(e,["computerUse"],FC(d));const f=r(n,["codeExecution"]);return f!=null&&l(e,["codeExecution"],f),e}function GC(n){const e={},t=r(n,["mode"]);t!=null&&l(e,["mode"],t);const o=r(n,["allowedFunctionNames"]);return o!=null&&l(e,["allowedFunctionNames"],o),e}function BC(n){const e={},t=r(n,["latitude"]);t!=null&&l(e,["latitude"],t);const o=r(n,["longitude"]);return o!=null&&l(e,["longitude"],o),e}function $C(n){const e={},t=r(n,["latLng"]);t!=null&&l(e,["latLng"],BC(t));const o=r(n,["languageCode"]);return o!=null&&l(e,["languageCode"],o),e}function qC(n){const e={},t=r(n,["functionCallingConfig"]);t!=null&&l(e,["functionCallingConfig"],GC(t));const o=r(n,["retrievalConfig"]);return o!=null&&l(e,["retrievalConfig"],$C(o)),e}function HC(n,e){const t={},o=r(n,["ttl"]);e!==void 0&&o!=null&&l(e,["ttl"],o);const i=r(n,["expireTime"]);e!==void 0&&i!=null&&l(e,["expireTime"],i);const s=r(n,["displayName"]);e!==void 0&&s!=null&&l(e,["displayName"],s);const a=r(n,["contents"]);if(e!==void 0&&a!=null){let p=Fe(a);Array.isArray(p)&&(p=p.map(m=>Fc(m))),l(e,["contents"],p)}const u=r(n,["systemInstruction"]);e!==void 0&&u!=null&&l(e,["systemInstruction"],Fc(he(u)));const c=r(n,["tools"]);if(e!==void 0&&c!=null){let p=c;Array.isArray(p)&&(p=p.map(m=>VC(m))),l(e,["tools"],p)}const d=r(n,["toolConfig"]);e!==void 0&&d!=null&&l(e,["toolConfig"],qC(d));const f=r(n,["kmsKeyName"]);return e!==void 0&&f!=null&&l(e,["encryption_spec","kmsKeyName"],f),t}function zC(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["model"],Rp(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],HC(i,t)),t}function JC(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["_url","name"],cn(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function WC(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["_url","name"],cn(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function KC(n,e){const t={},o=r(n,["ttl"]);e!==void 0&&o!=null&&l(e,["ttl"],o);const i=r(n,["expireTime"]);return e!==void 0&&i!=null&&l(e,["expireTime"],i),t}function YC(n,e){const t={},o=r(e,["name"]);o!=null&&l(t,["_url","name"],cn(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],KC(i,t)),t}function OC(n,e){const t={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);const i=r(n,["pageToken"]);return e!==void 0&&i!=null&&l(e,["_query","pageToken"],i),t}function QC(n){const e={},t=r(n,["config"]);return t!=null&&l(e,["config"],OC(t,e)),e}function Ti(n){const e={},t=r(n,["name"]);t!=null&&l(e,["name"],t);const o=r(n,["displayName"]);o!=null&&l(e,["displayName"],o);const i=r(n,["model"]);i!=null&&l(e,["model"],i);const s=r(n,["createTime"]);s!=null&&l(e,["createTime"],s);const a=r(n,["updateTime"]);a!=null&&l(e,["updateTime"],a);const u=r(n,["expireTime"]);u!=null&&l(e,["expireTime"],u);const c=r(n,["usageMetadata"]);return c!=null&&l(e,["usageMetadata"],c),e}function bC(n){const e={},t=r(n,["sdkHttpResponse"]);return t!=null&&l(e,["sdkHttpResponse"],t),e}function XC(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);const i=r(n,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>Ti(a))),l(e,["cachedContents"],s)}return e}function xi(n){const e={},t=r(n,["name"]);t!=null&&l(e,["name"],t);const o=r(n,["displayName"]);o!=null&&l(e,["displayName"],o);const i=r(n,["model"]);i!=null&&l(e,["model"],i);const s=r(n,["createTime"]);s!=null&&l(e,["createTime"],s);const a=r(n,["updateTime"]);a!=null&&l(e,["updateTime"],a);const u=r(n,["expireTime"]);u!=null&&l(e,["expireTime"],u);const c=r(n,["usageMetadata"]);return c!=null&&l(e,["usageMetadata"],c),e}function ZC(n){const e={},t=r(n,["sdkHttpResponse"]);return t!=null&&l(e,["sdkHttpResponse"],t),e}function jC(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);const i=r(n,["cachedContents"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>xi(a))),l(e,["cachedContents"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class eT extends nt{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new $o(Xn.PAGED_ITEM_CACHED_CONTENTS,o=>this.listInternal(o),await this.listInternal(t),t)}async create(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=zC(this.apiClient,e);return u=L("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>xi(f))}else{const d=mC(this.apiClient,e);return u=L("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),a.then(f=>Ti(f))}}async get(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=JC(this.apiClient,e);return u=L("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>xi(f))}else{const d=hC(this.apiClient,e);return u=L("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),a.then(f=>Ti(f))}}async delete(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=WC(this.apiClient,e);return u=L("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=ZC(f),m=new Ac;return Object.assign(m,p),m})}else{const d=gC(this.apiClient,e);return u=L("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=bC(f),m=new Ac;return Object.assign(m,p),m})}}async update(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=YC(this.apiClient,e);return u=L("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>xi(f))}else{const d=vC(this.apiClient,e);return u=L("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),a.then(f=>Ti(f))}}async listInternal(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=QC(e);return u=L("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=jC(f),m=new Nc;return Object.assign(m,p),m})}else{const d=TC(e);return u=L("cachedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=XC(f),m=new Nc;return Object.assign(m,p),m})}}}function Vc(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],o=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&o>=n.length&&(n=void 0),{value:n&&n[o++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Y(n){return this instanceof Y?(this.v=n,this):new Y(n)}function Mt(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),u("next"),u("throw"),u("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(y){return function(T){return Promise.resolve(T).then(y,p)}}function u(y,T){o[y]&&(i[y]=function(x){return new Promise(function(_,v){s.push([y,x,_,v])>1||c(y,x)})},T&&(i[y]=T(i[y])))}function c(y,T){try{d(o[y](T))}catch(x){m(s[0][3],x)}}function d(y){y.value instanceof Y?Promise.resolve(y.value.v).then(f,p):m(s[0][2],y)}function f(y){c("next",y)}function p(y){c("throw",y)}function m(y,T){y(T),s.shift(),s.length&&c(s[0][0],s[0][1])}}function mo(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof Vc=="function"?Vc(n):n[Symbol.iterator](),t={},o("next"),o("throw"),o("return"),t[Symbol.asyncIterator]=function(){return this},t);function o(s){t[s]=n[s]&&function(a){return new Promise(function(u,c){a=n[s](a),i(u,c,a.done,a.value)})}}function i(s,a,u,c){Promise.resolve(c).then(function(d){s({value:d,done:u})},a)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nT(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const t=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return t===void 0?!1:Kp(t)}function Kp(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function tT(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function Gc(n){if(n===void 0||n.length===0)return[];const e=[],t=n.length;let o=0;for(;o<t;)if(n[o].role==="user")e.push(n[o]),o++;else{const i=[];let s=!0;for(;o<t&&n[o].role==="model";)i.push(n[o]),s&&!Kp(n[o])&&(s=!1),o++;s?e.push(...i):e.pop()}return e}class oT{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new iT(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class iT{constructor(e,t,o,i={},s=[]){this.apiClient=e,this.modelsModule=t,this.model=o,this.config=i,this.history=s,this.sendPromise=Promise.resolve(),tT(s)}async sendMessage(e){var t;await this.sendPromise;const o=he(e.message),i=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});return this.sendPromise=(async()=>{var s,a,u;const c=await i,d=(a=(s=c.candidates)===null||s===void 0?void 0:s[0])===null||a===void 0?void 0:a.content,f=c.automaticFunctionCallingHistory,p=this.getHistory(!0).length;let m=[];f!=null&&(m=(u=f.slice(p))!==null&&u!==void 0?u:[]);const y=d?[d]:[];this.recordHistory(o,y,m)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),i}async sendMessageStream(e){var t;await this.sendPromise;const o=he(e.message),i=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(o),config:(t=e.config)!==null&&t!==void 0?t:this.config});this.sendPromise=i.then(()=>{}).catch(()=>{});const s=await i;return this.processStreamResponse(s,o)}getHistory(e=!1){const t=e?Gc(this.history):this.history;return structuredClone(t)}processStreamResponse(e,t){var o,i;return Mt(this,arguments,function*(){var a,u,c,d;const f=[];try{for(var p=!0,m=mo(e),y;y=yield Y(m.next()),a=y.done,!a;p=!0){d=y.value,p=!1;const T=d;if(nT(T)){const x=(i=(o=T.candidates)===null||o===void 0?void 0:o[0])===null||i===void 0?void 0:i.content;x!==void 0&&f.push(x)}yield yield Y(T)}}catch(T){u={error:T}}finally{try{!p&&!a&&(c=m.return)&&(yield Y(c.call(m)))}finally{if(u)throw u.error}}this.recordHistory(t,f)})}recordHistory(e,t,o){let i=[];t.length>0&&t.every(s=>s.role!==void 0)?i=t:i.push({role:"model",parts:[]}),o&&o.length>0?this.history.push(...Gc(o)):this.history.push(e),this.history.push(...i)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class yr extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,yr.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rT(n,e){const t={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);const i=r(n,["pageToken"]);return e!==void 0&&i!=null&&l(e,["_query","pageToken"],i),t}function lT(n){const e={},t=r(n,["config"]);return t!=null&&l(e,["config"],rT(t,e)),e}function sT(n){const e={},t=r(n,["details"]);t!=null&&l(e,["details"],t);const o=r(n,["message"]);o!=null&&l(e,["message"],o);const i=r(n,["code"]);return i!=null&&l(e,["code"],i),e}function aT(n){const e={},t=r(n,["name"]);t!=null&&l(e,["name"],t);const o=r(n,["displayName"]);o!=null&&l(e,["displayName"],o);const i=r(n,["mimeType"]);i!=null&&l(e,["mimeType"],i);const s=r(n,["sizeBytes"]);s!=null&&l(e,["sizeBytes"],s);const a=r(n,["createTime"]);a!=null&&l(e,["createTime"],a);const u=r(n,["expirationTime"]);u!=null&&l(e,["expirationTime"],u);const c=r(n,["updateTime"]);c!=null&&l(e,["updateTime"],c);const d=r(n,["sha256Hash"]);d!=null&&l(e,["sha256Hash"],d);const f=r(n,["uri"]);f!=null&&l(e,["uri"],f);const p=r(n,["downloadUri"]);p!=null&&l(e,["downloadUri"],p);const m=r(n,["state"]);m!=null&&l(e,["state"],m);const y=r(n,["source"]);y!=null&&l(e,["source"],y);const T=r(n,["videoMetadata"]);T!=null&&l(e,["videoMetadata"],T);const x=r(n,["error"]);return x!=null&&l(e,["error"],sT(x)),e}function uT(n){const e={},t=r(n,["file"]);t!=null&&l(e,["file"],aT(t));const o=r(n,["config"]);return o!=null&&l(e,["config"],o),e}function cT(n){const e={},t=r(n,["name"]);t!=null&&l(e,["_url","file"],Vp(t));const o=r(n,["config"]);return o!=null&&l(e,["config"],o),e}function dT(n){const e={},t=r(n,["name"]);t!=null&&l(e,["_url","file"],Vp(t));const o=r(n,["config"]);return o!=null&&l(e,["config"],o),e}function fT(n){const e={},t=r(n,["details"]);t!=null&&l(e,["details"],t);const o=r(n,["message"]);o!=null&&l(e,["message"],o);const i=r(n,["code"]);return i!=null&&l(e,["code"],i),e}function ts(n){const e={},t=r(n,["name"]);t!=null&&l(e,["name"],t);const o=r(n,["displayName"]);o!=null&&l(e,["displayName"],o);const i=r(n,["mimeType"]);i!=null&&l(e,["mimeType"],i);const s=r(n,["sizeBytes"]);s!=null&&l(e,["sizeBytes"],s);const a=r(n,["createTime"]);a!=null&&l(e,["createTime"],a);const u=r(n,["expirationTime"]);u!=null&&l(e,["expirationTime"],u);const c=r(n,["updateTime"]);c!=null&&l(e,["updateTime"],c);const d=r(n,["sha256Hash"]);d!=null&&l(e,["sha256Hash"],d);const f=r(n,["uri"]);f!=null&&l(e,["uri"],f);const p=r(n,["downloadUri"]);p!=null&&l(e,["downloadUri"],p);const m=r(n,["state"]);m!=null&&l(e,["state"],m);const y=r(n,["source"]);y!=null&&l(e,["source"],y);const T=r(n,["videoMetadata"]);T!=null&&l(e,["videoMetadata"],T);const x=r(n,["error"]);return x!=null&&l(e,["error"],fT(x)),e}function pT(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);const i=r(n,["files"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>ts(a))),l(e,["files"],s)}return e}function mT(n){const e={},t=r(n,["sdkHttpResponse"]);return t!=null&&l(e,["sdkHttpResponse"],t),e}function hT(n){const e={},t=r(n,["sdkHttpResponse"]);return t!=null&&l(e,["sdkHttpResponse"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class gT extends nt{constructor(e){super(),this.apiClient=e,this.list=async(t={})=>new $o(Xn.PAGED_ITEM_FILES,o=>this.listInternal(o),await this.listInternal(t),t)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(t=>ts(t))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=lT(e);return s=L("files",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=pT(c),f=new xv;return Object.assign(f,d),f})}}async createInternal(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=uT(e);return s=L("upload/v1beta/files",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=mT(c),f=new Sv;return Object.assign(f,d),f})}}async get(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=cT(e);return s=L("files/{file}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>ts(c))}}async delete(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=dT(e);return s=L("files/{file}",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=hT(c),f=new Ev;return Object.assign(f,d),f})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yT(n){const e={},t=r(n,["voiceName"]);return t!=null&&l(e,["voiceName"],t),e}function Yp(n){const e={},t=r(n,["prebuiltVoiceConfig"]);return t!=null&&l(e,["prebuiltVoiceConfig"],yT(t)),e}function vT(n){const e={},t=r(n,["speaker"]);t!=null&&l(e,["speaker"],t);const o=r(n,["voiceConfig"]);return o!=null&&l(e,["voiceConfig"],Yp(o)),e}function CT(n){const e={},t=r(n,["speakerVoiceConfigs"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>vT(i))),l(e,["speakerVoiceConfigs"],o)}return e}function TT(n){const e={},t=r(n,["voiceConfig"]);t!=null&&l(e,["voiceConfig"],Yp(t));const o=r(n,["multiSpeakerVoiceConfig"]);o!=null&&l(e,["multiSpeakerVoiceConfig"],CT(o));const i=r(n,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function xT(n){const e={},t=r(n,["fps"]);t!=null&&l(e,["fps"],t);const o=r(n,["endOffset"]);o!=null&&l(e,["endOffset"],o);const i=r(n,["startOffset"]);return i!=null&&l(e,["startOffset"],i),e}function ST(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=r(n,["data"]);t!=null&&l(e,["data"],t);const o=r(n,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function ET(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=r(n,["fileUri"]);t!=null&&l(e,["fileUri"],t);const o=r(n,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function _T(n){const e={},t=r(n,["id"]);t!=null&&l(e,["id"],t);const o=r(n,["args"]);o!=null&&l(e,["args"],o);const i=r(n,["name"]);return i!=null&&l(e,["name"],i),e}function wT(n){const e={},t=r(n,["videoMetadata"]);t!=null&&l(e,["videoMetadata"],xT(t));const o=r(n,["thought"]);o!=null&&l(e,["thought"],o);const i=r(n,["inlineData"]);i!=null&&l(e,["inlineData"],ST(i));const s=r(n,["fileData"]);s!=null&&l(e,["fileData"],ET(s));const a=r(n,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);const u=r(n,["functionCall"]);u!=null&&l(e,["functionCall"],_T(u));const c=r(n,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);const d=r(n,["executableCode"]);d!=null&&l(e,["executableCode"],d);const f=r(n,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const p=r(n,["text"]);return p!=null&&l(e,["text"],p),e}function MT(n){const e={},t=r(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>wT(s))),l(e,["parts"],i)}const o=r(n,["role"]);return o!=null&&l(e,["role"],o),e}function IT(n){const e={},t=r(n,["behavior"]);t!=null&&l(e,["behavior"],t);const o=r(n,["description"]);o!=null&&l(e,["description"],o);const i=r(n,["name"]);i!=null&&l(e,["name"],i);const s=r(n,["parameters"]);s!=null&&l(e,["parameters"],s);const a=r(n,["parametersJsonSchema"]);a!=null&&l(e,["parametersJsonSchema"],a);const u=r(n,["response"]);u!=null&&l(e,["response"],u);const c=r(n,["responseJsonSchema"]);return c!=null&&l(e,["responseJsonSchema"],c),e}function kT(n){const e={},t=r(n,["startTime"]);t!=null&&l(e,["startTime"],t);const o=r(n,["endTime"]);return o!=null&&l(e,["endTime"],o),e}function AT(n){const e={},t=r(n,["timeRangeFilter"]);if(t!=null&&l(e,["timeRangeFilter"],kT(t)),r(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function NT(n){const e={},t=r(n,["mode"]);t!=null&&l(e,["mode"],t);const o=r(n,["dynamicThreshold"]);return o!=null&&l(e,["dynamicThreshold"],o),e}function RT(n){const e={},t=r(n,["dynamicRetrievalConfig"]);return t!=null&&l(e,["dynamicRetrievalConfig"],NT(t)),e}function PT(){return{}}function DT(n){const e={},t=r(n,["environment"]);return t!=null&&l(e,["environment"],t),e}function LT(n){const e={},t=r(n,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(d=>IT(d))),l(e,["functionDeclarations"],c)}if(r(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(n,["googleSearch"]);o!=null&&l(e,["googleSearch"],AT(o));const i=r(n,["googleSearchRetrieval"]);if(i!=null&&l(e,["googleSearchRetrieval"],RT(i)),r(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(n,["urlContext"])!=null&&l(e,["urlContext"],PT());const a=r(n,["computerUse"]);a!=null&&l(e,["computerUse"],DT(a));const u=r(n,["codeExecution"]);return u!=null&&l(e,["codeExecution"],u),e}function UT(n){const e={},t=r(n,["handle"]);if(t!=null&&l(e,["handle"],t),r(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Bc(){return{}}function FT(n){const e={},t=r(n,["disabled"]);t!=null&&l(e,["disabled"],t);const o=r(n,["startOfSpeechSensitivity"]);o!=null&&l(e,["startOfSpeechSensitivity"],o);const i=r(n,["endOfSpeechSensitivity"]);i!=null&&l(e,["endOfSpeechSensitivity"],i);const s=r(n,["prefixPaddingMs"]);s!=null&&l(e,["prefixPaddingMs"],s);const a=r(n,["silenceDurationMs"]);return a!=null&&l(e,["silenceDurationMs"],a),e}function VT(n){const e={},t=r(n,["automaticActivityDetection"]);t!=null&&l(e,["automaticActivityDetection"],FT(t));const o=r(n,["activityHandling"]);o!=null&&l(e,["activityHandling"],o);const i=r(n,["turnCoverage"]);return i!=null&&l(e,["turnCoverage"],i),e}function GT(n){const e={},t=r(n,["targetTokens"]);return t!=null&&l(e,["targetTokens"],t),e}function BT(n){const e={},t=r(n,["triggerTokens"]);t!=null&&l(e,["triggerTokens"],t);const o=r(n,["slidingWindow"]);return o!=null&&l(e,["slidingWindow"],GT(o)),e}function $T(n){const e={},t=r(n,["proactiveAudio"]);return t!=null&&l(e,["proactiveAudio"],t),e}function qT(n,e){const t={},o=r(n,["generationConfig"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig"],o);const i=r(n,["responseModalities"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig","responseModalities"],i);const s=r(n,["temperature"]);e!==void 0&&s!=null&&l(e,["setup","generationConfig","temperature"],s);const a=r(n,["topP"]);e!==void 0&&a!=null&&l(e,["setup","generationConfig","topP"],a);const u=r(n,["topK"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","topK"],u);const c=r(n,["maxOutputTokens"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","maxOutputTokens"],c);const d=r(n,["mediaResolution"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","mediaResolution"],d);const f=r(n,["seed"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","seed"],f);const p=r(n,["speechConfig"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","speechConfig"],TT(ua(p)));const m=r(n,["enableAffectiveDialog"]);e!==void 0&&m!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],m);const y=r(n,["systemInstruction"]);e!==void 0&&y!=null&&l(e,["setup","systemInstruction"],MT(he(y)));const T=r(n,["tools"]);if(e!==void 0&&T!=null){let w=$t(T);Array.isArray(w)&&(w=w.map(E=>LT(Bt(E)))),l(e,["setup","tools"],w)}const x=r(n,["sessionResumption"]);e!==void 0&&x!=null&&l(e,["setup","sessionResumption"],UT(x));const _=r(n,["inputAudioTranscription"]);e!==void 0&&_!=null&&l(e,["setup","inputAudioTranscription"],Bc());const v=r(n,["outputAudioTranscription"]);e!==void 0&&v!=null&&l(e,["setup","outputAudioTranscription"],Bc());const g=r(n,["realtimeInputConfig"]);e!==void 0&&g!=null&&l(e,["setup","realtimeInputConfig"],VT(g));const C=r(n,["contextWindowCompression"]);e!==void 0&&C!=null&&l(e,["setup","contextWindowCompression"],BT(C));const S=r(n,["proactivity"]);return e!==void 0&&S!=null&&l(e,["setup","proactivity"],$T(S)),t}function HT(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["setup","model"],$(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],qT(i,t)),t}function zT(){return{}}function JT(){return{}}function WT(n){const e={},t=r(n,["media"]);t!=null&&l(e,["mediaChunks"],Pp(t));const o=r(n,["audio"]);o!=null&&l(e,["audio"],Lp(o));const i=r(n,["audioStreamEnd"]);i!=null&&l(e,["audioStreamEnd"],i);const s=r(n,["video"]);s!=null&&l(e,["video"],Dp(s));const a=r(n,["text"]);return a!=null&&l(e,["text"],a),r(n,["activityStart"])!=null&&l(e,["activityStart"],zT()),r(n,["activityEnd"])!=null&&l(e,["activityEnd"],JT()),e}function Op(n){const e={},t=r(n,["text"]);t!=null&&l(e,["text"],t);const o=r(n,["weight"]);return o!=null&&l(e,["weight"],o),e}function KT(n){const e={},t=r(n,["weightedPrompts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>Op(i))),l(e,["weightedPrompts"],o)}return e}function Qp(n){const e={},t=r(n,["temperature"]);t!=null&&l(e,["temperature"],t);const o=r(n,["topK"]);o!=null&&l(e,["topK"],o);const i=r(n,["seed"]);i!=null&&l(e,["seed"],i);const s=r(n,["guidance"]);s!=null&&l(e,["guidance"],s);const a=r(n,["bpm"]);a!=null&&l(e,["bpm"],a);const u=r(n,["density"]);u!=null&&l(e,["density"],u);const c=r(n,["brightness"]);c!=null&&l(e,["brightness"],c);const d=r(n,["scale"]);d!=null&&l(e,["scale"],d);const f=r(n,["muteBass"]);f!=null&&l(e,["muteBass"],f);const p=r(n,["muteDrums"]);p!=null&&l(e,["muteDrums"],p);const m=r(n,["onlyBassAndDrums"]);m!=null&&l(e,["onlyBassAndDrums"],m);const y=r(n,["musicGenerationMode"]);return y!=null&&l(e,["musicGenerationMode"],y),e}function YT(n){const e={},t=r(n,["musicGenerationConfig"]);return t!=null&&l(e,["musicGenerationConfig"],Qp(t)),e}function bp(n){const e={},t=r(n,["model"]);return t!=null&&l(e,["model"],t),e}function Xp(n){const e={},t=r(n,["weightedPrompts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>Op(i))),l(e,["weightedPrompts"],o)}return e}function os(n){const e={},t=r(n,["setup"]);t!=null&&l(e,["setup"],bp(t));const o=r(n,["clientContent"]);o!=null&&l(e,["clientContent"],Xp(o));const i=r(n,["musicGenerationConfig"]);i!=null&&l(e,["musicGenerationConfig"],Qp(i));const s=r(n,["playbackControl"]);return s!=null&&l(e,["playbackControl"],s),e}function OT(n){const e={},t=r(n,["voiceName"]);return t!=null&&l(e,["voiceName"],t),e}function QT(n){const e={},t=r(n,["prebuiltVoiceConfig"]);return t!=null&&l(e,["prebuiltVoiceConfig"],OT(t)),e}function bT(n){const e={},t=r(n,["voiceConfig"]);if(t!=null&&l(e,["voiceConfig"],QT(t)),r(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=r(n,["languageCode"]);return o!=null&&l(e,["languageCode"],o),e}function XT(n){const e={},t=r(n,["fps"]);t!=null&&l(e,["fps"],t);const o=r(n,["endOffset"]);o!=null&&l(e,["endOffset"],o);const i=r(n,["startOffset"]);return i!=null&&l(e,["startOffset"],i),e}function ZT(n){const e={},t=r(n,["displayName"]);t!=null&&l(e,["displayName"],t);const o=r(n,["data"]);o!=null&&l(e,["data"],o);const i=r(n,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function jT(n){const e={},t=r(n,["displayName"]);t!=null&&l(e,["displayName"],t);const o=r(n,["fileUri"]);o!=null&&l(e,["fileUri"],o);const i=r(n,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function ex(n){const e={},t=r(n,["id"]);t!=null&&l(e,["id"],t);const o=r(n,["args"]);o!=null&&l(e,["args"],o);const i=r(n,["name"]);return i!=null&&l(e,["name"],i),e}function nx(n){const e={},t=r(n,["videoMetadata"]);t!=null&&l(e,["videoMetadata"],XT(t));const o=r(n,["thought"]);o!=null&&l(e,["thought"],o);const i=r(n,["inlineData"]);i!=null&&l(e,["inlineData"],ZT(i));const s=r(n,["fileData"]);s!=null&&l(e,["fileData"],jT(s));const a=r(n,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);const u=r(n,["functionCall"]);u!=null&&l(e,["functionCall"],ex(u));const c=r(n,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);const d=r(n,["executableCode"]);d!=null&&l(e,["executableCode"],d);const f=r(n,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const p=r(n,["text"]);return p!=null&&l(e,["text"],p),e}function tx(n){const e={},t=r(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>nx(s))),l(e,["parts"],i)}const o=r(n,["role"]);return o!=null&&l(e,["role"],o),e}function ox(n){const e={};if(r(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=r(n,["description"]);t!=null&&l(e,["description"],t);const o=r(n,["name"]);o!=null&&l(e,["name"],o);const i=r(n,["parameters"]);i!=null&&l(e,["parameters"],i);const s=r(n,["parametersJsonSchema"]);s!=null&&l(e,["parametersJsonSchema"],s);const a=r(n,["response"]);a!=null&&l(e,["response"],a);const u=r(n,["responseJsonSchema"]);return u!=null&&l(e,["responseJsonSchema"],u),e}function ix(n){const e={},t=r(n,["startTime"]);t!=null&&l(e,["startTime"],t);const o=r(n,["endTime"]);return o!=null&&l(e,["endTime"],o),e}function rx(n){const e={},t=r(n,["timeRangeFilter"]);t!=null&&l(e,["timeRangeFilter"],ix(t));const o=r(n,["excludeDomains"]);return o!=null&&l(e,["excludeDomains"],o),e}function lx(n){const e={},t=r(n,["mode"]);t!=null&&l(e,["mode"],t);const o=r(n,["dynamicThreshold"]);return o!=null&&l(e,["dynamicThreshold"],o),e}function sx(n){const e={},t=r(n,["dynamicRetrievalConfig"]);return t!=null&&l(e,["dynamicRetrievalConfig"],lx(t)),e}function ax(n){const e={},t=r(n,["excludeDomains"]);return t!=null&&l(e,["excludeDomains"],t),e}function ux(n){const e={},t=r(n,["apiKeyString"]);return t!=null&&l(e,["apiKeyString"],t),e}function cx(n){const e={},t=r(n,["apiKeyConfig"]);t!=null&&l(e,["apiKeyConfig"],ux(t));const o=r(n,["authType"]);o!=null&&l(e,["authType"],o);const i=r(n,["googleServiceAccountConfig"]);i!=null&&l(e,["googleServiceAccountConfig"],i);const s=r(n,["httpBasicAuthConfig"]);s!=null&&l(e,["httpBasicAuthConfig"],s);const a=r(n,["oauthConfig"]);a!=null&&l(e,["oauthConfig"],a);const u=r(n,["oidcConfig"]);return u!=null&&l(e,["oidcConfig"],u),e}function dx(n){const e={},t=r(n,["authConfig"]);return t!=null&&l(e,["authConfig"],cx(t)),e}function fx(){return{}}function px(n){const e={},t=r(n,["environment"]);return t!=null&&l(e,["environment"],t),e}function mx(n){const e={},t=r(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(m=>ox(m))),l(e,["functionDeclarations"],p)}const o=r(n,["retrieval"]);o!=null&&l(e,["retrieval"],o);const i=r(n,["googleSearch"]);i!=null&&l(e,["googleSearch"],rx(i));const s=r(n,["googleSearchRetrieval"]);s!=null&&l(e,["googleSearchRetrieval"],sx(s));const a=r(n,["enterpriseWebSearch"]);a!=null&&l(e,["enterpriseWebSearch"],ax(a));const u=r(n,["googleMaps"]);u!=null&&l(e,["googleMaps"],dx(u)),r(n,["urlContext"])!=null&&l(e,["urlContext"],fx());const d=r(n,["computerUse"]);d!=null&&l(e,["computerUse"],px(d));const f=r(n,["codeExecution"]);return f!=null&&l(e,["codeExecution"],f),e}function hx(n){const e={},t=r(n,["handle"]);t!=null&&l(e,["handle"],t);const o=r(n,["transparent"]);return o!=null&&l(e,["transparent"],o),e}function $c(){return{}}function gx(n){const e={},t=r(n,["disabled"]);t!=null&&l(e,["disabled"],t);const o=r(n,["startOfSpeechSensitivity"]);o!=null&&l(e,["startOfSpeechSensitivity"],o);const i=r(n,["endOfSpeechSensitivity"]);i!=null&&l(e,["endOfSpeechSensitivity"],i);const s=r(n,["prefixPaddingMs"]);s!=null&&l(e,["prefixPaddingMs"],s);const a=r(n,["silenceDurationMs"]);return a!=null&&l(e,["silenceDurationMs"],a),e}function yx(n){const e={},t=r(n,["automaticActivityDetection"]);t!=null&&l(e,["automaticActivityDetection"],gx(t));const o=r(n,["activityHandling"]);o!=null&&l(e,["activityHandling"],o);const i=r(n,["turnCoverage"]);return i!=null&&l(e,["turnCoverage"],i),e}function vx(n){const e={},t=r(n,["targetTokens"]);return t!=null&&l(e,["targetTokens"],t),e}function Cx(n){const e={},t=r(n,["triggerTokens"]);t!=null&&l(e,["triggerTokens"],t);const o=r(n,["slidingWindow"]);return o!=null&&l(e,["slidingWindow"],vx(o)),e}function Tx(n){const e={},t=r(n,["proactiveAudio"]);return t!=null&&l(e,["proactiveAudio"],t),e}function xx(n,e){const t={},o=r(n,["generationConfig"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig"],o);const i=r(n,["responseModalities"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig","responseModalities"],i);const s=r(n,["temperature"]);e!==void 0&&s!=null&&l(e,["setup","generationConfig","temperature"],s);const a=r(n,["topP"]);e!==void 0&&a!=null&&l(e,["setup","generationConfig","topP"],a);const u=r(n,["topK"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","topK"],u);const c=r(n,["maxOutputTokens"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","maxOutputTokens"],c);const d=r(n,["mediaResolution"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","mediaResolution"],d);const f=r(n,["seed"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","seed"],f);const p=r(n,["speechConfig"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","speechConfig"],bT(ua(p)));const m=r(n,["enableAffectiveDialog"]);e!==void 0&&m!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],m);const y=r(n,["systemInstruction"]);e!==void 0&&y!=null&&l(e,["setup","systemInstruction"],tx(he(y)));const T=r(n,["tools"]);if(e!==void 0&&T!=null){let w=$t(T);Array.isArray(w)&&(w=w.map(E=>mx(Bt(E)))),l(e,["setup","tools"],w)}const x=r(n,["sessionResumption"]);e!==void 0&&x!=null&&l(e,["setup","sessionResumption"],hx(x));const _=r(n,["inputAudioTranscription"]);e!==void 0&&_!=null&&l(e,["setup","inputAudioTranscription"],$c());const v=r(n,["outputAudioTranscription"]);e!==void 0&&v!=null&&l(e,["setup","outputAudioTranscription"],$c());const g=r(n,["realtimeInputConfig"]);e!==void 0&&g!=null&&l(e,["setup","realtimeInputConfig"],yx(g));const C=r(n,["contextWindowCompression"]);e!==void 0&&C!=null&&l(e,["setup","contextWindowCompression"],Cx(C));const S=r(n,["proactivity"]);return e!==void 0&&S!=null&&l(e,["setup","proactivity"],Tx(S)),t}function Sx(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["setup","model"],$(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],xx(i,t)),t}function Ex(){return{}}function _x(){return{}}function wx(n){const e={},t=r(n,["media"]);t!=null&&l(e,["mediaChunks"],Pp(t));const o=r(n,["audio"]);o!=null&&l(e,["audio"],Lp(o));const i=r(n,["audioStreamEnd"]);i!=null&&l(e,["audioStreamEnd"],i);const s=r(n,["video"]);s!=null&&l(e,["video"],Dp(s));const a=r(n,["text"]);return a!=null&&l(e,["text"],a),r(n,["activityStart"])!=null&&l(e,["activityStart"],Ex()),r(n,["activityEnd"])!=null&&l(e,["activityEnd"],_x()),e}function Mx(){return{}}function Ix(n){const e={},t=r(n,["fps"]);t!=null&&l(e,["fps"],t);const o=r(n,["endOffset"]);o!=null&&l(e,["endOffset"],o);const i=r(n,["startOffset"]);return i!=null&&l(e,["startOffset"],i),e}function kx(n){const e={},t=r(n,["data"]);t!=null&&l(e,["data"],t);const o=r(n,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Ax(n){const e={},t=r(n,["fileUri"]);t!=null&&l(e,["fileUri"],t);const o=r(n,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Zp(n){const e={},t=r(n,["id"]);t!=null&&l(e,["id"],t);const o=r(n,["args"]);o!=null&&l(e,["args"],o);const i=r(n,["name"]);return i!=null&&l(e,["name"],i),e}function Nx(n){const e={},t=r(n,["videoMetadata"]);t!=null&&l(e,["videoMetadata"],Ix(t));const o=r(n,["thought"]);o!=null&&l(e,["thought"],o);const i=r(n,["inlineData"]);i!=null&&l(e,["inlineData"],kx(i));const s=r(n,["fileData"]);s!=null&&l(e,["fileData"],Ax(s));const a=r(n,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);const u=r(n,["functionCall"]);u!=null&&l(e,["functionCall"],Zp(u));const c=r(n,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);const d=r(n,["executableCode"]);d!=null&&l(e,["executableCode"],d);const f=r(n,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const p=r(n,["text"]);return p!=null&&l(e,["text"],p),e}function Rx(n){const e={},t=r(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>Nx(s))),l(e,["parts"],i)}const o=r(n,["role"]);return o!=null&&l(e,["role"],o),e}function qc(n){const e={},t=r(n,["text"]);t!=null&&l(e,["text"],t);const o=r(n,["finished"]);return o!=null&&l(e,["finished"],o),e}function Px(n){const e={},t=r(n,["retrievedUrl"]);t!=null&&l(e,["retrievedUrl"],t);const o=r(n,["urlRetrievalStatus"]);return o!=null&&l(e,["urlRetrievalStatus"],o),e}function Dx(n){const e={},t=r(n,["urlMetadata"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>Px(i))),l(e,["urlMetadata"],o)}return e}function Lx(n){const e={},t=r(n,["modelTurn"]);t!=null&&l(e,["modelTurn"],Rx(t));const o=r(n,["turnComplete"]);o!=null&&l(e,["turnComplete"],o);const i=r(n,["interrupted"]);i!=null&&l(e,["interrupted"],i);const s=r(n,["groundingMetadata"]);s!=null&&l(e,["groundingMetadata"],s);const a=r(n,["generationComplete"]);a!=null&&l(e,["generationComplete"],a);const u=r(n,["inputTranscription"]);u!=null&&l(e,["inputTranscription"],qc(u));const c=r(n,["outputTranscription"]);c!=null&&l(e,["outputTranscription"],qc(c));const d=r(n,["urlContextMetadata"]);return d!=null&&l(e,["urlContextMetadata"],Dx(d)),e}function Ux(n){const e={},t=r(n,["functionCalls"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>Zp(i))),l(e,["functionCalls"],o)}return e}function Fx(n){const e={},t=r(n,["ids"]);return t!=null&&l(e,["ids"],t),e}function li(n){const e={},t=r(n,["modality"]);t!=null&&l(e,["modality"],t);const o=r(n,["tokenCount"]);return o!=null&&l(e,["tokenCount"],o),e}function Vx(n){const e={},t=r(n,["promptTokenCount"]);t!=null&&l(e,["promptTokenCount"],t);const o=r(n,["cachedContentTokenCount"]);o!=null&&l(e,["cachedContentTokenCount"],o);const i=r(n,["responseTokenCount"]);i!=null&&l(e,["responseTokenCount"],i);const s=r(n,["toolUsePromptTokenCount"]);s!=null&&l(e,["toolUsePromptTokenCount"],s);const a=r(n,["thoughtsTokenCount"]);a!=null&&l(e,["thoughtsTokenCount"],a);const u=r(n,["totalTokenCount"]);u!=null&&l(e,["totalTokenCount"],u);const c=r(n,["promptTokensDetails"]);if(c!=null){let m=c;Array.isArray(m)&&(m=m.map(y=>li(y))),l(e,["promptTokensDetails"],m)}const d=r(n,["cacheTokensDetails"]);if(d!=null){let m=d;Array.isArray(m)&&(m=m.map(y=>li(y))),l(e,["cacheTokensDetails"],m)}const f=r(n,["responseTokensDetails"]);if(f!=null){let m=f;Array.isArray(m)&&(m=m.map(y=>li(y))),l(e,["responseTokensDetails"],m)}const p=r(n,["toolUsePromptTokensDetails"]);if(p!=null){let m=p;Array.isArray(m)&&(m=m.map(y=>li(y))),l(e,["toolUsePromptTokensDetails"],m)}return e}function Gx(n){const e={},t=r(n,["timeLeft"]);return t!=null&&l(e,["timeLeft"],t),e}function Bx(n){const e={},t=r(n,["newHandle"]);t!=null&&l(e,["newHandle"],t);const o=r(n,["resumable"]);o!=null&&l(e,["resumable"],o);const i=r(n,["lastConsumedClientMessageIndex"]);return i!=null&&l(e,["lastConsumedClientMessageIndex"],i),e}function $x(n){const e={};r(n,["setupComplete"])!=null&&l(e,["setupComplete"],Mx());const o=r(n,["serverContent"]);o!=null&&l(e,["serverContent"],Lx(o));const i=r(n,["toolCall"]);i!=null&&l(e,["toolCall"],Ux(i));const s=r(n,["toolCallCancellation"]);s!=null&&l(e,["toolCallCancellation"],Fx(s));const a=r(n,["usageMetadata"]);a!=null&&l(e,["usageMetadata"],Vx(a));const u=r(n,["goAway"]);u!=null&&l(e,["goAway"],Gx(u));const c=r(n,["sessionResumptionUpdate"]);return c!=null&&l(e,["sessionResumptionUpdate"],Bx(c)),e}function qx(){return{}}function Hx(n){const e={},t=r(n,["text"]);t!=null&&l(e,["text"],t);const o=r(n,["weight"]);return o!=null&&l(e,["weight"],o),e}function zx(n){const e={},t=r(n,["weightedPrompts"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>Hx(i))),l(e,["weightedPrompts"],o)}return e}function Jx(n){const e={},t=r(n,["temperature"]);t!=null&&l(e,["temperature"],t);const o=r(n,["topK"]);o!=null&&l(e,["topK"],o);const i=r(n,["seed"]);i!=null&&l(e,["seed"],i);const s=r(n,["guidance"]);s!=null&&l(e,["guidance"],s);const a=r(n,["bpm"]);a!=null&&l(e,["bpm"],a);const u=r(n,["density"]);u!=null&&l(e,["density"],u);const c=r(n,["brightness"]);c!=null&&l(e,["brightness"],c);const d=r(n,["scale"]);d!=null&&l(e,["scale"],d);const f=r(n,["muteBass"]);f!=null&&l(e,["muteBass"],f);const p=r(n,["muteDrums"]);p!=null&&l(e,["muteDrums"],p);const m=r(n,["onlyBassAndDrums"]);m!=null&&l(e,["onlyBassAndDrums"],m);const y=r(n,["musicGenerationMode"]);return y!=null&&l(e,["musicGenerationMode"],y),e}function Wx(n){const e={},t=r(n,["clientContent"]);t!=null&&l(e,["clientContent"],zx(t));const o=r(n,["musicGenerationConfig"]);return o!=null&&l(e,["musicGenerationConfig"],Jx(o)),e}function Kx(n){const e={},t=r(n,["data"]);t!=null&&l(e,["data"],t);const o=r(n,["mimeType"]);o!=null&&l(e,["mimeType"],o);const i=r(n,["sourceMetadata"]);return i!=null&&l(e,["sourceMetadata"],Wx(i)),e}function Yx(n){const e={},t=r(n,["audioChunks"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>Kx(i))),l(e,["audioChunks"],o)}return e}function Ox(n){const e={},t=r(n,["text"]);t!=null&&l(e,["text"],t);const o=r(n,["filteredReason"]);return o!=null&&l(e,["filteredReason"],o),e}function Qx(n){const e={};r(n,["setupComplete"])!=null&&l(e,["setupComplete"],qx());const o=r(n,["serverContent"]);o!=null&&l(e,["serverContent"],Yx(o));const i=r(n,["filteredPrompt"]);return i!=null&&l(e,["filteredPrompt"],Ox(i)),e}function bx(n){const e={},t=r(n,["sessionId"]);return t!=null&&l(e,["sessionId"],t),e}function Xx(n){const e={},t=r(n,["fps"]);t!=null&&l(e,["fps"],t);const o=r(n,["endOffset"]);o!=null&&l(e,["endOffset"],o);const i=r(n,["startOffset"]);return i!=null&&l(e,["startOffset"],i),e}function Zx(n){const e={},t=r(n,["displayName"]);t!=null&&l(e,["displayName"],t);const o=r(n,["data"]);o!=null&&l(e,["data"],o);const i=r(n,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function jx(n){const e={},t=r(n,["displayName"]);t!=null&&l(e,["displayName"],t);const o=r(n,["fileUri"]);o!=null&&l(e,["fileUri"],o);const i=r(n,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function jp(n){const e={},t=r(n,["id"]);t!=null&&l(e,["id"],t);const o=r(n,["args"]);o!=null&&l(e,["args"],o);const i=r(n,["name"]);return i!=null&&l(e,["name"],i),e}function eS(n){const e={},t=r(n,["videoMetadata"]);t!=null&&l(e,["videoMetadata"],Xx(t));const o=r(n,["thought"]);o!=null&&l(e,["thought"],o);const i=r(n,["inlineData"]);i!=null&&l(e,["inlineData"],Zx(i));const s=r(n,["fileData"]);s!=null&&l(e,["fileData"],jx(s));const a=r(n,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);const u=r(n,["functionCall"]);u!=null&&l(e,["functionCall"],jp(u));const c=r(n,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);const d=r(n,["executableCode"]);d!=null&&l(e,["executableCode"],d);const f=r(n,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const p=r(n,["text"]);return p!=null&&l(e,["text"],p),e}function nS(n){const e={},t=r(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>eS(s))),l(e,["parts"],i)}const o=r(n,["role"]);return o!=null&&l(e,["role"],o),e}function Hc(n){const e={},t=r(n,["text"]);t!=null&&l(e,["text"],t);const o=r(n,["finished"]);return o!=null&&l(e,["finished"],o),e}function tS(n){const e={},t=r(n,["modelTurn"]);t!=null&&l(e,["modelTurn"],nS(t));const o=r(n,["turnComplete"]);o!=null&&l(e,["turnComplete"],o);const i=r(n,["interrupted"]);i!=null&&l(e,["interrupted"],i);const s=r(n,["groundingMetadata"]);s!=null&&l(e,["groundingMetadata"],s);const a=r(n,["generationComplete"]);a!=null&&l(e,["generationComplete"],a);const u=r(n,["inputTranscription"]);u!=null&&l(e,["inputTranscription"],Hc(u));const c=r(n,["outputTranscription"]);return c!=null&&l(e,["outputTranscription"],Hc(c)),e}function oS(n){const e={},t=r(n,["functionCalls"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>jp(i))),l(e,["functionCalls"],o)}return e}function iS(n){const e={},t=r(n,["ids"]);return t!=null&&l(e,["ids"],t),e}function si(n){const e={},t=r(n,["modality"]);t!=null&&l(e,["modality"],t);const o=r(n,["tokenCount"]);return o!=null&&l(e,["tokenCount"],o),e}function rS(n){const e={},t=r(n,["promptTokenCount"]);t!=null&&l(e,["promptTokenCount"],t);const o=r(n,["cachedContentTokenCount"]);o!=null&&l(e,["cachedContentTokenCount"],o);const i=r(n,["candidatesTokenCount"]);i!=null&&l(e,["responseTokenCount"],i);const s=r(n,["toolUsePromptTokenCount"]);s!=null&&l(e,["toolUsePromptTokenCount"],s);const a=r(n,["thoughtsTokenCount"]);a!=null&&l(e,["thoughtsTokenCount"],a);const u=r(n,["totalTokenCount"]);u!=null&&l(e,["totalTokenCount"],u);const c=r(n,["promptTokensDetails"]);if(c!=null){let y=c;Array.isArray(y)&&(y=y.map(T=>si(T))),l(e,["promptTokensDetails"],y)}const d=r(n,["cacheTokensDetails"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(T=>si(T))),l(e,["cacheTokensDetails"],y)}const f=r(n,["candidatesTokensDetails"]);if(f!=null){let y=f;Array.isArray(y)&&(y=y.map(T=>si(T))),l(e,["responseTokensDetails"],y)}const p=r(n,["toolUsePromptTokensDetails"]);if(p!=null){let y=p;Array.isArray(y)&&(y=y.map(T=>si(T))),l(e,["toolUsePromptTokensDetails"],y)}const m=r(n,["trafficType"]);return m!=null&&l(e,["trafficType"],m),e}function lS(n){const e={},t=r(n,["timeLeft"]);return t!=null&&l(e,["timeLeft"],t),e}function sS(n){const e={},t=r(n,["newHandle"]);t!=null&&l(e,["newHandle"],t);const o=r(n,["resumable"]);o!=null&&l(e,["resumable"],o);const i=r(n,["lastConsumedClientMessageIndex"]);return i!=null&&l(e,["lastConsumedClientMessageIndex"],i),e}function aS(n){const e={},t=r(n,["setupComplete"]);t!=null&&l(e,["setupComplete"],bx(t));const o=r(n,["serverContent"]);o!=null&&l(e,["serverContent"],tS(o));const i=r(n,["toolCall"]);i!=null&&l(e,["toolCall"],oS(i));const s=r(n,["toolCallCancellation"]);s!=null&&l(e,["toolCallCancellation"],iS(s));const a=r(n,["usageMetadata"]);a!=null&&l(e,["usageMetadata"],rS(a));const u=r(n,["goAway"]);u!=null&&l(e,["goAway"],lS(u));const c=r(n,["sessionResumptionUpdate"]);return c!=null&&l(e,["sessionResumptionUpdate"],sS(c)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function uS(n){const e={},t=r(n,["fps"]);t!=null&&l(e,["fps"],t);const o=r(n,["endOffset"]);o!=null&&l(e,["endOffset"],o);const i=r(n,["startOffset"]);return i!=null&&l(e,["startOffset"],i),e}function cS(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=r(n,["data"]);t!=null&&l(e,["data"],t);const o=r(n,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function dS(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=r(n,["fileUri"]);t!=null&&l(e,["fileUri"],t);const o=r(n,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function fS(n){const e={},t=r(n,["id"]);t!=null&&l(e,["id"],t);const o=r(n,["args"]);o!=null&&l(e,["args"],o);const i=r(n,["name"]);return i!=null&&l(e,["name"],i),e}function pS(n){const e={},t=r(n,["videoMetadata"]);t!=null&&l(e,["videoMetadata"],uS(t));const o=r(n,["thought"]);o!=null&&l(e,["thought"],o);const i=r(n,["inlineData"]);i!=null&&l(e,["inlineData"],cS(i));const s=r(n,["fileData"]);s!=null&&l(e,["fileData"],dS(s));const a=r(n,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);const u=r(n,["functionCall"]);u!=null&&l(e,["functionCall"],fS(u));const c=r(n,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);const d=r(n,["executableCode"]);d!=null&&l(e,["executableCode"],d);const f=r(n,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const p=r(n,["text"]);return p!=null&&l(e,["text"],p),e}function vr(n){const e={},t=r(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>pS(s))),l(e,["parts"],i)}const o=r(n,["role"]);return o!=null&&l(e,["role"],o),e}function mS(n){const e={},t=r(n,["anyOf"]);t!=null&&l(e,["anyOf"],t);const o=r(n,["default"]);o!=null&&l(e,["default"],o);const i=r(n,["description"]);i!=null&&l(e,["description"],i);const s=r(n,["enum"]);s!=null&&l(e,["enum"],s);const a=r(n,["example"]);a!=null&&l(e,["example"],a);const u=r(n,["format"]);u!=null&&l(e,["format"],u);const c=r(n,["items"]);c!=null&&l(e,["items"],c);const d=r(n,["maxItems"]);d!=null&&l(e,["maxItems"],d);const f=r(n,["maxLength"]);f!=null&&l(e,["maxLength"],f);const p=r(n,["maxProperties"]);p!=null&&l(e,["maxProperties"],p);const m=r(n,["maximum"]);m!=null&&l(e,["maximum"],m);const y=r(n,["minItems"]);y!=null&&l(e,["minItems"],y);const T=r(n,["minLength"]);T!=null&&l(e,["minLength"],T);const x=r(n,["minProperties"]);x!=null&&l(e,["minProperties"],x);const _=r(n,["minimum"]);_!=null&&l(e,["minimum"],_);const v=r(n,["nullable"]);v!=null&&l(e,["nullable"],v);const g=r(n,["pattern"]);g!=null&&l(e,["pattern"],g);const C=r(n,["properties"]);C!=null&&l(e,["properties"],C);const S=r(n,["propertyOrdering"]);S!=null&&l(e,["propertyOrdering"],S);const w=r(n,["required"]);w!=null&&l(e,["required"],w);const E=r(n,["title"]);E!=null&&l(e,["title"],E);const M=r(n,["type"]);return M!=null&&l(e,["type"],M),e}function hS(n){const e={};if(r(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const t=r(n,["category"]);t!=null&&l(e,["category"],t);const o=r(n,["threshold"]);return o!=null&&l(e,["threshold"],o),e}function gS(n){const e={},t=r(n,["behavior"]);t!=null&&l(e,["behavior"],t);const o=r(n,["description"]);o!=null&&l(e,["description"],o);const i=r(n,["name"]);i!=null&&l(e,["name"],i);const s=r(n,["parameters"]);s!=null&&l(e,["parameters"],s);const a=r(n,["parametersJsonSchema"]);a!=null&&l(e,["parametersJsonSchema"],a);const u=r(n,["response"]);u!=null&&l(e,["response"],u);const c=r(n,["responseJsonSchema"]);return c!=null&&l(e,["responseJsonSchema"],c),e}function yS(n){const e={},t=r(n,["startTime"]);t!=null&&l(e,["startTime"],t);const o=r(n,["endTime"]);return o!=null&&l(e,["endTime"],o),e}function vS(n){const e={},t=r(n,["timeRangeFilter"]);if(t!=null&&l(e,["timeRangeFilter"],yS(t)),r(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function CS(n){const e={},t=r(n,["mode"]);t!=null&&l(e,["mode"],t);const o=r(n,["dynamicThreshold"]);return o!=null&&l(e,["dynamicThreshold"],o),e}function TS(n){const e={},t=r(n,["dynamicRetrievalConfig"]);return t!=null&&l(e,["dynamicRetrievalConfig"],CS(t)),e}function xS(){return{}}function SS(n){const e={},t=r(n,["environment"]);return t!=null&&l(e,["environment"],t),e}function ES(n){const e={},t=r(n,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(d=>gS(d))),l(e,["functionDeclarations"],c)}if(r(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(n,["googleSearch"]);o!=null&&l(e,["googleSearch"],vS(o));const i=r(n,["googleSearchRetrieval"]);if(i!=null&&l(e,["googleSearchRetrieval"],TS(i)),r(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(n,["urlContext"])!=null&&l(e,["urlContext"],xS());const a=r(n,["computerUse"]);a!=null&&l(e,["computerUse"],SS(a));const u=r(n,["codeExecution"]);return u!=null&&l(e,["codeExecution"],u),e}function _S(n){const e={},t=r(n,["mode"]);t!=null&&l(e,["mode"],t);const o=r(n,["allowedFunctionNames"]);return o!=null&&l(e,["allowedFunctionNames"],o),e}function wS(n){const e={},t=r(n,["latitude"]);t!=null&&l(e,["latitude"],t);const o=r(n,["longitude"]);return o!=null&&l(e,["longitude"],o),e}function MS(n){const e={},t=r(n,["latLng"]);t!=null&&l(e,["latLng"],wS(t));const o=r(n,["languageCode"]);return o!=null&&l(e,["languageCode"],o),e}function IS(n){const e={},t=r(n,["functionCallingConfig"]);t!=null&&l(e,["functionCallingConfig"],_S(t));const o=r(n,["retrievalConfig"]);return o!=null&&l(e,["retrievalConfig"],MS(o)),e}function kS(n){const e={},t=r(n,["voiceName"]);return t!=null&&l(e,["voiceName"],t),e}function em(n){const e={},t=r(n,["prebuiltVoiceConfig"]);return t!=null&&l(e,["prebuiltVoiceConfig"],kS(t)),e}function AS(n){const e={},t=r(n,["speaker"]);t!=null&&l(e,["speaker"],t);const o=r(n,["voiceConfig"]);return o!=null&&l(e,["voiceConfig"],em(o)),e}function NS(n){const e={},t=r(n,["speakerVoiceConfigs"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>AS(i))),l(e,["speakerVoiceConfigs"],o)}return e}function RS(n){const e={},t=r(n,["voiceConfig"]);t!=null&&l(e,["voiceConfig"],em(t));const o=r(n,["multiSpeakerVoiceConfig"]);o!=null&&l(e,["multiSpeakerVoiceConfig"],NS(o));const i=r(n,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function PS(n){const e={},t=r(n,["includeThoughts"]);t!=null&&l(e,["includeThoughts"],t);const o=r(n,["thinkingBudget"]);return o!=null&&l(e,["thinkingBudget"],o),e}function DS(n,e,t){const o={},i=r(e,["systemInstruction"]);t!==void 0&&i!=null&&l(t,["systemInstruction"],vr(he(i)));const s=r(e,["temperature"]);s!=null&&l(o,["temperature"],s);const a=r(e,["topP"]);a!=null&&l(o,["topP"],a);const u=r(e,["topK"]);u!=null&&l(o,["topK"],u);const c=r(e,["candidateCount"]);c!=null&&l(o,["candidateCount"],c);const d=r(e,["maxOutputTokens"]);d!=null&&l(o,["maxOutputTokens"],d);const f=r(e,["stopSequences"]);f!=null&&l(o,["stopSequences"],f);const p=r(e,["responseLogprobs"]);p!=null&&l(o,["responseLogprobs"],p);const m=r(e,["logprobs"]);m!=null&&l(o,["logprobs"],m);const y=r(e,["presencePenalty"]);y!=null&&l(o,["presencePenalty"],y);const T=r(e,["frequencyPenalty"]);T!=null&&l(o,["frequencyPenalty"],T);const x=r(e,["seed"]);x!=null&&l(o,["seed"],x);const _=r(e,["responseMimeType"]);_!=null&&l(o,["responseMimeType"],_);const v=r(e,["responseSchema"]);v!=null&&l(o,["responseSchema"],mS(sa(v)));const g=r(e,["responseJsonSchema"]);if(g!=null&&l(o,["responseJsonSchema"],g),r(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(r(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const C=r(e,["safetySettings"]);if(t!==void 0&&C!=null){let P=C;Array.isArray(P)&&(P=P.map(q=>hS(q))),l(t,["safetySettings"],P)}const S=r(e,["tools"]);if(t!==void 0&&S!=null){let P=$t(S);Array.isArray(P)&&(P=P.map(q=>ES(Bt(q)))),l(t,["tools"],P)}const w=r(e,["toolConfig"]);if(t!==void 0&&w!=null&&l(t,["toolConfig"],IS(w)),r(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const E=r(e,["cachedContent"]);t!==void 0&&E!=null&&l(t,["cachedContent"],cn(n,E));const M=r(e,["responseModalities"]);M!=null&&l(o,["responseModalities"],M);const R=r(e,["mediaResolution"]);R!=null&&l(o,["mediaResolution"],R);const k=r(e,["speechConfig"]);if(k!=null&&l(o,["speechConfig"],RS(aa(k))),r(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const I=r(e,["thinkingConfig"]);return I!=null&&l(o,["thinkingConfig"],PS(I)),o}function zc(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],$(n,o));const i=r(e,["contents"]);if(i!=null){let a=Fe(i);Array.isArray(a)&&(a=a.map(u=>vr(u))),l(t,["contents"],a)}const s=r(e,["config"]);return s!=null&&l(t,["generationConfig"],DS(n,s,t)),t}function LS(n,e){const t={},o=r(n,["taskType"]);e!==void 0&&o!=null&&l(e,["requests[]","taskType"],o);const i=r(n,["title"]);e!==void 0&&i!=null&&l(e,["requests[]","title"],i);const s=r(n,["outputDimensionality"]);if(e!==void 0&&s!=null&&l(e,["requests[]","outputDimensionality"],s),r(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(r(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return t}function US(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],$(n,o));const i=r(e,["contents"]);i!=null&&l(t,["requests[]","content"],la(n,i));const s=r(e,["config"]);s!=null&&l(t,["config"],LS(s,t));const a=r(e,["model"]);return a!==void 0&&l(t,["requests[]","model"],$(n,a)),t}function FS(n,e){const t={};if(r(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const o=r(n,["numberOfImages"]);e!==void 0&&o!=null&&l(e,["parameters","sampleCount"],o);const i=r(n,["aspectRatio"]);e!==void 0&&i!=null&&l(e,["parameters","aspectRatio"],i);const s=r(n,["guidanceScale"]);if(e!==void 0&&s!=null&&l(e,["parameters","guidanceScale"],s),r(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const a=r(n,["safetyFilterLevel"]);e!==void 0&&a!=null&&l(e,["parameters","safetySetting"],a);const u=r(n,["personGeneration"]);e!==void 0&&u!=null&&l(e,["parameters","personGeneration"],u);const c=r(n,["includeSafetyAttributes"]);e!==void 0&&c!=null&&l(e,["parameters","includeSafetyAttributes"],c);const d=r(n,["includeRaiReason"]);e!==void 0&&d!=null&&l(e,["parameters","includeRaiReason"],d);const f=r(n,["language"]);e!==void 0&&f!=null&&l(e,["parameters","language"],f);const p=r(n,["outputMimeType"]);e!==void 0&&p!=null&&l(e,["parameters","outputOptions","mimeType"],p);const m=r(n,["outputCompressionQuality"]);if(e!==void 0&&m!=null&&l(e,["parameters","outputOptions","compressionQuality"],m),r(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const y=r(n,["imageSize"]);if(e!==void 0&&y!=null&&l(e,["parameters","sampleImageSize"],y),r(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return t}function VS(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],$(n,o));const i=r(e,["prompt"]);i!=null&&l(t,["instances[0]","prompt"],i);const s=r(e,["config"]);return s!=null&&l(t,["config"],FS(s,t)),t}function GS(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","name"],$(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function BS(n,e,t){const o={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const s=r(e,["pageToken"]);t!==void 0&&s!=null&&l(t,["_query","pageToken"],s);const a=r(e,["filter"]);t!==void 0&&a!=null&&l(t,["_query","filter"],a);const u=r(e,["queryBase"]);return t!==void 0&&u!=null&&l(t,["_url","models_url"],Gp(n,u)),o}function $S(n,e){const t={},o=r(e,["config"]);return o!=null&&l(t,["config"],BS(n,o,t)),t}function qS(n,e){const t={},o=r(n,["displayName"]);e!==void 0&&o!=null&&l(e,["displayName"],o);const i=r(n,["description"]);e!==void 0&&i!=null&&l(e,["description"],i);const s=r(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&l(e,["defaultCheckpointId"],s),t}function HS(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","name"],$(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],qS(i,t)),t}function zS(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","name"],$(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function JS(n){const e={};if(r(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(r(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(r(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function WS(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],$(n,o));const i=r(e,["contents"]);if(i!=null){let a=Fe(i);Array.isArray(a)&&(a=a.map(u=>vr(u))),l(t,["contents"],a)}const s=r(e,["config"]);return s!=null&&l(t,["config"],JS(s)),t}function nm(n){const e={};if(r(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const t=r(n,["imageBytes"]);t!=null&&l(e,["bytesBase64Encoded"],tt(t));const o=r(n,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function KS(n,e){const t={},o=r(n,["prompt"]);e!==void 0&&o!=null&&l(e,["instances[0]","prompt"],o);const i=r(n,["image"]);if(e!==void 0&&i!=null&&l(e,["instances[0]","image"],nm(i)),r(n,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return t}function YS(n,e){const t={},o=r(n,["numberOfVideos"]);if(e!==void 0&&o!=null&&l(e,["parameters","sampleCount"],o),r(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(r(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const i=r(n,["durationSeconds"]);if(e!==void 0&&i!=null&&l(e,["parameters","durationSeconds"],i),r(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const s=r(n,["aspectRatio"]);e!==void 0&&s!=null&&l(e,["parameters","aspectRatio"],s);const a=r(n,["resolution"]);e!==void 0&&a!=null&&l(e,["parameters","resolution"],a);const u=r(n,["personGeneration"]);if(e!==void 0&&u!=null&&l(e,["parameters","personGeneration"],u),r(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const c=r(n,["negativePrompt"]);e!==void 0&&c!=null&&l(e,["parameters","negativePrompt"],c);const d=r(n,["enhancePrompt"]);if(e!==void 0&&d!=null&&l(e,["parameters","enhancePrompt"],d),r(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(r(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(r(n,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(r(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(r(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return t}function OS(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],$(n,o));const i=r(e,["prompt"]);i!=null&&l(t,["instances[0]","prompt"],i);const s=r(e,["image"]);if(s!=null&&l(t,["instances[0]","image"],nm(s)),r(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const a=r(e,["source"]);a!=null&&l(t,["config"],KS(a,t));const u=r(e,["config"]);return u!=null&&l(t,["config"],YS(u,t)),t}function QS(n){const e={},t=r(n,["fps"]);t!=null&&l(e,["fps"],t);const o=r(n,["endOffset"]);o!=null&&l(e,["endOffset"],o);const i=r(n,["startOffset"]);return i!=null&&l(e,["startOffset"],i),e}function bS(n){const e={},t=r(n,["displayName"]);t!=null&&l(e,["displayName"],t);const o=r(n,["data"]);o!=null&&l(e,["data"],o);const i=r(n,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function XS(n){const e={},t=r(n,["displayName"]);t!=null&&l(e,["displayName"],t);const o=r(n,["fileUri"]);o!=null&&l(e,["fileUri"],o);const i=r(n,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function ZS(n){const e={},t=r(n,["id"]);t!=null&&l(e,["id"],t);const o=r(n,["args"]);o!=null&&l(e,["args"],o);const i=r(n,["name"]);return i!=null&&l(e,["name"],i),e}function jS(n){const e={},t=r(n,["videoMetadata"]);t!=null&&l(e,["videoMetadata"],QS(t));const o=r(n,["thought"]);o!=null&&l(e,["thought"],o);const i=r(n,["inlineData"]);i!=null&&l(e,["inlineData"],bS(i));const s=r(n,["fileData"]);s!=null&&l(e,["fileData"],XS(s));const a=r(n,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);const u=r(n,["functionCall"]);u!=null&&l(e,["functionCall"],ZS(u));const c=r(n,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);const d=r(n,["executableCode"]);d!=null&&l(e,["executableCode"],d);const f=r(n,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const p=r(n,["text"]);return p!=null&&l(e,["text"],p),e}function Ht(n){const e={},t=r(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>jS(s))),l(e,["parts"],i)}const o=r(n,["role"]);return o!=null&&l(e,["role"],o),e}function eE(n){const e={},t=r(n,["anyOf"]);t!=null&&l(e,["anyOf"],t);const o=r(n,["default"]);o!=null&&l(e,["default"],o);const i=r(n,["description"]);i!=null&&l(e,["description"],i);const s=r(n,["enum"]);s!=null&&l(e,["enum"],s);const a=r(n,["example"]);a!=null&&l(e,["example"],a);const u=r(n,["format"]);u!=null&&l(e,["format"],u);const c=r(n,["items"]);c!=null&&l(e,["items"],c);const d=r(n,["maxItems"]);d!=null&&l(e,["maxItems"],d);const f=r(n,["maxLength"]);f!=null&&l(e,["maxLength"],f);const p=r(n,["maxProperties"]);p!=null&&l(e,["maxProperties"],p);const m=r(n,["maximum"]);m!=null&&l(e,["maximum"],m);const y=r(n,["minItems"]);y!=null&&l(e,["minItems"],y);const T=r(n,["minLength"]);T!=null&&l(e,["minLength"],T);const x=r(n,["minProperties"]);x!=null&&l(e,["minProperties"],x);const _=r(n,["minimum"]);_!=null&&l(e,["minimum"],_);const v=r(n,["nullable"]);v!=null&&l(e,["nullable"],v);const g=r(n,["pattern"]);g!=null&&l(e,["pattern"],g);const C=r(n,["properties"]);C!=null&&l(e,["properties"],C);const S=r(n,["propertyOrdering"]);S!=null&&l(e,["propertyOrdering"],S);const w=r(n,["required"]);w!=null&&l(e,["required"],w);const E=r(n,["title"]);E!=null&&l(e,["title"],E);const M=r(n,["type"]);return M!=null&&l(e,["type"],M),e}function nE(n){const e={},t=r(n,["featureSelectionPreference"]);return t!=null&&l(e,["featureSelectionPreference"],t),e}function tE(n){const e={},t=r(n,["method"]);t!=null&&l(e,["method"],t);const o=r(n,["category"]);o!=null&&l(e,["category"],o);const i=r(n,["threshold"]);return i!=null&&l(e,["threshold"],i),e}function oE(n){const e={};if(r(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const t=r(n,["description"]);t!=null&&l(e,["description"],t);const o=r(n,["name"]);o!=null&&l(e,["name"],o);const i=r(n,["parameters"]);i!=null&&l(e,["parameters"],i);const s=r(n,["parametersJsonSchema"]);s!=null&&l(e,["parametersJsonSchema"],s);const a=r(n,["response"]);a!=null&&l(e,["response"],a);const u=r(n,["responseJsonSchema"]);return u!=null&&l(e,["responseJsonSchema"],u),e}function iE(n){const e={},t=r(n,["startTime"]);t!=null&&l(e,["startTime"],t);const o=r(n,["endTime"]);return o!=null&&l(e,["endTime"],o),e}function rE(n){const e={},t=r(n,["timeRangeFilter"]);t!=null&&l(e,["timeRangeFilter"],iE(t));const o=r(n,["excludeDomains"]);return o!=null&&l(e,["excludeDomains"],o),e}function lE(n){const e={},t=r(n,["mode"]);t!=null&&l(e,["mode"],t);const o=r(n,["dynamicThreshold"]);return o!=null&&l(e,["dynamicThreshold"],o),e}function sE(n){const e={},t=r(n,["dynamicRetrievalConfig"]);return t!=null&&l(e,["dynamicRetrievalConfig"],lE(t)),e}function aE(n){const e={},t=r(n,["excludeDomains"]);return t!=null&&l(e,["excludeDomains"],t),e}function uE(n){const e={},t=r(n,["apiKeyString"]);return t!=null&&l(e,["apiKeyString"],t),e}function cE(n){const e={},t=r(n,["apiKeyConfig"]);t!=null&&l(e,["apiKeyConfig"],uE(t));const o=r(n,["authType"]);o!=null&&l(e,["authType"],o);const i=r(n,["googleServiceAccountConfig"]);i!=null&&l(e,["googleServiceAccountConfig"],i);const s=r(n,["httpBasicAuthConfig"]);s!=null&&l(e,["httpBasicAuthConfig"],s);const a=r(n,["oauthConfig"]);a!=null&&l(e,["oauthConfig"],a);const u=r(n,["oidcConfig"]);return u!=null&&l(e,["oidcConfig"],u),e}function dE(n){const e={},t=r(n,["authConfig"]);return t!=null&&l(e,["authConfig"],cE(t)),e}function fE(){return{}}function pE(n){const e={},t=r(n,["environment"]);return t!=null&&l(e,["environment"],t),e}function tm(n){const e={},t=r(n,["functionDeclarations"]);if(t!=null){let p=t;Array.isArray(p)&&(p=p.map(m=>oE(m))),l(e,["functionDeclarations"],p)}const o=r(n,["retrieval"]);o!=null&&l(e,["retrieval"],o);const i=r(n,["googleSearch"]);i!=null&&l(e,["googleSearch"],rE(i));const s=r(n,["googleSearchRetrieval"]);s!=null&&l(e,["googleSearchRetrieval"],sE(s));const a=r(n,["enterpriseWebSearch"]);a!=null&&l(e,["enterpriseWebSearch"],aE(a));const u=r(n,["googleMaps"]);u!=null&&l(e,["googleMaps"],dE(u)),r(n,["urlContext"])!=null&&l(e,["urlContext"],fE());const d=r(n,["computerUse"]);d!=null&&l(e,["computerUse"],pE(d));const f=r(n,["codeExecution"]);return f!=null&&l(e,["codeExecution"],f),e}function mE(n){const e={},t=r(n,["mode"]);t!=null&&l(e,["mode"],t);const o=r(n,["allowedFunctionNames"]);return o!=null&&l(e,["allowedFunctionNames"],o),e}function hE(n){const e={},t=r(n,["latitude"]);t!=null&&l(e,["latitude"],t);const o=r(n,["longitude"]);return o!=null&&l(e,["longitude"],o),e}function gE(n){const e={},t=r(n,["latLng"]);t!=null&&l(e,["latLng"],hE(t));const o=r(n,["languageCode"]);return o!=null&&l(e,["languageCode"],o),e}function yE(n){const e={},t=r(n,["functionCallingConfig"]);t!=null&&l(e,["functionCallingConfig"],mE(t));const o=r(n,["retrievalConfig"]);return o!=null&&l(e,["retrievalConfig"],gE(o)),e}function vE(n){const e={},t=r(n,["voiceName"]);return t!=null&&l(e,["voiceName"],t),e}function CE(n){const e={},t=r(n,["prebuiltVoiceConfig"]);return t!=null&&l(e,["prebuiltVoiceConfig"],vE(t)),e}function TE(n){const e={},t=r(n,["voiceConfig"]);if(t!=null&&l(e,["voiceConfig"],CE(t)),r(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=r(n,["languageCode"]);return o!=null&&l(e,["languageCode"],o),e}function xE(n){const e={},t=r(n,["includeThoughts"]);t!=null&&l(e,["includeThoughts"],t);const o=r(n,["thinkingBudget"]);return o!=null&&l(e,["thinkingBudget"],o),e}function SE(n,e,t){const o={},i=r(e,["systemInstruction"]);t!==void 0&&i!=null&&l(t,["systemInstruction"],Ht(he(i)));const s=r(e,["temperature"]);s!=null&&l(o,["temperature"],s);const a=r(e,["topP"]);a!=null&&l(o,["topP"],a);const u=r(e,["topK"]);u!=null&&l(o,["topK"],u);const c=r(e,["candidateCount"]);c!=null&&l(o,["candidateCount"],c);const d=r(e,["maxOutputTokens"]);d!=null&&l(o,["maxOutputTokens"],d);const f=r(e,["stopSequences"]);f!=null&&l(o,["stopSequences"],f);const p=r(e,["responseLogprobs"]);p!=null&&l(o,["responseLogprobs"],p);const m=r(e,["logprobs"]);m!=null&&l(o,["logprobs"],m);const y=r(e,["presencePenalty"]);y!=null&&l(o,["presencePenalty"],y);const T=r(e,["frequencyPenalty"]);T!=null&&l(o,["frequencyPenalty"],T);const x=r(e,["seed"]);x!=null&&l(o,["seed"],x);const _=r(e,["responseMimeType"]);_!=null&&l(o,["responseMimeType"],_);const v=r(e,["responseSchema"]);v!=null&&l(o,["responseSchema"],eE(sa(v)));const g=r(e,["responseJsonSchema"]);g!=null&&l(o,["responseJsonSchema"],g);const C=r(e,["routingConfig"]);C!=null&&l(o,["routingConfig"],C);const S=r(e,["modelSelectionConfig"]);S!=null&&l(o,["modelConfig"],nE(S));const w=r(e,["safetySettings"]);if(t!==void 0&&w!=null){let Be=w;Array.isArray(Be)&&(Be=Be.map(Dn=>tE(Dn))),l(t,["safetySettings"],Be)}const E=r(e,["tools"]);if(t!==void 0&&E!=null){let Be=$t(E);Array.isArray(Be)&&(Be=Be.map(Dn=>tm(Bt(Dn)))),l(t,["tools"],Be)}const M=r(e,["toolConfig"]);t!==void 0&&M!=null&&l(t,["toolConfig"],yE(M));const R=r(e,["labels"]);t!==void 0&&R!=null&&l(t,["labels"],R);const k=r(e,["cachedContent"]);t!==void 0&&k!=null&&l(t,["cachedContent"],cn(n,k));const I=r(e,["responseModalities"]);I!=null&&l(o,["responseModalities"],I);const P=r(e,["mediaResolution"]);P!=null&&l(o,["mediaResolution"],P);const q=r(e,["speechConfig"]);q!=null&&l(o,["speechConfig"],TE(aa(q)));const W=r(e,["audioTimestamp"]);W!=null&&l(o,["audioTimestamp"],W);const zt=r(e,["thinkingConfig"]);return zt!=null&&l(o,["thinkingConfig"],xE(zt)),o}function Jc(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],$(n,o));const i=r(e,["contents"]);if(i!=null){let a=Fe(i);Array.isArray(a)&&(a=a.map(u=>Ht(u))),l(t,["contents"],a)}const s=r(e,["config"]);return s!=null&&l(t,["generationConfig"],SE(n,s,t)),t}function EE(n,e){const t={},o=r(n,["taskType"]);e!==void 0&&o!=null&&l(e,["instances[]","task_type"],o);const i=r(n,["title"]);e!==void 0&&i!=null&&l(e,["instances[]","title"],i);const s=r(n,["outputDimensionality"]);e!==void 0&&s!=null&&l(e,["parameters","outputDimensionality"],s);const a=r(n,["mimeType"]);e!==void 0&&a!=null&&l(e,["instances[]","mimeType"],a);const u=r(n,["autoTruncate"]);return e!==void 0&&u!=null&&l(e,["parameters","autoTruncate"],u),t}function _E(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],$(n,o));const i=r(e,["contents"]);i!=null&&l(t,["instances[]","content"],la(n,i));const s=r(e,["config"]);return s!=null&&l(t,["config"],EE(s,t)),t}function wE(n,e){const t={},o=r(n,["outputGcsUri"]);e!==void 0&&o!=null&&l(e,["parameters","storageUri"],o);const i=r(n,["negativePrompt"]);e!==void 0&&i!=null&&l(e,["parameters","negativePrompt"],i);const s=r(n,["numberOfImages"]);e!==void 0&&s!=null&&l(e,["parameters","sampleCount"],s);const a=r(n,["aspectRatio"]);e!==void 0&&a!=null&&l(e,["parameters","aspectRatio"],a);const u=r(n,["guidanceScale"]);e!==void 0&&u!=null&&l(e,["parameters","guidanceScale"],u);const c=r(n,["seed"]);e!==void 0&&c!=null&&l(e,["parameters","seed"],c);const d=r(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&l(e,["parameters","safetySetting"],d);const f=r(n,["personGeneration"]);e!==void 0&&f!=null&&l(e,["parameters","personGeneration"],f);const p=r(n,["includeSafetyAttributes"]);e!==void 0&&p!=null&&l(e,["parameters","includeSafetyAttributes"],p);const m=r(n,["includeRaiReason"]);e!==void 0&&m!=null&&l(e,["parameters","includeRaiReason"],m);const y=r(n,["language"]);e!==void 0&&y!=null&&l(e,["parameters","language"],y);const T=r(n,["outputMimeType"]);e!==void 0&&T!=null&&l(e,["parameters","outputOptions","mimeType"],T);const x=r(n,["outputCompressionQuality"]);e!==void 0&&x!=null&&l(e,["parameters","outputOptions","compressionQuality"],x);const _=r(n,["addWatermark"]);e!==void 0&&_!=null&&l(e,["parameters","addWatermark"],_);const v=r(n,["imageSize"]);e!==void 0&&v!=null&&l(e,["parameters","sampleImageSize"],v);const g=r(n,["enhancePrompt"]);return e!==void 0&&g!=null&&l(e,["parameters","enhancePrompt"],g),t}function ME(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],$(n,o));const i=r(e,["prompt"]);i!=null&&l(t,["instances[0]","prompt"],i);const s=r(e,["config"]);return s!=null&&l(t,["config"],wE(s,t)),t}function Ye(n){const e={},t=r(n,["gcsUri"]);t!=null&&l(e,["gcsUri"],t);const o=r(n,["imageBytes"]);o!=null&&l(e,["bytesBase64Encoded"],tt(o));const i=r(n,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function IE(n){const e={},t=r(n,["maskMode"]);t!=null&&l(e,["maskMode"],t);const o=r(n,["segmentationClasses"]);o!=null&&l(e,["maskClasses"],o);const i=r(n,["maskDilation"]);return i!=null&&l(e,["dilation"],i),e}function kE(n){const e={},t=r(n,["controlType"]);t!=null&&l(e,["controlType"],t);const o=r(n,["enableControlImageComputation"]);return o!=null&&l(e,["computeControl"],o),e}function AE(n){const e={},t=r(n,["styleDescription"]);return t!=null&&l(e,["styleDescription"],t),e}function NE(n){const e={},t=r(n,["subjectType"]);t!=null&&l(e,["subjectType"],t);const o=r(n,["subjectDescription"]);return o!=null&&l(e,["subjectDescription"],o),e}function RE(n){const e={},t=r(n,["referenceImage"]);t!=null&&l(e,["referenceImage"],Ye(t));const o=r(n,["referenceId"]);o!=null&&l(e,["referenceId"],o);const i=r(n,["referenceType"]);i!=null&&l(e,["referenceType"],i);const s=r(n,["maskImageConfig"]);s!=null&&l(e,["maskImageConfig"],IE(s));const a=r(n,["controlImageConfig"]);a!=null&&l(e,["controlImageConfig"],kE(a));const u=r(n,["styleImageConfig"]);u!=null&&l(e,["styleImageConfig"],AE(u));const c=r(n,["subjectImageConfig"]);return c!=null&&l(e,["subjectImageConfig"],NE(c)),e}function PE(n,e){const t={},o=r(n,["outputGcsUri"]);e!==void 0&&o!=null&&l(e,["parameters","storageUri"],o);const i=r(n,["negativePrompt"]);e!==void 0&&i!=null&&l(e,["parameters","negativePrompt"],i);const s=r(n,["numberOfImages"]);e!==void 0&&s!=null&&l(e,["parameters","sampleCount"],s);const a=r(n,["aspectRatio"]);e!==void 0&&a!=null&&l(e,["parameters","aspectRatio"],a);const u=r(n,["guidanceScale"]);e!==void 0&&u!=null&&l(e,["parameters","guidanceScale"],u);const c=r(n,["seed"]);e!==void 0&&c!=null&&l(e,["parameters","seed"],c);const d=r(n,["safetyFilterLevel"]);e!==void 0&&d!=null&&l(e,["parameters","safetySetting"],d);const f=r(n,["personGeneration"]);e!==void 0&&f!=null&&l(e,["parameters","personGeneration"],f);const p=r(n,["includeSafetyAttributes"]);e!==void 0&&p!=null&&l(e,["parameters","includeSafetyAttributes"],p);const m=r(n,["includeRaiReason"]);e!==void 0&&m!=null&&l(e,["parameters","includeRaiReason"],m);const y=r(n,["language"]);e!==void 0&&y!=null&&l(e,["parameters","language"],y);const T=r(n,["outputMimeType"]);e!==void 0&&T!=null&&l(e,["parameters","outputOptions","mimeType"],T);const x=r(n,["outputCompressionQuality"]);e!==void 0&&x!=null&&l(e,["parameters","outputOptions","compressionQuality"],x);const _=r(n,["addWatermark"]);e!==void 0&&_!=null&&l(e,["parameters","addWatermark"],_);const v=r(n,["editMode"]);e!==void 0&&v!=null&&l(e,["parameters","editMode"],v);const g=r(n,["baseSteps"]);return e!==void 0&&g!=null&&l(e,["parameters","editConfig","baseSteps"],g),t}function DE(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],$(n,o));const i=r(e,["prompt"]);i!=null&&l(t,["instances[0]","prompt"],i);const s=r(e,["referenceImages"]);if(s!=null){let u=s;Array.isArray(u)&&(u=u.map(c=>RE(c))),l(t,["instances[0]","referenceImages"],u)}const a=r(e,["config"]);return a!=null&&l(t,["config"],PE(a,t)),t}function LE(n,e){const t={},o=r(n,["outputGcsUri"]);e!==void 0&&o!=null&&l(e,["parameters","storageUri"],o);const i=r(n,["includeRaiReason"]);e!==void 0&&i!=null&&l(e,["parameters","includeRaiReason"],i);const s=r(n,["outputMimeType"]);e!==void 0&&s!=null&&l(e,["parameters","outputOptions","mimeType"],s);const a=r(n,["outputCompressionQuality"]);e!==void 0&&a!=null&&l(e,["parameters","outputOptions","compressionQuality"],a);const u=r(n,["enhanceInputImage"]);e!==void 0&&u!=null&&l(e,["parameters","upscaleConfig","enhanceInputImage"],u);const c=r(n,["imagePreservationFactor"]);e!==void 0&&c!=null&&l(e,["parameters","upscaleConfig","imagePreservationFactor"],c);const d=r(n,["numberOfImages"]);e!==void 0&&d!=null&&l(e,["parameters","sampleCount"],d);const f=r(n,["mode"]);return e!==void 0&&f!=null&&l(e,["parameters","mode"],f),t}function UE(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],$(n,o));const i=r(e,["image"]);i!=null&&l(t,["instances[0]","image"],Ye(i));const s=r(e,["upscaleFactor"]);s!=null&&l(t,["parameters","upscaleConfig","upscaleFactor"],s);const a=r(e,["config"]);return a!=null&&l(t,["config"],LE(a,t)),t}function FE(n){const e={},t=r(n,["productImage"]);return t!=null&&l(e,["image"],Ye(t)),e}function VE(n,e){const t={},o=r(n,["prompt"]);e!==void 0&&o!=null&&l(e,["instances[0]","prompt"],o);const i=r(n,["personImage"]);e!==void 0&&i!=null&&l(e,["instances[0]","personImage","image"],Ye(i));const s=r(n,["productImages"]);if(e!==void 0&&s!=null){let a=s;Array.isArray(a)&&(a=a.map(u=>FE(u))),l(e,["instances[0]","productImages"],a)}return t}function GE(n,e){const t={},o=r(n,["numberOfImages"]);e!==void 0&&o!=null&&l(e,["parameters","sampleCount"],o);const i=r(n,["baseSteps"]);e!==void 0&&i!=null&&l(e,["parameters","editConfig","baseSteps"],i);const s=r(n,["outputGcsUri"]);e!==void 0&&s!=null&&l(e,["parameters","storageUri"],s);const a=r(n,["seed"]);e!==void 0&&a!=null&&l(e,["parameters","seed"],a);const u=r(n,["safetyFilterLevel"]);e!==void 0&&u!=null&&l(e,["parameters","safetySetting"],u);const c=r(n,["personGeneration"]);e!==void 0&&c!=null&&l(e,["parameters","personGeneration"],c);const d=r(n,["addWatermark"]);e!==void 0&&d!=null&&l(e,["parameters","addWatermark"],d);const f=r(n,["outputMimeType"]);e!==void 0&&f!=null&&l(e,["parameters","outputOptions","mimeType"],f);const p=r(n,["outputCompressionQuality"]);e!==void 0&&p!=null&&l(e,["parameters","outputOptions","compressionQuality"],p);const m=r(n,["enhancePrompt"]);return e!==void 0&&m!=null&&l(e,["parameters","enhancePrompt"],m),t}function BE(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],$(n,o));const i=r(e,["source"]);i!=null&&l(t,["config"],VE(i,t));const s=r(e,["config"]);return s!=null&&l(t,["config"],GE(s,t)),t}function $E(n){const e={},t=r(n,["image"]);return t!=null&&l(e,["image"],Ye(t)),e}function qE(n,e){const t={},o=r(n,["prompt"]);e!==void 0&&o!=null&&l(e,["instances[0]","prompt"],o);const i=r(n,["image"]);e!==void 0&&i!=null&&l(e,["instances[0]","image"],Ye(i));const s=r(n,["scribbleImage"]);return e!==void 0&&s!=null&&l(e,["instances[0]","scribble"],$E(s)),t}function HE(n,e){const t={},o=r(n,["mode"]);e!==void 0&&o!=null&&l(e,["parameters","mode"],o);const i=r(n,["maxPredictions"]);e!==void 0&&i!=null&&l(e,["parameters","maxPredictions"],i);const s=r(n,["confidenceThreshold"]);e!==void 0&&s!=null&&l(e,["parameters","confidenceThreshold"],s);const a=r(n,["maskDilation"]);e!==void 0&&a!=null&&l(e,["parameters","maskDilation"],a);const u=r(n,["binaryColorThreshold"]);return e!==void 0&&u!=null&&l(e,["parameters","binaryColorThreshold"],u),t}function zE(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],$(n,o));const i=r(e,["source"]);i!=null&&l(t,["config"],qE(i,t));const s=r(e,["config"]);return s!=null&&l(t,["config"],HE(s,t)),t}function JE(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","name"],$(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function WE(n,e,t){const o={},i=r(e,["pageSize"]);t!==void 0&&i!=null&&l(t,["_query","pageSize"],i);const s=r(e,["pageToken"]);t!==void 0&&s!=null&&l(t,["_query","pageToken"],s);const a=r(e,["filter"]);t!==void 0&&a!=null&&l(t,["_query","filter"],a);const u=r(e,["queryBase"]);return t!==void 0&&u!=null&&l(t,["_url","models_url"],Gp(n,u)),o}function KE(n,e){const t={},o=r(e,["config"]);return o!=null&&l(t,["config"],WE(n,o,t)),t}function YE(n,e){const t={},o=r(n,["displayName"]);e!==void 0&&o!=null&&l(e,["displayName"],o);const i=r(n,["description"]);e!==void 0&&i!=null&&l(e,["description"],i);const s=r(n,["defaultCheckpointId"]);return e!==void 0&&s!=null&&l(e,["defaultCheckpointId"],s),t}function OE(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],$(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],YE(i,t)),t}function QE(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","name"],$(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],i),t}function bE(n,e){const t={},o=r(n,["systemInstruction"]);e!==void 0&&o!=null&&l(e,["systemInstruction"],Ht(he(o)));const i=r(n,["tools"]);if(e!==void 0&&i!=null){let a=i;Array.isArray(a)&&(a=a.map(u=>tm(u))),l(e,["tools"],a)}const s=r(n,["generationConfig"]);return e!==void 0&&s!=null&&l(e,["generationConfig"],s),t}function XE(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],$(n,o));const i=r(e,["contents"]);if(i!=null){let a=Fe(i);Array.isArray(a)&&(a=a.map(u=>Ht(u))),l(t,["contents"],a)}const s=r(e,["config"]);return s!=null&&l(t,["config"],bE(s,t)),t}function ZE(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],$(n,o));const i=r(e,["contents"]);if(i!=null){let a=Fe(i);Array.isArray(a)&&(a=a.map(u=>Ht(u))),l(t,["contents"],a)}const s=r(e,["config"]);return s!=null&&l(t,["config"],s),t}function om(n){const e={},t=r(n,["uri"]);t!=null&&l(e,["gcsUri"],t);const o=r(n,["videoBytes"]);o!=null&&l(e,["bytesBase64Encoded"],tt(o));const i=r(n,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function jE(n,e){const t={},o=r(n,["prompt"]);e!==void 0&&o!=null&&l(e,["instances[0]","prompt"],o);const i=r(n,["image"]);e!==void 0&&i!=null&&l(e,["instances[0]","image"],Ye(i));const s=r(n,["video"]);return e!==void 0&&s!=null&&l(e,["instances[0]","video"],om(s)),t}function e_(n){const e={},t=r(n,["image"]);t!=null&&l(e,["image"],Ye(t));const o=r(n,["referenceType"]);return o!=null&&l(e,["referenceType"],o),e}function n_(n){const e={},t=r(n,["image"]);t!=null&&l(e,["_self"],Ye(t));const o=r(n,["maskMode"]);return o!=null&&l(e,["maskMode"],o),e}function t_(n,e){const t={},o=r(n,["numberOfVideos"]);e!==void 0&&o!=null&&l(e,["parameters","sampleCount"],o);const i=r(n,["outputGcsUri"]);e!==void 0&&i!=null&&l(e,["parameters","storageUri"],i);const s=r(n,["fps"]);e!==void 0&&s!=null&&l(e,["parameters","fps"],s);const a=r(n,["durationSeconds"]);e!==void 0&&a!=null&&l(e,["parameters","durationSeconds"],a);const u=r(n,["seed"]);e!==void 0&&u!=null&&l(e,["parameters","seed"],u);const c=r(n,["aspectRatio"]);e!==void 0&&c!=null&&l(e,["parameters","aspectRatio"],c);const d=r(n,["resolution"]);e!==void 0&&d!=null&&l(e,["parameters","resolution"],d);const f=r(n,["personGeneration"]);e!==void 0&&f!=null&&l(e,["parameters","personGeneration"],f);const p=r(n,["pubsubTopic"]);e!==void 0&&p!=null&&l(e,["parameters","pubsubTopic"],p);const m=r(n,["negativePrompt"]);e!==void 0&&m!=null&&l(e,["parameters","negativePrompt"],m);const y=r(n,["enhancePrompt"]);e!==void 0&&y!=null&&l(e,["parameters","enhancePrompt"],y);const T=r(n,["generateAudio"]);e!==void 0&&T!=null&&l(e,["parameters","generateAudio"],T);const x=r(n,["lastFrame"]);e!==void 0&&x!=null&&l(e,["instances[0]","lastFrame"],Ye(x));const _=r(n,["referenceImages"]);if(e!==void 0&&_!=null){let C=_;Array.isArray(C)&&(C=C.map(S=>e_(S))),l(e,["instances[0]","referenceImages"],C)}const v=r(n,["mask"]);e!==void 0&&v!=null&&l(e,["instances[0]","mask"],n_(v));const g=r(n,["compressionQuality"]);return e!==void 0&&g!=null&&l(e,["parameters","compressionQuality"],g),t}function o_(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["_url","model"],$(n,o));const i=r(e,["prompt"]);i!=null&&l(t,["instances[0]","prompt"],i);const s=r(e,["image"]);s!=null&&l(t,["instances[0]","image"],Ye(s));const a=r(e,["video"]);a!=null&&l(t,["instances[0]","video"],om(a));const u=r(e,["source"]);u!=null&&l(t,["config"],jE(u,t));const c=r(e,["config"]);return c!=null&&l(t,["config"],t_(c,t)),t}function i_(n){const e={},t=r(n,["fps"]);t!=null&&l(e,["fps"],t);const o=r(n,["endOffset"]);o!=null&&l(e,["endOffset"],o);const i=r(n,["startOffset"]);return i!=null&&l(e,["startOffset"],i),e}function r_(n){const e={},t=r(n,["data"]);t!=null&&l(e,["data"],t);const o=r(n,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function l_(n){const e={},t=r(n,["fileUri"]);t!=null&&l(e,["fileUri"],t);const o=r(n,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function s_(n){const e={},t=r(n,["id"]);t!=null&&l(e,["id"],t);const o=r(n,["args"]);o!=null&&l(e,["args"],o);const i=r(n,["name"]);return i!=null&&l(e,["name"],i),e}function a_(n){const e={},t=r(n,["videoMetadata"]);t!=null&&l(e,["videoMetadata"],i_(t));const o=r(n,["thought"]);o!=null&&l(e,["thought"],o);const i=r(n,["inlineData"]);i!=null&&l(e,["inlineData"],r_(i));const s=r(n,["fileData"]);s!=null&&l(e,["fileData"],l_(s));const a=r(n,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);const u=r(n,["functionCall"]);u!=null&&l(e,["functionCall"],s_(u));const c=r(n,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);const d=r(n,["executableCode"]);d!=null&&l(e,["executableCode"],d);const f=r(n,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const p=r(n,["text"]);return p!=null&&l(e,["text"],p),e}function u_(n){const e={},t=r(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>a_(s))),l(e,["parts"],i)}const o=r(n,["role"]);return o!=null&&l(e,["role"],o),e}function c_(n){const e={},t=r(n,["citationSources"]);return t!=null&&l(e,["citations"],t),e}function d_(n){const e={},t=r(n,["retrievedUrl"]);t!=null&&l(e,["retrievedUrl"],t);const o=r(n,["urlRetrievalStatus"]);return o!=null&&l(e,["urlRetrievalStatus"],o),e}function f_(n){const e={},t=r(n,["urlMetadata"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>d_(i))),l(e,["urlMetadata"],o)}return e}function p_(n){const e={},t=r(n,["content"]);t!=null&&l(e,["content"],u_(t));const o=r(n,["citationMetadata"]);o!=null&&l(e,["citationMetadata"],c_(o));const i=r(n,["tokenCount"]);i!=null&&l(e,["tokenCount"],i);const s=r(n,["finishReason"]);s!=null&&l(e,["finishReason"],s);const a=r(n,["urlContextMetadata"]);a!=null&&l(e,["urlContextMetadata"],f_(a));const u=r(n,["avgLogprobs"]);u!=null&&l(e,["avgLogprobs"],u);const c=r(n,["groundingMetadata"]);c!=null&&l(e,["groundingMetadata"],c);const d=r(n,["index"]);d!=null&&l(e,["index"],d);const f=r(n,["logprobsResult"]);f!=null&&l(e,["logprobsResult"],f);const p=r(n,["safetyRatings"]);return p!=null&&l(e,["safetyRatings"],p),e}function Wc(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["candidates"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>p_(d))),l(e,["candidates"],c)}const i=r(n,["modelVersion"]);i!=null&&l(e,["modelVersion"],i);const s=r(n,["promptFeedback"]);s!=null&&l(e,["promptFeedback"],s);const a=r(n,["responseId"]);a!=null&&l(e,["responseId"],a);const u=r(n,["usageMetadata"]);return u!=null&&l(e,["usageMetadata"],u),e}function m_(n){const e={},t=r(n,["values"]);return t!=null&&l(e,["values"],t),e}function h_(){return{}}function g_(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["embeddings"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>m_(a))),l(e,["embeddings"],s)}return r(n,["metadata"])!=null&&l(e,["metadata"],h_()),e}function y_(n){const e={},t=r(n,["bytesBase64Encoded"]);t!=null&&l(e,["imageBytes"],tt(t));const o=r(n,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function im(n){const e={},t=r(n,["safetyAttributes","categories"]);t!=null&&l(e,["categories"],t);const o=r(n,["safetyAttributes","scores"]);o!=null&&l(e,["scores"],o);const i=r(n,["contentType"]);return i!=null&&l(e,["contentType"],i),e}function v_(n){const e={},t=r(n,["_self"]);t!=null&&l(e,["image"],y_(t));const o=r(n,["raiFilteredReason"]);o!=null&&l(e,["raiFilteredReason"],o);const i=r(n,["_self"]);return i!=null&&l(e,["safetyAttributes"],im(i)),e}function C_(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>v_(a))),l(e,["generatedImages"],s)}const i=r(n,["positivePromptSafetyAttributes"]);return i!=null&&l(e,["positivePromptSafetyAttributes"],im(i)),e}function T_(n){const e={},t=r(n,["baseModel"]);t!=null&&l(e,["baseModel"],t);const o=r(n,["createTime"]);o!=null&&l(e,["createTime"],o);const i=r(n,["updateTime"]);return i!=null&&l(e,["updateTime"],i),e}function is(n){const e={},t=r(n,["name"]);t!=null&&l(e,["name"],t);const o=r(n,["displayName"]);o!=null&&l(e,["displayName"],o);const i=r(n,["description"]);i!=null&&l(e,["description"],i);const s=r(n,["version"]);s!=null&&l(e,["version"],s);const a=r(n,["_self"]);a!=null&&l(e,["tunedModelInfo"],T_(a));const u=r(n,["inputTokenLimit"]);u!=null&&l(e,["inputTokenLimit"],u);const c=r(n,["outputTokenLimit"]);c!=null&&l(e,["outputTokenLimit"],c);const d=r(n,["supportedGenerationMethods"]);return d!=null&&l(e,["supportedActions"],d),e}function x_(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);const i=r(n,["_self"]);if(i!=null){let s=Bp(i);Array.isArray(s)&&(s=s.map(a=>is(a))),l(e,["models"],s)}return e}function S_(n){const e={},t=r(n,["sdkHttpResponse"]);return t!=null&&l(e,["sdkHttpResponse"],t),e}function E_(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["totalTokens"]);o!=null&&l(e,["totalTokens"],o);const i=r(n,["cachedContentTokenCount"]);return i!=null&&l(e,["cachedContentTokenCount"],i),e}function __(n){const e={},t=r(n,["video","uri"]);t!=null&&l(e,["uri"],t);const o=r(n,["video","encodedVideo"]);o!=null&&l(e,["videoBytes"],tt(o));const i=r(n,["encoding"]);return i!=null&&l(e,["mimeType"],i),e}function w_(n){const e={},t=r(n,["_self"]);return t!=null&&l(e,["video"],__(t)),e}function M_(n){const e={},t=r(n,["generatedSamples"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>w_(a))),l(e,["generatedVideos"],s)}const o=r(n,["raiMediaFilteredCount"]);o!=null&&l(e,["raiMediaFilteredCount"],o);const i=r(n,["raiMediaFilteredReasons"]);return i!=null&&l(e,["raiMediaFilteredReasons"],i),e}function I_(n){const e={},t=r(n,["name"]);t!=null&&l(e,["name"],t);const o=r(n,["metadata"]);o!=null&&l(e,["metadata"],o);const i=r(n,["done"]);i!=null&&l(e,["done"],i);const s=r(n,["error"]);s!=null&&l(e,["error"],s);const a=r(n,["response","generateVideoResponse"]);return a!=null&&l(e,["response"],M_(a)),e}function k_(n){const e={},t=r(n,["fps"]);t!=null&&l(e,["fps"],t);const o=r(n,["endOffset"]);o!=null&&l(e,["endOffset"],o);const i=r(n,["startOffset"]);return i!=null&&l(e,["startOffset"],i),e}function A_(n){const e={},t=r(n,["displayName"]);t!=null&&l(e,["displayName"],t);const o=r(n,["data"]);o!=null&&l(e,["data"],o);const i=r(n,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function N_(n){const e={},t=r(n,["displayName"]);t!=null&&l(e,["displayName"],t);const o=r(n,["fileUri"]);o!=null&&l(e,["fileUri"],o);const i=r(n,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function R_(n){const e={},t=r(n,["id"]);t!=null&&l(e,["id"],t);const o=r(n,["args"]);o!=null&&l(e,["args"],o);const i=r(n,["name"]);return i!=null&&l(e,["name"],i),e}function P_(n){const e={},t=r(n,["videoMetadata"]);t!=null&&l(e,["videoMetadata"],k_(t));const o=r(n,["thought"]);o!=null&&l(e,["thought"],o);const i=r(n,["inlineData"]);i!=null&&l(e,["inlineData"],A_(i));const s=r(n,["fileData"]);s!=null&&l(e,["fileData"],N_(s));const a=r(n,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);const u=r(n,["functionCall"]);u!=null&&l(e,["functionCall"],R_(u));const c=r(n,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);const d=r(n,["executableCode"]);d!=null&&l(e,["executableCode"],d);const f=r(n,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const p=r(n,["text"]);return p!=null&&l(e,["text"],p),e}function D_(n){const e={},t=r(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>P_(s))),l(e,["parts"],i)}const o=r(n,["role"]);return o!=null&&l(e,["role"],o),e}function L_(n){const e={},t=r(n,["citations"]);return t!=null&&l(e,["citations"],t),e}function U_(n){const e={},t=r(n,["retrievedUrl"]);t!=null&&l(e,["retrievedUrl"],t);const o=r(n,["urlRetrievalStatus"]);return o!=null&&l(e,["urlRetrievalStatus"],o),e}function F_(n){const e={},t=r(n,["urlMetadata"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>U_(i))),l(e,["urlMetadata"],o)}return e}function V_(n){const e={},t=r(n,["content"]);t!=null&&l(e,["content"],D_(t));const o=r(n,["citationMetadata"]);o!=null&&l(e,["citationMetadata"],L_(o));const i=r(n,["finishMessage"]);i!=null&&l(e,["finishMessage"],i);const s=r(n,["finishReason"]);s!=null&&l(e,["finishReason"],s);const a=r(n,["urlContextMetadata"]);a!=null&&l(e,["urlContextMetadata"],F_(a));const u=r(n,["avgLogprobs"]);u!=null&&l(e,["avgLogprobs"],u);const c=r(n,["groundingMetadata"]);c!=null&&l(e,["groundingMetadata"],c);const d=r(n,["index"]);d!=null&&l(e,["index"],d);const f=r(n,["logprobsResult"]);f!=null&&l(e,["logprobsResult"],f);const p=r(n,["safetyRatings"]);return p!=null&&l(e,["safetyRatings"],p),e}function Kc(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["candidates"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(f=>V_(f))),l(e,["candidates"],d)}const i=r(n,["createTime"]);i!=null&&l(e,["createTime"],i);const s=r(n,["modelVersion"]);s!=null&&l(e,["modelVersion"],s);const a=r(n,["promptFeedback"]);a!=null&&l(e,["promptFeedback"],a);const u=r(n,["responseId"]);u!=null&&l(e,["responseId"],u);const c=r(n,["usageMetadata"]);return c!=null&&l(e,["usageMetadata"],c),e}function G_(n){const e={},t=r(n,["truncated"]);t!=null&&l(e,["truncated"],t);const o=r(n,["token_count"]);return o!=null&&l(e,["tokenCount"],o),e}function B_(n){const e={},t=r(n,["values"]);t!=null&&l(e,["values"],t);const o=r(n,["statistics"]);return o!=null&&l(e,["statistics"],G_(o)),e}function $_(n){const e={},t=r(n,["billableCharacterCount"]);return t!=null&&l(e,["billableCharacterCount"],t),e}function q_(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["predictions[]","embeddings"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>B_(a))),l(e,["embeddings"],s)}const i=r(n,["metadata"]);return i!=null&&l(e,["metadata"],$_(i)),e}function rm(n){const e={},t=r(n,["gcsUri"]);t!=null&&l(e,["gcsUri"],t);const o=r(n,["bytesBase64Encoded"]);o!=null&&l(e,["imageBytes"],tt(o));const i=r(n,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function lm(n){const e={},t=r(n,["safetyAttributes","categories"]);t!=null&&l(e,["categories"],t);const o=r(n,["safetyAttributes","scores"]);o!=null&&l(e,["scores"],o);const i=r(n,["contentType"]);return i!=null&&l(e,["contentType"],i),e}function Cr(n){const e={},t=r(n,["_self"]);t!=null&&l(e,["image"],rm(t));const o=r(n,["raiFilteredReason"]);o!=null&&l(e,["raiFilteredReason"],o);const i=r(n,["_self"]);i!=null&&l(e,["safetyAttributes"],lm(i));const s=r(n,["prompt"]);return s!=null&&l(e,["enhancedPrompt"],s),e}function H_(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["predictions"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(a=>Cr(a))),l(e,["generatedImages"],s)}const i=r(n,["positivePromptSafetyAttributes"]);return i!=null&&l(e,["positivePromptSafetyAttributes"],lm(i)),e}function z_(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>Cr(s))),l(e,["generatedImages"],i)}return e}function J_(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["predictions"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>Cr(s))),l(e,["generatedImages"],i)}return e}function W_(n){const e={},t=r(n,["predictions"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>Cr(i))),l(e,["generatedImages"],o)}return e}function K_(n){const e={},t=r(n,["label"]);t!=null&&l(e,["label"],t);const o=r(n,["score"]);return o!=null&&l(e,["score"],o),e}function Y_(n){const e={},t=r(n,["_self"]);t!=null&&l(e,["mask"],rm(t));const o=r(n,["labels"]);if(o!=null){let i=o;Array.isArray(i)&&(i=i.map(s=>K_(s))),l(e,["labels"],i)}return e}function O_(n){const e={},t=r(n,["predictions"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>Y_(i))),l(e,["generatedMasks"],o)}return e}function Q_(n){const e={},t=r(n,["endpoint"]);t!=null&&l(e,["name"],t);const o=r(n,["deployedModelId"]);return o!=null&&l(e,["deployedModelId"],o),e}function b_(n){const e={},t=r(n,["labels","google-vertex-llm-tuning-base-model-id"]);t!=null&&l(e,["baseModel"],t);const o=r(n,["createTime"]);o!=null&&l(e,["createTime"],o);const i=r(n,["updateTime"]);return i!=null&&l(e,["updateTime"],i),e}function X_(n){const e={},t=r(n,["checkpointId"]);t!=null&&l(e,["checkpointId"],t);const o=r(n,["epoch"]);o!=null&&l(e,["epoch"],o);const i=r(n,["step"]);return i!=null&&l(e,["step"],i),e}function rs(n){const e={},t=r(n,["name"]);t!=null&&l(e,["name"],t);const o=r(n,["displayName"]);o!=null&&l(e,["displayName"],o);const i=r(n,["description"]);i!=null&&l(e,["description"],i);const s=r(n,["versionId"]);s!=null&&l(e,["version"],s);const a=r(n,["deployedModels"]);if(a!=null){let p=a;Array.isArray(p)&&(p=p.map(m=>Q_(m))),l(e,["endpoints"],p)}const u=r(n,["labels"]);u!=null&&l(e,["labels"],u);const c=r(n,["_self"]);c!=null&&l(e,["tunedModelInfo"],b_(c));const d=r(n,["defaultCheckpointId"]);d!=null&&l(e,["defaultCheckpointId"],d);const f=r(n,["checkpoints"]);if(f!=null){let p=f;Array.isArray(p)&&(p=p.map(m=>X_(m))),l(e,["checkpoints"],p)}return e}function Z_(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);const i=r(n,["_self"]);if(i!=null){let s=Bp(i);Array.isArray(s)&&(s=s.map(a=>rs(a))),l(e,["models"],s)}return e}function j_(n){const e={},t=r(n,["sdkHttpResponse"]);return t!=null&&l(e,["sdkHttpResponse"],t),e}function ew(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["totalTokens"]);return o!=null&&l(e,["totalTokens"],o),e}function nw(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["tokensInfo"]);return o!=null&&l(e,["tokensInfo"],o),e}function tw(n){const e={},t=r(n,["gcsUri"]);t!=null&&l(e,["uri"],t);const o=r(n,["bytesBase64Encoded"]);o!=null&&l(e,["videoBytes"],tt(o));const i=r(n,["mimeType"]);return i!=null&&l(e,["mimeType"],i),e}function ow(n){const e={},t=r(n,["_self"]);return t!=null&&l(e,["video"],tw(t)),e}function iw(n){const e={},t=r(n,["videos"]);if(t!=null){let s=t;Array.isArray(s)&&(s=s.map(a=>ow(a))),l(e,["generatedVideos"],s)}const o=r(n,["raiMediaFilteredCount"]);o!=null&&l(e,["raiMediaFilteredCount"],o);const i=r(n,["raiMediaFilteredReasons"]);return i!=null&&l(e,["raiMediaFilteredReasons"],i),e}function rw(n){const e={},t=r(n,["name"]);t!=null&&l(e,["name"],t);const o=r(n,["metadata"]);o!=null&&l(e,["metadata"],o);const i=r(n,["done"]);i!=null&&l(e,["done"],i);const s=r(n,["error"]);s!=null&&l(e,["error"],s);const a=r(n,["response"]);return a!=null&&l(e,["response"],iw(a)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lw="Content-Type",sw="X-Server-Timeout",aw="User-Agent",ls="x-goog-api-client",uw="1.19.0",cw=`google-genai-sdk/${uw}`,dw="v1beta1",fw="v1beta",Yc=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class pw{constructor(e){var t,o;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const i={};this.clientOptions.vertexai?(i.apiVersion=(t=this.clientOptions.apiVersion)!==null&&t!==void 0?t:dw,i.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(i.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:fw,i.baseUrl="https://generativelanguage.googleapis.com/"),i.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=i,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(i,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const o=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&o.push(e.apiVersion),o.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol=t.protocol=="http:"?"ws":"wss",t.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,t,o){const i=[this.getRequestUrlInternal(t)];return o&&i.push(this.getBaseResourcePath()),e!==""&&i.push(e),new URL(`${i.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,o);if(e.queryParams)for(const[a,u]of Object.entries(e.queryParams))i.searchParams.append(a,String(u));let s={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else s.body=e.body;return s=await this.includeExtraHttpOptionsToRequestInit(s,t,e.abortSignal),this.unaryApiCall(i,s,e.httpMethod)}patchHttpOptions(e,t){const o=JSON.parse(JSON.stringify(e));for(const[i,s]of Object.entries(t))typeof s=="object"?o[i]=Object.assign(Object.assign({},o[i]),s):s!==void 0&&(o[i]=s);return o}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const o=this.shouldPrependVertexProjectPath(e),i=this.constructUrl(e.path,t,o);(!i.searchParams.has("alt")||i.searchParams.get("alt")!=="sse")&&i.searchParams.set("alt","sse");let s={};return s.body=e.body,s=await this.includeExtraHttpOptionsToRequestInit(s,t,e.abortSignal),this.streamApiCall(i,s,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,o){if(t&&t.timeout||o){const i=new AbortController,s=i.signal;if(t.timeout&&(t==null?void 0:t.timeout)>0){const a=setTimeout(()=>i.abort(),t.timeout);a&&typeof a.unref=="function"&&a.unref()}o&&o.addEventListener("abort",()=>{i.abort()}),e.signal=s}return t&&t.extraBody!==null&&mw(e,t.extraBody),e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async i=>(await Oc(i),new jl(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}async streamApiCall(e,t,o){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:o})).then(async i=>(await Oc(i),this.processStreamResponse(i))).catch(i=>{throw i instanceof Error?i:new Error(JSON.stringify(i))})}processStreamResponse(e){var t;return Mt(this,arguments,function*(){const i=(t=e==null?void 0:e.body)===null||t===void 0?void 0:t.getReader(),s=new TextDecoder("utf-8");if(!i)throw new Error("Response body is empty");try{let a="";for(;;){const{done:u,value:c}=yield Y(i.read());if(u){if(a.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const d=s.decode(c,{stream:!0});try{const p=JSON.parse(d);if("error"in p){const m=JSON.parse(JSON.stringify(p.error)),y=m.status,T=m.code,x=`got status: ${y}. ${JSON.stringify(p)}`;if(T>=400&&T<600)throw new yr({message:x,status:T})}}catch(p){if(p.name==="ApiError")throw p}a+=d;let f=a.match(Yc);for(;f;){const p=f[1];try{const m=new Response(p,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Y(new jl(m)),a=a.slice(f[0].length),f=a.match(Yc)}catch(m){throw new Error(`exception parsing stream chunk ${p}. ${m}`)}}}}finally{i.releaseLock()}})}async apiCall(e,t){return fetch(e,t).catch(o=>{throw new Error(`exception ${o} sending request`)})}getDefaultHeaders(){const e={},t=cw+" "+this.clientOptions.userAgentExtra;return e[aw]=t,e[ls]=t,e[lw]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[o,i]of Object.entries(e.headers))t.append(o,i);e.timeout&&e.timeout>0&&t.append(sw,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var o;const i={};t!=null&&(i.mimeType=t.mimeType,i.name=t.name,i.displayName=t.displayName),i.name&&!i.name.startsWith("files/")&&(i.name=`files/${i.name}`);const s=this.clientOptions.uploader,a=await s.stat(e);i.sizeBytes=String(a.size);const u=(o=t==null?void 0:t.mimeType)!==null&&o!==void 0?o:a.type;if(u===void 0||u==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");i.mimeType=u;const c=await this.fetchUploadUrl(i,t);return s.upload(e,c,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,t){var o;let i={};t!=null&&t.httpOptions?i=t.httpOptions:i={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const s={file:e},a=await this.request({path:L("upload/v1beta/files",s._url),body:JSON.stringify(s),httpMethod:"POST",httpOptions:i});if(!a||!(a!=null&&a.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const u=(o=a==null?void 0:a.headers)===null||o===void 0?void 0:o["x-goog-upload-url"];if(u===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return u}}async function Oc(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const t=n.status;let o;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?o=await n.json():o={error:{message:await n.text(),code:n.status,status:n.statusText}};const i=JSON.stringify(o);throw t>=400&&t<600?new yr({message:i,status:t}):new Error(i)}}function mw(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let t={};if(typeof n.body=="string"&&n.body.length>0)try{const s=JSON.parse(n.body);if(typeof s=="object"&&s!==null&&!Array.isArray(s))t=s;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function o(s,a){const u=Object.assign({},s);for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const d=a[c],f=u[c];d&&typeof d=="object"&&!Array.isArray(d)&&f&&typeof f=="object"&&!Array.isArray(f)?u[c]=o(f,d):(f&&d&&typeof f!=typeof d&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${c}". Original type: ${typeof f}, New type: ${typeof d}. Overwriting.`),u[c]=d)}return u}const i=o(t,e);n.body=JSON.stringify(i)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const hw="mcp_used/unknown";let gw=!1;function sm(n){for(const e of n)if(yw(e)||typeof e=="object"&&"inputSchema"in e)return!0;return gw}function am(n){var e;const t=(e=n[ls])!==null&&e!==void 0?e:"";n[ls]=(t+` ${hw}`).trimStart()}function yw(n){return n!==null&&typeof n=="object"&&n instanceof da}function vw(n,e=100){return Mt(this,arguments,function*(){let o,i=0;for(;i<e;){const s=yield Y(n.listTools({cursor:o}));for(const a of s.tools)yield yield Y(a),i++;if(!s.nextCursor)break;o=s.nextCursor}})}class da{constructor(e=[],t){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new da(e,t)}async initialize(){var e,t,o,i;if(this.mcpTools.length>0)return;const s={},a=[];for(const f of this.mcpClients)try{for(var u=!0,c=(t=void 0,mo(vw(f))),d;d=await c.next(),e=d.done,!e;u=!0){i=d.value,u=!1;const p=i;a.push(p);const m=p.name;if(s[m])throw new Error(`Duplicate function name ${m} found in MCP tools. Please ensure function names are unique.`);s[m]=f}}catch(p){t={error:p}}finally{try{!u&&!e&&(o=c.return)&&await o.call(c)}finally{if(t)throw t.error}}this.mcpTools=a,this.functionNameToMcpClient=s}async tool(){return await this.initialize(),Dv(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const o of e)if(o.name in this.functionNameToMcpClient){const i=this.functionNameToMcpClient[o.name];let s;this.config.timeout&&(s={timeout:this.config.timeout});const a=await i.callTool({name:o.name,arguments:o.args},void 0,s);t.push({functionResponse:{name:o.name,response:a.isError?{error:a}:a}})}return t}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function Cw(n,e,t){const o=new wv;let i;t.data instanceof Blob?i=JSON.parse(await t.data.text()):i=JSON.parse(t.data);const s=Qx(i);Object.assign(o,s),e(o)}class Tw{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o}async connect(e){var t,o;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const i=this.apiClient.getWebsocketBaseUrl(),s=this.apiClient.getApiVersion(),a=Ew(this.apiClient.getDefaultHeaders()),u=this.apiClient.getApiKey(),c=`${i}/ws/google.ai.generativelanguage.${s}.GenerativeService.BidiGenerateMusic?key=${u}`;let d=()=>{};const f=new Promise(C=>{d=C}),p=e.callbacks,m=function(){d({})},y=this.apiClient,T={onopen:m,onmessage:C=>{Cw(y,p.onmessage,C)},onerror:(t=p==null?void 0:p.onerror)!==null&&t!==void 0?t:function(C){},onclose:(o=p==null?void 0:p.onclose)!==null&&o!==void 0?o:function(C){}},x=this.webSocketFactory.create(c,Sw(a),T);x.connect(),await f;const _=$(this.apiClient,e.model),v=bp({model:_}),g=os({setup:v});return x.send(JSON.stringify(g)),new xw(x,this.apiClient)}}class xw{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=KT(e),o=Xp(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=YT(e),o=os(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(e){const t=os({playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(vt.PLAY)}pause(){this.sendPlaybackControl(vt.PAUSE)}stop(){this.sendPlaybackControl(vt.STOP)}resetContext(){this.sendPlaybackControl(vt.RESET_CONTEXT)}close(){this.conn.close()}}function Sw(n){const e={};return n.forEach((t,o)=>{e[o]=t}),e}function Ew(n){const e=new Headers;for(const[t,o]of Object.entries(n))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _w="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function ww(n,e,t){const o=new _v;let i;t.data instanceof Blob?i=await t.data.text():t.data instanceof ArrayBuffer?i=new TextDecoder().decode(t.data):i=t.data;const s=JSON.parse(i);if(n.isVertexAI()){const a=aS(s);Object.assign(o,a)}else{const a=$x(s);Object.assign(o,a)}e(o)}class Mw{constructor(e,t,o){this.apiClient=e,this.auth=t,this.webSocketFactory=o,this.music=new Tw(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,o,i,s,a,u;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const c=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion();let f;const p=this.apiClient.getHeaders();e.config&&e.config.tools&&sm(e.config.tools)&&am(p);const m=Nw(p);if(this.apiClient.isVertexAI())f=`${c}/ws/google.cloud.aiplatform.${d}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(m);else{const k=this.apiClient.getApiKey();let I="BidiGenerateContent",P="key";k!=null&&k.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),d!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),I="BidiGenerateContentConstrained",P="access_token"),f=`${c}/ws/google.ai.generativelanguage.${d}.GenerativeService.${I}?${P}=${k}`}let y=()=>{};const T=new Promise(k=>{y=k}),x=e.callbacks,_=function(){var k;(k=x==null?void 0:x.onopen)===null||k===void 0||k.call(x),y({})},v=this.apiClient,g={onopen:_,onmessage:k=>{ww(v,x.onmessage,k)},onerror:(t=x==null?void 0:x.onerror)!==null&&t!==void 0?t:function(k){},onclose:(o=x==null?void 0:x.onclose)!==null&&o!==void 0?o:function(k){}},C=this.webSocketFactory.create(f,Aw(m),g);C.connect(),await T;let S=$(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&S.startsWith("publishers/")){const k=this.apiClient.getProject(),I=this.apiClient.getLocation();S=`projects/${k}/locations/${I}/`+S}let w={};this.apiClient.isVertexAI()&&((i=e.config)===null||i===void 0?void 0:i.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[Oi.AUDIO]}:e.config.responseModalities=[Oi.AUDIO]),!((s=e.config)===null||s===void 0)&&s.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const E=(u=(a=e.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[],M=[];for(const k of E)if(this.isCallableTool(k)){const I=k;M.push(await I.tool())}else M.push(k);M.length>0&&(e.config.tools=M);const R={model:S,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?w=Sx(this.apiClient,R):w=HT(this.apiClient,R),delete w.config,C.send(JSON.stringify(w)),new kw(C,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const Iw={turnComplete:!0};class kw{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(t.turns!==null&&t.turns!==void 0){let o=[];try{o=Fe(t.turns),e.isVertexAI()?o=o.map(i=>Ht(i)):o=o.map(i=>vr(i))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:o,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let o=[];if(t.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(t.functionResponses)?o=t.functionResponses:o=[t.functionResponses],o.length===0)throw new Error("functionResponses is required.");for(const s of o){if(typeof s!="object"||s===null||!("name"in s)||!("response"in s))throw new Error(`Could not parse function response, type '${typeof s}'.`);if(!e.isVertexAI()&&!("id"in s))throw new Error(_w)}return{toolResponse:{functionResponses:o}}}sendClientContent(e){e=Object.assign(Object.assign({},Iw),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};this.apiClient.isVertexAI()?t={realtimeInput:wx(e)}:t={realtimeInput:WT(e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function Aw(n){const e={};return n.forEach((t,o)=>{e[o]=t}),e}function Nw(n){const e=new Headers;for(const[t,o]of Object.entries(n))e.append(t,o);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Qc=10;function bc(n){var e,t,o;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let i=!1;for(const a of(t=n==null?void 0:n.tools)!==null&&t!==void 0?t:[])if(It(a)){i=!0;break}if(!i)return!0;const s=(o=n==null?void 0:n.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls;return s&&(s<0||!Number.isInteger(s))||s==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",s),!0):!1}function It(n){return"callTool"in n&&typeof n.callTool=="function"}function Rw(n){var e,t,o;return(o=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>It(i)))!==null&&o!==void 0?o:!1}function Pw(n){var e,t,o;return(o=(t=(e=n.config)===null||e===void 0?void 0:e.tools)===null||t===void 0?void 0:t.some(i=>!It(i)))!==null&&o!==void 0?o:!1}function Xc(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Dw extends nt{constructor(e){super(),this.apiClient=e,this.generateContent=async t=>{var o,i,s,a,u;const c=await this.processParamsMaybeAddMcpUsage(t);if(this.maybeMoveToResponseJsonSchem(t),!Rw(t)||bc(t.config))return await this.generateContentInternal(c);if(Pw(t))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let d,f;const p=Fe(c.contents),m=(s=(i=(o=c.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||i===void 0?void 0:i.maximumRemoteCalls)!==null&&s!==void 0?s:Qc;let y=0;for(;y<m&&(d=await this.generateContentInternal(c),!(!d.functionCalls||d.functionCalls.length===0));){const T=d.candidates[0].content,x=[];for(const _ of(u=(a=t.config)===null||a===void 0?void 0:a.tools)!==null&&u!==void 0?u:[])if(It(_)){const g=await _.callTool(d.functionCalls);x.push(...g)}y++,f={role:"user",parts:x},c.contents=Fe(c.contents),c.contents.push(T),c.contents.push(f),Xc(c.config)&&(p.push(T),p.push(f))}return Xc(c.config)&&(d.automaticFunctionCallingHistory=p),d},this.generateContentStream=async t=>{if(this.maybeMoveToResponseJsonSchem(t),bc(t.config)){const o=await this.processParamsMaybeAddMcpUsage(t);return await this.generateContentStreamInternal(o)}else return await this.processAfcStream(t)},this.generateImages=async t=>await this.generateImagesInternal(t).then(o=>{var i;let s;const a=[];if(o!=null&&o.generatedImages)for(const c of o.generatedImages)c&&(c!=null&&c.safetyAttributes)&&((i=c==null?void 0:c.safetyAttributes)===null||i===void 0?void 0:i.contentType)==="Positive Prompt"?s=c==null?void 0:c.safetyAttributes:a.push(c);let u;return s?u={generatedImages:a,positivePromptSafetyAttributes:s,sdkHttpResponse:o.sdkHttpResponse}:u={generatedImages:a,sdkHttpResponse:o.sdkHttpResponse},u}),this.list=async t=>{var o;const a={config:Object.assign(Object.assign({},{queryBase:!0}),t==null?void 0:t.config)};if(this.apiClient.isVertexAI()&&!a.config.queryBase){if(!((o=a.config)===null||o===void 0)&&o.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");a.config.filter="labels.tune-type:*"}return new $o(Xn.PAGED_ITEM_MODELS,u=>this.listInternal(u),await this.listInternal(a),a)},this.editImage=async t=>{const o={model:t.model,prompt:t.prompt,referenceImages:[],config:t.config};return t.referenceImages&&t.referenceImages&&(o.referenceImages=t.referenceImages.map(i=>i.toReferenceImageAPI())),await this.editImageInternal(o)},this.upscaleImage=async t=>{let o={numberOfImages:1,mode:"upscale"};t.config&&(o=Object.assign(Object.assign({},o),t.config));const i={model:t.model,image:t.image,upscaleFactor:t.upscaleFactor,config:o};return await this.upscaleImageInternal(i)},this.generateVideos=async t=>{if((t.prompt||t.image||t.video)&&t.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(t)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var t,o,i;const s=(t=e.config)===null||t===void 0?void 0:t.tools;if(!s)return e;const a=await Promise.all(s.map(async c=>It(c)?await c.tool():c)),u={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:a})};if(u.config.tools=a,e.config&&e.config.tools&&sm(e.config.tools)){const c=(i=(o=e.config.httpOptions)===null||o===void 0?void 0:o.headers)!==null&&i!==void 0?i:{};let d=Object.assign({},c);Object.keys(d).length===0&&(d=this.apiClient.getDefaultHeaders()),am(d),u.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:d})}return u}async initAfcToolsMap(e){var t,o,i;const s=new Map;for(const a of(o=(t=e.config)===null||t===void 0?void 0:t.tools)!==null&&o!==void 0?o:[])if(It(a)){const u=a,c=await u.tool();for(const d of(i=c.functionDeclarations)!==null&&i!==void 0?i:[]){if(!d.name)throw new Error("Function declaration name is required.");if(s.has(d.name))throw new Error(`Duplicate tool declaration name: ${d.name}`);s.set(d.name,u)}}return s}async processAfcStream(e){var t,o,i;const s=(i=(o=(t=e.config)===null||t===void 0?void 0:t.automaticFunctionCalling)===null||o===void 0?void 0:o.maximumRemoteCalls)!==null&&i!==void 0?i:Qc;let a=!1,u=0;const c=await this.initAfcToolsMap(e);return function(d,f,p){var m,y;return Mt(this,arguments,function*(){for(var T,x,_,v;u<s;){a&&(u++,a=!1);const w=yield Y(d.processParamsMaybeAddMcpUsage(p)),E=yield Y(d.generateContentStreamInternal(w)),M=[],R=[];try{for(var g=!0,C=(x=void 0,mo(E)),S;S=yield Y(C.next()),T=S.done,!T;g=!0){v=S.value,g=!1;const k=v;if(yield yield Y(k),k.candidates&&(!((m=k.candidates[0])===null||m===void 0)&&m.content)){R.push(k.candidates[0].content);for(const I of(y=k.candidates[0].content.parts)!==null&&y!==void 0?y:[])if(u<s&&I.functionCall){if(!I.functionCall.name)throw new Error("Function call name was not returned by the model.");if(f.has(I.functionCall.name)){const P=yield Y(f.get(I.functionCall.name).callTool([I.functionCall]));M.push(...P)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${f.keys()}, mising tool: ${I.functionCall.name}`)}}}}catch(k){x={error:k}}finally{try{!g&&!T&&(_=C.return)&&(yield Y(_.call(C)))}finally{if(x)throw x.error}}if(M.length>0){a=!0;const k=new Zt;k.candidates=[{content:{role:"user",parts:M}}],yield yield Y(k);const I=[];I.push(...R),I.push({role:"user",parts:M});const P=Fe(p.contents).concat(I);p.contents=P}else break}})}(this,c,e)}async generateContentInternal(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Jc(this.apiClient,e);return u=L("{model}:generateContent",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=Kc(f),m=new Zt;return Object.assign(m,p),m})}else{const d=zc(this.apiClient,e);return u=L("{model}:generateContent",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=Wc(f),m=new Zt;return Object.assign(m,p),m})}}async generateContentStreamInternal(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=Jc(this.apiClient,e);return u=L("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}),a.then(function(p){return Mt(this,arguments,function*(){var m,y,T,x;try{for(var _=!0,v=mo(p),g;g=yield Y(v.next()),m=g.done,!m;_=!0){x=g.value,_=!1;const C=x,S=Kc(yield Y(C.json()));S.sdkHttpResponse={headers:C.headers};const w=new Zt;Object.assign(w,S),yield yield Y(w)}}catch(C){y={error:C}}finally{try{!_&&!m&&(T=v.return)&&(yield Y(T.call(v)))}finally{if(y)throw y.error}}})})}else{const d=zc(this.apiClient,e);return u=L("{model}:streamGenerateContent?alt=sse",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.requestStream({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}),a.then(function(p){return Mt(this,arguments,function*(){var m,y,T,x;try{for(var _=!0,v=mo(p),g;g=yield Y(v.next()),m=g.done,!m;_=!0){x=g.value,_=!1;const C=x,S=Wc(yield Y(C.json()));S.sdkHttpResponse={headers:C.headers};const w=new Zt;Object.assign(w,S),yield yield Y(w)}}catch(C){y={error:C}}finally{try{!_&&!m&&(T=v.return)&&(yield Y(T.call(v)))}finally{if(y)throw y.error}}})})}}async embedContent(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=_E(this.apiClient,e);return u=L("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=q_(f),m=new Ec;return Object.assign(m,p),m})}else{const d=US(this.apiClient,e);return u=L("{model}:batchEmbedContents",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=g_(f),m=new Ec;return Object.assign(m,p),m})}}async generateImagesInternal(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=ME(this.apiClient,e);return u=L("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=H_(f),m=new _c;return Object.assign(m,p),m})}else{const d=VS(this.apiClient,e);return u=L("{model}:predict",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=C_(f),m=new _c;return Object.assign(m,p),m})}}async editImageInternal(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const u=DE(this.apiClient,e);return s=L("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=z_(c),f=new gv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const u=UE(this.apiClient,e);return s=L("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=J_(c),f=new yv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const u=BE(this.apiClient,e);return s=L("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=W_(c),f=new vv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const u=zE(this.apiClient,e);return s=L("{model}:predict",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i.then(c=>{const d=O_(c),f=new Cv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=JE(this.apiClient,e);return u=L("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>rs(f))}else{const d=GS(this.apiClient,e);return u=L("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),a.then(f=>is(f))}}async listInternal(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=KE(this.apiClient,e);return u=L("{models_url}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=Z_(f),m=new wc;return Object.assign(m,p),m})}else{const d=$S(this.apiClient,e);return u=L("{models_url}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=x_(f),m=new wc;return Object.assign(m,p),m})}}async update(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=OE(this.apiClient,e);return u=L("{model}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>rs(f))}else{const d=HS(this.apiClient,e);return u=L("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"PATCH",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),a.then(f=>is(f))}}async delete(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=QE(this.apiClient,e);return u=L("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=j_(f),m=new Mc;return Object.assign(m,p),m})}else{const d=zS(this.apiClient,e);return u=L("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=S_(f),m=new Mc;return Object.assign(m,p),m})}}async countTokens(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=XE(this.apiClient,e);return u=L("{model}:countTokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=ew(f),m=new Ic;return Object.assign(m,p),m})}else{const d=WS(this.apiClient,e);return u=L("{model}:countTokens",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=E_(f),m=new Ic;return Object.assign(m,p),m})}}async computeTokens(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const u=ZE(this.apiClient,e);return s=L("{model}:computeTokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>{const d=nw(c),f=new Tv;return Object.assign(f,d),f})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=o_(this.apiClient,e);return u=L("{model}:predictLongRunning",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a.then(f=>{const p=rw(f),m=new Qi;return Object.assign(m,p),m})}else{const d=OS(this.apiClient,e);return u=L("{model}:predictLongRunning",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),a.then(f=>{const p=I_(f),m=new Qi;return Object.assign(m,p),m})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Lw extends nt{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;o&&"httpOptions"in o&&(s=o.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:o});return t._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async get(e){const t=e.operation,o=e.config;if(t.name===void 0||t.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const i=t.name.split("/operations/")[0];let s;o&&"httpOptions"in o&&(s=o.httpOptions);const a=await this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:i,config:{httpOptions:s}});return t._fromAPIResponse({apiResponse:a,isVertexAI:!0})}else{const i=await this.getVideosOperationInternal({operationName:t.name,config:o});return t._fromAPIResponse({apiResponse:i,isVertexAI:!1})}}async getVideosOperationInternal(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=sv(e);return u=L("{operationName}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json()),a}else{const d=rv(e);return u=L("{operationName}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json()),a}}async fetchPredictVideosOperationInternal(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const u=lv(e);return s=L("{resourceName}:fetchPredictOperation",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json()),i}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Uw(n){const e={},t=r(n,["voiceName"]);return t!=null&&l(e,["voiceName"],t),e}function um(n){const e={},t=r(n,["prebuiltVoiceConfig"]);return t!=null&&l(e,["prebuiltVoiceConfig"],Uw(t)),e}function Fw(n){const e={},t=r(n,["speaker"]);t!=null&&l(e,["speaker"],t);const o=r(n,["voiceConfig"]);return o!=null&&l(e,["voiceConfig"],um(o)),e}function Vw(n){const e={},t=r(n,["speakerVoiceConfigs"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>Fw(i))),l(e,["speakerVoiceConfigs"],o)}return e}function Gw(n){const e={},t=r(n,["voiceConfig"]);t!=null&&l(e,["voiceConfig"],um(t));const o=r(n,["multiSpeakerVoiceConfig"]);o!=null&&l(e,["multiSpeakerVoiceConfig"],Vw(o));const i=r(n,["languageCode"]);return i!=null&&l(e,["languageCode"],i),e}function Bw(n){const e={},t=r(n,["fps"]);t!=null&&l(e,["fps"],t);const o=r(n,["endOffset"]);o!=null&&l(e,["endOffset"],o);const i=r(n,["startOffset"]);return i!=null&&l(e,["startOffset"],i),e}function $w(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=r(n,["data"]);t!=null&&l(e,["data"],t);const o=r(n,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function qw(n){const e={};if(r(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const t=r(n,["fileUri"]);t!=null&&l(e,["fileUri"],t);const o=r(n,["mimeType"]);return o!=null&&l(e,["mimeType"],o),e}function Hw(n){const e={},t=r(n,["id"]);t!=null&&l(e,["id"],t);const o=r(n,["args"]);o!=null&&l(e,["args"],o);const i=r(n,["name"]);return i!=null&&l(e,["name"],i),e}function zw(n){const e={},t=r(n,["videoMetadata"]);t!=null&&l(e,["videoMetadata"],Bw(t));const o=r(n,["thought"]);o!=null&&l(e,["thought"],o);const i=r(n,["inlineData"]);i!=null&&l(e,["inlineData"],$w(i));const s=r(n,["fileData"]);s!=null&&l(e,["fileData"],qw(s));const a=r(n,["thoughtSignature"]);a!=null&&l(e,["thoughtSignature"],a);const u=r(n,["functionCall"]);u!=null&&l(e,["functionCall"],Hw(u));const c=r(n,["codeExecutionResult"]);c!=null&&l(e,["codeExecutionResult"],c);const d=r(n,["executableCode"]);d!=null&&l(e,["executableCode"],d);const f=r(n,["functionResponse"]);f!=null&&l(e,["functionResponse"],f);const p=r(n,["text"]);return p!=null&&l(e,["text"],p),e}function Jw(n){const e={},t=r(n,["parts"]);if(t!=null){let i=t;Array.isArray(i)&&(i=i.map(s=>zw(s))),l(e,["parts"],i)}const o=r(n,["role"]);return o!=null&&l(e,["role"],o),e}function Ww(n){const e={},t=r(n,["behavior"]);t!=null&&l(e,["behavior"],t);const o=r(n,["description"]);o!=null&&l(e,["description"],o);const i=r(n,["name"]);i!=null&&l(e,["name"],i);const s=r(n,["parameters"]);s!=null&&l(e,["parameters"],s);const a=r(n,["parametersJsonSchema"]);a!=null&&l(e,["parametersJsonSchema"],a);const u=r(n,["response"]);u!=null&&l(e,["response"],u);const c=r(n,["responseJsonSchema"]);return c!=null&&l(e,["responseJsonSchema"],c),e}function Kw(n){const e={},t=r(n,["startTime"]);t!=null&&l(e,["startTime"],t);const o=r(n,["endTime"]);return o!=null&&l(e,["endTime"],o),e}function Yw(n){const e={},t=r(n,["timeRangeFilter"]);if(t!=null&&l(e,["timeRangeFilter"],Kw(t)),r(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Ow(n){const e={},t=r(n,["mode"]);t!=null&&l(e,["mode"],t);const o=r(n,["dynamicThreshold"]);return o!=null&&l(e,["dynamicThreshold"],o),e}function Qw(n){const e={},t=r(n,["dynamicRetrievalConfig"]);return t!=null&&l(e,["dynamicRetrievalConfig"],Ow(t)),e}function bw(){return{}}function Xw(n){const e={},t=r(n,["environment"]);return t!=null&&l(e,["environment"],t),e}function Zw(n){const e={},t=r(n,["functionDeclarations"]);if(t!=null){let c=t;Array.isArray(c)&&(c=c.map(d=>Ww(d))),l(e,["functionDeclarations"],c)}if(r(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=r(n,["googleSearch"]);o!=null&&l(e,["googleSearch"],Yw(o));const i=r(n,["googleSearchRetrieval"]);if(i!=null&&l(e,["googleSearchRetrieval"],Qw(i)),r(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(r(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");r(n,["urlContext"])!=null&&l(e,["urlContext"],bw());const a=r(n,["computerUse"]);a!=null&&l(e,["computerUse"],Xw(a));const u=r(n,["codeExecution"]);return u!=null&&l(e,["codeExecution"],u),e}function jw(n){const e={},t=r(n,["handle"]);if(t!=null&&l(e,["handle"],t),r(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Zc(){return{}}function e1(n){const e={},t=r(n,["disabled"]);t!=null&&l(e,["disabled"],t);const o=r(n,["startOfSpeechSensitivity"]);o!=null&&l(e,["startOfSpeechSensitivity"],o);const i=r(n,["endOfSpeechSensitivity"]);i!=null&&l(e,["endOfSpeechSensitivity"],i);const s=r(n,["prefixPaddingMs"]);s!=null&&l(e,["prefixPaddingMs"],s);const a=r(n,["silenceDurationMs"]);return a!=null&&l(e,["silenceDurationMs"],a),e}function n1(n){const e={},t=r(n,["automaticActivityDetection"]);t!=null&&l(e,["automaticActivityDetection"],e1(t));const o=r(n,["activityHandling"]);o!=null&&l(e,["activityHandling"],o);const i=r(n,["turnCoverage"]);return i!=null&&l(e,["turnCoverage"],i),e}function t1(n){const e={},t=r(n,["targetTokens"]);return t!=null&&l(e,["targetTokens"],t),e}function o1(n){const e={},t=r(n,["triggerTokens"]);t!=null&&l(e,["triggerTokens"],t);const o=r(n,["slidingWindow"]);return o!=null&&l(e,["slidingWindow"],t1(o)),e}function i1(n){const e={},t=r(n,["proactiveAudio"]);return t!=null&&l(e,["proactiveAudio"],t),e}function r1(n,e){const t={},o=r(n,["generationConfig"]);e!==void 0&&o!=null&&l(e,["setup","generationConfig"],o);const i=r(n,["responseModalities"]);e!==void 0&&i!=null&&l(e,["setup","generationConfig","responseModalities"],i);const s=r(n,["temperature"]);e!==void 0&&s!=null&&l(e,["setup","generationConfig","temperature"],s);const a=r(n,["topP"]);e!==void 0&&a!=null&&l(e,["setup","generationConfig","topP"],a);const u=r(n,["topK"]);e!==void 0&&u!=null&&l(e,["setup","generationConfig","topK"],u);const c=r(n,["maxOutputTokens"]);e!==void 0&&c!=null&&l(e,["setup","generationConfig","maxOutputTokens"],c);const d=r(n,["mediaResolution"]);e!==void 0&&d!=null&&l(e,["setup","generationConfig","mediaResolution"],d);const f=r(n,["seed"]);e!==void 0&&f!=null&&l(e,["setup","generationConfig","seed"],f);const p=r(n,["speechConfig"]);e!==void 0&&p!=null&&l(e,["setup","generationConfig","speechConfig"],Gw(ua(p)));const m=r(n,["enableAffectiveDialog"]);e!==void 0&&m!=null&&l(e,["setup","generationConfig","enableAffectiveDialog"],m);const y=r(n,["systemInstruction"]);e!==void 0&&y!=null&&l(e,["setup","systemInstruction"],Jw(he(y)));const T=r(n,["tools"]);if(e!==void 0&&T!=null){let w=$t(T);Array.isArray(w)&&(w=w.map(E=>Zw(Bt(E)))),l(e,["setup","tools"],w)}const x=r(n,["sessionResumption"]);e!==void 0&&x!=null&&l(e,["setup","sessionResumption"],jw(x));const _=r(n,["inputAudioTranscription"]);e!==void 0&&_!=null&&l(e,["setup","inputAudioTranscription"],Zc());const v=r(n,["outputAudioTranscription"]);e!==void 0&&v!=null&&l(e,["setup","outputAudioTranscription"],Zc());const g=r(n,["realtimeInputConfig"]);e!==void 0&&g!=null&&l(e,["setup","realtimeInputConfig"],n1(g));const C=r(n,["contextWindowCompression"]);e!==void 0&&C!=null&&l(e,["setup","contextWindowCompression"],o1(C));const S=r(n,["proactivity"]);return e!==void 0&&S!=null&&l(e,["setup","proactivity"],i1(S)),t}function l1(n,e){const t={},o=r(e,["model"]);o!=null&&l(t,["setup","model"],$(n,o));const i=r(e,["config"]);return i!=null&&l(t,["config"],r1(i,t)),t}function s1(n,e,t){const o={},i=r(e,["expireTime"]);t!==void 0&&i!=null&&l(t,["expireTime"],i);const s=r(e,["newSessionExpireTime"]);t!==void 0&&s!=null&&l(t,["newSessionExpireTime"],s);const a=r(e,["uses"]);t!==void 0&&a!=null&&l(t,["uses"],a);const u=r(e,["liveConnectConstraints"]);t!==void 0&&u!=null&&l(t,["bidiGenerateContentSetup"],l1(n,u));const c=r(e,["lockAdditionalFields"]);return t!==void 0&&c!=null&&l(t,["fieldMask"],c),o}function a1(n,e){const t={},o=r(e,["config"]);return o!=null&&l(t,["config"],s1(n,o,t)),t}function u1(n){const e={},t=r(n,["name"]);return t!=null&&l(e,["name"],t),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function c1(n){const e=[];for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t)){const o=n[t];if(typeof o=="object"&&o!=null&&Object.keys(o).length>0){const i=Object.keys(o).map(s=>`${t}.${s}`);e.push(...i)}else e.push(t)}return e.join(",")}function d1(n,e){let t=null;const o=n.bidiGenerateContentSetup;if(typeof o=="object"&&o!==null&&"setup"in o){const s=o.setup;typeof s=="object"&&s!==null?(n.bidiGenerateContentSetup=s,t=s):delete n.bidiGenerateContentSetup}else o!==void 0&&delete n.bidiGenerateContentSetup;const i=n.fieldMask;if(t){const s=c1(t);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)s?n.fieldMask=s:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&i!==null&&Array.isArray(i)&&i.length>0){const a=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let u=[];i.length>0&&(u=i.map(d=>a.includes(d)?`generationConfig.${d}`:d));const c=[];s&&c.push(s),u.length>0&&c.push(...u),c.length>0?n.fieldMask=c.join(","):delete n.fieldMask}else delete n.fieldMask}else i!==null&&Array.isArray(i)&&i.length>0?n.fieldMask=i.join(","):delete n.fieldMask;return n}class f1 extends nt{constructor(e){super(),this.apiClient=e}async create(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const u=a1(this.apiClient,e);s=L("auth_tokens",u._url),a=u._query,delete u.config,delete u._url,delete u._query;const c=d1(u,e.config);return i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(d=>d.json()),i.then(d=>u1(d))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p1(n){const e={},t=r(n,["name"]);t!=null&&l(e,["_url","name"],t);const o=r(n,["config"]);return o!=null&&l(e,["config"],o),e}function m1(n,e){const t={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);const i=r(n,["pageToken"]);e!==void 0&&i!=null&&l(e,["_query","pageToken"],i);const s=r(n,["filter"]);return e!==void 0&&s!=null&&l(e,["_query","filter"],s),t}function h1(n){const e={},t=r(n,["config"]);return t!=null&&l(e,["config"],m1(t,e)),e}function g1(n){const e={},t=r(n,["name"]);t!=null&&l(e,["_url","name"],t);const o=r(n,["config"]);return o!=null&&l(e,["config"],o),e}function y1(n){const e={},t=r(n,["textInput"]);t!=null&&l(e,["textInput"],t);const o=r(n,["output"]);return o!=null&&l(e,["output"],o),e}function v1(n){const e={};if(r(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(r(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const t=r(n,["examples"]);if(t!=null){let o=t;Array.isArray(o)&&(o=o.map(i=>y1(i))),l(e,["examples","examples"],o)}return e}function C1(n,e){const t={};if(r(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const o=r(n,["tunedModelDisplayName"]);if(e!==void 0&&o!=null&&l(e,["displayName"],o),r(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const i=r(n,["epochCount"]);e!==void 0&&i!=null&&l(e,["tuningTask","hyperparameters","epochCount"],i);const s=r(n,["learningRateMultiplier"]);if(s!=null&&l(t,["tuningTask","hyperparameters","learningRateMultiplier"],s),r(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(r(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(r(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const a=r(n,["batchSize"]);e!==void 0&&a!=null&&l(e,["tuningTask","hyperparameters","batchSize"],a);const u=r(n,["learningRate"]);if(e!==void 0&&u!=null&&l(e,["tuningTask","hyperparameters","learningRate"],u),r(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return t}function T1(n){const e={},t=r(n,["baseModel"]);t!=null&&l(e,["baseModel"],t);const o=r(n,["preTunedModel"]);o!=null&&l(e,["preTunedModel"],o);const i=r(n,["trainingDataset"]);i!=null&&l(e,["tuningTask","trainingData"],v1(i));const s=r(n,["config"]);return s!=null&&l(e,["config"],C1(s,e)),e}function x1(n){const e={},t=r(n,["name"]);t!=null&&l(e,["_url","name"],t);const o=r(n,["config"]);return o!=null&&l(e,["config"],o),e}function S1(n,e){const t={},o=r(n,["pageSize"]);e!==void 0&&o!=null&&l(e,["_query","pageSize"],o);const i=r(n,["pageToken"]);e!==void 0&&i!=null&&l(e,["_query","pageToken"],i);const s=r(n,["filter"]);return e!==void 0&&s!=null&&l(e,["_query","filter"],s),t}function E1(n){const e={},t=r(n,["config"]);return t!=null&&l(e,["config"],S1(t,e)),e}function _1(n){const e={},t=r(n,["name"]);t!=null&&l(e,["_url","name"],t);const o=r(n,["config"]);return o!=null&&l(e,["config"],o),e}function w1(n,e){const t={},o=r(n,["gcsUri"]);e!==void 0&&o!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],o);const i=r(n,["vertexDatasetResource"]);if(e!==void 0&&i!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],i),r(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return t}function M1(n,e){const t={},o=r(n,["gcsUri"]);o!=null&&l(t,["validationDatasetUri"],o);const i=r(n,["vertexDatasetResource"]);return e!==void 0&&i!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],i),t}function I1(n,e){const t={},o=r(n,["validationDataset"]);e!==void 0&&o!=null&&l(e,["supervisedTuningSpec"],M1(o,t));const i=r(n,["tunedModelDisplayName"]);e!==void 0&&i!=null&&l(e,["tunedModelDisplayName"],i);const s=r(n,["description"]);e!==void 0&&s!=null&&l(e,["description"],s);const a=r(n,["epochCount"]);e!==void 0&&a!=null&&l(e,["supervisedTuningSpec","hyperParameters","epochCount"],a);const u=r(n,["learningRateMultiplier"]);e!==void 0&&u!=null&&l(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],u);const c=r(n,["exportLastCheckpointOnly"]);e!==void 0&&c!=null&&l(e,["supervisedTuningSpec","exportLastCheckpointOnly"],c);const d=r(n,["preTunedModelCheckpointId"]);d!=null&&l(t,["preTunedModel","checkpointId"],d);const f=r(n,["adapterSize"]);if(e!==void 0&&f!=null&&l(e,["supervisedTuningSpec","hyperParameters","adapterSize"],f),r(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(r(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const p=r(n,["labels"]);return e!==void 0&&p!=null&&l(e,["labels"],p),t}function k1(n){const e={},t=r(n,["baseModel"]);t!=null&&l(e,["baseModel"],t);const o=r(n,["preTunedModel"]);o!=null&&l(e,["preTunedModel"],o);const i=r(n,["trainingDataset"]);i!=null&&l(e,["supervisedTuningSpec","trainingDatasetUri"],w1(i,e));const s=r(n,["config"]);return s!=null&&l(e,["config"],I1(s,e)),e}function A1(n){const e={},t=r(n,["name"]);t!=null&&l(e,["model"],t);const o=r(n,["name"]);return o!=null&&l(e,["endpoint"],o),e}function cm(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["name"]);o!=null&&l(e,["name"],o);const i=r(n,["state"]);i!=null&&l(e,["state"],Fp(i));const s=r(n,["createTime"]);s!=null&&l(e,["createTime"],s);const a=r(n,["tuningTask","startTime"]);a!=null&&l(e,["startTime"],a);const u=r(n,["tuningTask","completeTime"]);u!=null&&l(e,["endTime"],u);const c=r(n,["updateTime"]);c!=null&&l(e,["updateTime"],c);const d=r(n,["description"]);d!=null&&l(e,["description"],d);const f=r(n,["baseModel"]);f!=null&&l(e,["baseModel"],f);const p=r(n,["_self"]);p!=null&&l(e,["tunedModel"],A1(p));const m=r(n,["customBaseModel"]);m!=null&&l(e,["customBaseModel"],m);const y=r(n,["experiment"]);y!=null&&l(e,["experiment"],y);const T=r(n,["labels"]);T!=null&&l(e,["labels"],T);const x=r(n,["outputUri"]);x!=null&&l(e,["outputUri"],x);const _=r(n,["pipelineJob"]);_!=null&&l(e,["pipelineJob"],_);const v=r(n,["serviceAccount"]);v!=null&&l(e,["serviceAccount"],v);const g=r(n,["tunedModelDisplayName"]);return g!=null&&l(e,["tunedModelDisplayName"],g),e}function N1(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);const i=r(n,["tunedModels"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>cm(a))),l(e,["tuningJobs"],s)}return e}function R1(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["name"]);o!=null&&l(e,["name"],o);const i=r(n,["metadata"]);i!=null&&l(e,["metadata"],i);const s=r(n,["done"]);s!=null&&l(e,["done"],s);const a=r(n,["error"]);return a!=null&&l(e,["error"],a),e}function P1(n){const e={},t=r(n,["checkpointId"]);t!=null&&l(e,["checkpointId"],t);const o=r(n,["epoch"]);o!=null&&l(e,["epoch"],o);const i=r(n,["step"]);i!=null&&l(e,["step"],i);const s=r(n,["endpoint"]);return s!=null&&l(e,["endpoint"],s),e}function D1(n){const e={},t=r(n,["model"]);t!=null&&l(e,["model"],t);const o=r(n,["endpoint"]);o!=null&&l(e,["endpoint"],o);const i=r(n,["checkpoints"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>P1(a))),l(e,["checkpoints"],s)}return e}function ss(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["name"]);o!=null&&l(e,["name"],o);const i=r(n,["state"]);i!=null&&l(e,["state"],Fp(i));const s=r(n,["createTime"]);s!=null&&l(e,["createTime"],s);const a=r(n,["startTime"]);a!=null&&l(e,["startTime"],a);const u=r(n,["endTime"]);u!=null&&l(e,["endTime"],u);const c=r(n,["updateTime"]);c!=null&&l(e,["updateTime"],c);const d=r(n,["error"]);d!=null&&l(e,["error"],d);const f=r(n,["description"]);f!=null&&l(e,["description"],f);const p=r(n,["baseModel"]);p!=null&&l(e,["baseModel"],p);const m=r(n,["tunedModel"]);m!=null&&l(e,["tunedModel"],D1(m));const y=r(n,["preTunedModel"]);y!=null&&l(e,["preTunedModel"],y);const T=r(n,["supervisedTuningSpec"]);T!=null&&l(e,["supervisedTuningSpec"],T);const x=r(n,["tuningDataStats"]);x!=null&&l(e,["tuningDataStats"],x);const _=r(n,["encryptionSpec"]);_!=null&&l(e,["encryptionSpec"],_);const v=r(n,["partnerModelTuningSpec"]);v!=null&&l(e,["partnerModelTuningSpec"],v);const g=r(n,["customBaseModel"]);g!=null&&l(e,["customBaseModel"],g);const C=r(n,["experiment"]);C!=null&&l(e,["experiment"],C);const S=r(n,["labels"]);S!=null&&l(e,["labels"],S);const w=r(n,["outputUri"]);w!=null&&l(e,["outputUri"],w);const E=r(n,["pipelineJob"]);E!=null&&l(e,["pipelineJob"],E);const M=r(n,["serviceAccount"]);M!=null&&l(e,["serviceAccount"],M);const R=r(n,["tunedModelDisplayName"]);return R!=null&&l(e,["tunedModelDisplayName"],R),e}function L1(n){const e={},t=r(n,["sdkHttpResponse"]);t!=null&&l(e,["sdkHttpResponse"],t);const o=r(n,["nextPageToken"]);o!=null&&l(e,["nextPageToken"],o);const i=r(n,["tuningJobs"]);if(i!=null){let s=i;Array.isArray(s)&&(s=s.map(a=>ss(a))),l(e,["tuningJobs"],s)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class U1 extends nt{constructor(e){super(),this.apiClient=e,this.get=async t=>await this.getInternal(t),this.list=async(t={})=>new $o(Xn.PAGED_ITEM_TUNING_JOBS,o=>this.listInternal(o),await this.listInternal(t),t),this.tune=async t=>{if(this.apiClient.isVertexAI())if(t.baseModel.startsWith("projects/")){const o={tunedModelName:t.baseModel},i=Object.assign(Object.assign({},t),{preTunedModel:o});return i.baseModel=void 0,await this.tuneInternal(i)}else{const o=Object.assign({},t);return await this.tuneInternal(o)}else{const o=Object.assign({},t),i=await this.tuneMldevInternal(o);let s="";return i.metadata!==void 0&&i.metadata.tunedModel!==void 0?s=i.metadata.tunedModel:i.name!==void 0&&i.name.includes("/operations/")&&(s=i.name.split("/operations/")[0]),{name:s,state:Zl.JOB_STATE_QUEUED}}}}async getInternal(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=x1(e);return u=L("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>ss(f))}else{const d=p1(e);return u=L("{name}",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>cm(f))}}async listInternal(e){var t,o,i,s;let a,u="",c={};if(this.apiClient.isVertexAI()){const d=E1(e);return u=L("tuningJobs",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=L1(f),m=new kc;return Object.assign(m,p),m})}else{const d=h1(e);return u=L("tunedModels",d._url),c=d._query,delete d.config,delete d._url,delete d._query,a=this.apiClient.request({path:u,queryParams:c,body:JSON.stringify(d),httpMethod:"GET",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal}).then(f=>f.json().then(p=>{const m=p;return m.sdkHttpResponse={headers:f.headers},m})),a.then(f=>{const p=N1(f),m=new kc;return Object.assign(m,p),m})}}async cancel(e){var t,o,i,s;let a="",u={};if(this.apiClient.isVertexAI()){const c=_1(e);a=L("{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal})}else{const c=g1(e);a=L("{name}:cancel",c._url),u=c._query,delete c.config,delete c._url,delete c._query,await this.apiClient.request({path:a,queryParams:u,body:JSON.stringify(c),httpMethod:"POST",httpOptions:(i=e.config)===null||i===void 0?void 0:i.httpOptions,abortSignal:(s=e.config)===null||s===void 0?void 0:s.abortSignal})}}async tuneInternal(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const u=k1(e);return s=L("tuningJobs",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>ss(c))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,o;let i,s="",a={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const u=T1(e);return s=L("tunedModels",u._url),a=u._query,delete u.config,delete u._url,delete u._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(u),httpMethod:"POST",httpOptions:(t=e.config)===null||t===void 0?void 0:t.httpOptions,abortSignal:(o=e.config)===null||o===void 0?void 0:o.abortSignal}).then(c=>c.json().then(d=>{const f=d;return f.sdkHttpResponse={headers:c.headers},f})),i.then(c=>R1(c))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class F1{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const V1=1024*1024*8,G1=3,B1=1e3,$1=2,Xr="x-goog-upload-status";async function q1(n,e,t){var o,i,s;let a=0,u=0,c=new jl(new Response),d="upload";for(a=n.size;u<a;){const p=Math.min(V1,a-u),m=n.slice(u,u+p);u+p>=a&&(d+=", finalize");let y=0,T=B1;for(;y<G1&&(c=await t.request({path:"",body:m,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":String(u),"Content-Length":String(p)}}}),!(!((o=c==null?void 0:c.headers)===null||o===void 0)&&o[Xr]));)y++,await z1(T),T=T*$1;if(u+=p,((i=c==null?void 0:c.headers)===null||i===void 0?void 0:i[Xr])!=="active")break;if(a<=u)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const f=await(c==null?void 0:c.json());if(((s=c==null?void 0:c.headers)===null||s===void 0?void 0:s[Xr])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return f.file}async function H1(n){return{size:n.size,type:n.type}}function z1(n){return new Promise(e=>setTimeout(e,n))}class J1{async upload(e,t,o){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await q1(e,t,o)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await H1(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class W1{create(e,t,o){return new K1(e,t,o)}}class K1{constructor(e,t,o){this.url=e,this.headers=t,this.callbacks=o}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const jc="x-goog-api-key";class Y1{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(jc)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(jc,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const O1="gl-node/";class dm{constructor(e){var t;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(t=e.vertexai)!==null&&t!==void 0?t:!1,this.apiKey=e.apiKey;const o=iv(e.httpOptions,e.vertexai,void 0,void 0);o&&(e.httpOptions?e.httpOptions.baseUrl=o:e.httpOptions={baseUrl:o}),this.apiVersion=e.apiVersion;const i=new Y1(this.apiKey);this.apiClient=new pw({auth:i,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:O1+"web",uploader:new J1,downloader:new F1}),this.models=new Dw(this.apiClient),this.live=new Mw(this.apiClient,i,new W1),this.batches=new Q0(this.apiClient),this.chats=new oT(this.models,this.apiClient),this.caches=new eT(this.apiClient),this.files=new gT(this.apiClient),this.operations=new Lw(this.apiClient),this.authTokens=new f1(this.apiClient),this.tunings=new U1(this.apiClient)}}const Zr="AIzaSyD2daiWIA5myoNp74FmWq6iIqUNPOdcS0U";let as=null;try{as=new dm({apiKey:Zr}),console.log("✅ Gemini Vision API initialized successfully with key:",Zr?"***"+Zr.slice(-4):"NOT_PROVIDED")}catch(n){console.error("❌ Failed to initialize Gemini Vision API:",n),console.warn("Please set VITE_GEMINI_API_KEY or VITE_GOOGLE_API_KEY environment variable")}const Q1=async(n,e)=>{try{if(!as)return console.error("❌ Gemini Vision API not initialized"),jr(e);console.log("🖼️ Analyzing board image with Gemini 2.5-flash Vision...",{difficulty:e,imageType:n.type,imageSize:Math.round(n.size/1024)+"KB"});const t=await n.arrayBuffer(),o=btoa(String.fromCharCode(...new Uint8Array(t))),i=`
    Analyze this modular board game image for optimal family gameplay setup.
    
    Current difficulty setting: ${e}
    
    Please analyze:
    1. Board layout and available spaces
    2. Optimal placement for game modules (markets, stations, special locations)
    3. Family-friendly accessibility considerations
    4. Strategic placement for intergenerational gameplay
    5. Difficulty-appropriate setup recommendations
    
    Consider:
    - Elderly accessibility (larger spaces, clearer paths)
    - Youth engagement (interesting mechanics, variety)
    - Family cooperation opportunities
    - Clear sightlines for all players
    
    Respond in JSON format with:
    {
      "board_assessment": "description of the board layout",
      "complexity": "simple|moderate|complex",
      "family_friendly": boolean,
      "module_suggestions": [
        {
          "module_type": "market/station/special location",
          "placement": "specific location description",
          "reason": "why this placement benefits family gameplay",
          "priority": "high|medium|low"
        }
      ],
      "strategic_tips": ["tip1", "tip2", "tip3"],
      "estimated_game_time": "time estimate with family"
    }
    `,a=(await as.models.generateContent({model:"gemini-1.5-flash",contents:[{parts:[{inlineData:{mimeType:n.type,data:o}},{text:i}]}]})).text||"";console.log("✅ Received board analysis from Gemini Vision API:",a.substring(0,100)+"...");const u=a.replace(/```json\n?|\n?```/g,"").trim();try{return JSON.parse(u)}catch(c){return console.error("Failed to parse AI response:",c),jr(e)}}catch(t){return console.error("Gemini Vision API error:",t),jr(e)}},jr=n=>{const e={Easy:{modules:[{module_type:"Central Market Hub",placement:"Center of board for easy family access",reason:"Central location ensures all generations can reach easily",priority:"high"},{module_type:"Family Rest Area",placement:"Corner near starting positions",reason:"Provides comfortable space for elderly family members",priority:"high"},{module_type:"Simple Trading Post",placement:"Midway between start and center",reason:"Easy first trading experience for beginners",priority:"medium"}],tips:["Place essential modules closer together for easy movement","Ensure clear paths between all major locations","Use larger game pieces for better visibility"]},Medium:{modules:[{module_type:"Multi-Level Market",placement:"Central-left section",reason:"Offers variety while maintaining accessibility",priority:"high"},{module_type:"Transport Hub",placement:"Strategic crossroads position",reason:"Facilitates movement between distant areas",priority:"high"},{module_type:"Specialty Shops",placement:"Scattered around perimeter",reason:"Encourages exploration and strategic planning",priority:"medium"},{module_type:"Challenge Station",placement:"Upper right quadrant",reason:"Optional challenges for engaged players",priority:"low"}],tips:["Balance accessibility with strategic depth","Create multiple paths to important locations","Add cooperative challenge opportunities","Consider different player mobility levels"]},Hard:{modules:[{module_type:"Complex Market District",placement:"Asymmetric central placement",reason:"Creates strategic positioning challenges",priority:"high"},{module_type:"Dynamic Weather Station",placement:"Corner position affecting board quarters",reason:"Adds environmental challenges requiring adaptation",priority:"high"},{module_type:"Advanced Trading Network",placement:"Multiple interconnected locations",reason:"Requires long-term planning and family coordination",priority:"medium"},{module_type:"Crisis Response Center",placement:"Accessible from multiple routes",reason:"Allows for reactive gameplay and family teamwork",priority:"medium"}],tips:["Embrace complexity while maintaining family engagement","Create interdependent systems requiring cooperation","Add multiple viable strategies for different play styles","Include catch-up mechanisms for struggling players","Design clear visual cues for complex interactions"]},Expert:{modules:[{module_type:"Master Trading Consortium",placement:"Central nexus with spoke connections",reason:"Hub for complex economic interactions",priority:"high"},{module_type:"Global Event Center",placement:"Elevated central position",reason:"Broadcasts challenges affecting entire family",priority:"high"},{module_type:"Specialized Districts",placement:"Four corner specialization zones",reason:"Forces difficult strategic choices and family negotiation",priority:"high"},{module_type:"Legacy Projects",placement:"Long-term development areas",reason:"Multi-generational goals requiring sustained cooperation",priority:"medium"}],tips:["Design for experienced families who enjoy deep strategy","Create meaningful decisions at every game phase","Implement sophisticated catch-up and comeback mechanics","Allow for emergent family cooperation strategies","Balance individual achievement with group success","Provide multiple victory paths suited to different generations"]}},t=e[n]||e.Easy;return{board_assessment:`This board layout appears suitable for ${n.toLowerCase()} difficulty family gameplay. The AI recommends strategic module placement to optimize intergenerational engagement and accessibility.`,complexity:n==="Easy"?"simple":n==="Medium"?"moderate":"complex",family_friendly:!0,module_suggestions:t.modules,strategic_tips:t.tips,estimated_game_time:n==="Easy"?"45-60 minutes":n==="Medium"?"60-90 minutes":n==="Hard"?"90-120 minutes":"2-3 hours"}},b1=({difficulty:n,onSetupComplete:e})=>{const[t,o]=A.useState(null),[i,s]=A.useState(null),[a,u]=A.useState(!1),[c,d]=A.useState(null),[f,p]=A.useState(null),[m,y]=A.useState(!1),T=A.useRef(null),x=E=>{if(!E.type.startsWith("image/")){p("Please select an image file");return}o(E),s(URL.createObjectURL(E)),p(null),d(null)},_=E=>{E.preventDefault(),y(!0)},v=E=>{E.preventDefault(),y(!1)},g=E=>{E.preventDefault(),y(!1);const M=Array.from(E.dataTransfer.files);M.length>0&&x(M[0])},C=E=>{const M=Array.from(E.target.files||[]);M.length>0&&x(M[0])},S=async()=>{if(t){u(!0),p(null);try{const E=await Q1(t,n);d(E)}catch(E){p("Failed to analyze board. Please try again."),console.error("Analysis error:",E)}finally{u(!1)}}},w=()=>{c&&e()};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-kopi-50 via-white to-talk-50",children:h.jsx("div",{className:"container mx-auto px-4 py-8",children:h.jsxs("div",{className:"max-w-4xl mx-auto",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold gradient-text mb-4",children:"AI Board Setup"}),h.jsx("p",{className:"text-gray-600",children:"Upload an image of your empty board for AI analysis and module placement suggestions"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Upload Board Image"}),h.jsx("div",{className:`border-2 border-dashed rounded-xl p-8 text-center transition-all duration-300 ${m?"border-kopi-500 bg-kopi-50":"border-gray-300 hover:border-gray-400"}`,onDragOver:_,onDragLeave:v,onDrop:g,children:i?h.jsxs("div",{className:"space-y-4",children:[h.jsx("img",{src:i,alt:"Board preview",className:"max-w-full h-48 object-contain mx-auto rounded-lg shadow-md"}),h.jsx("button",{onClick:()=>{var E;return(E=T.current)==null?void 0:E.click()},className:"text-kopi-500 hover:text-kopi-600 font-medium",children:"Change Image"})]}):h.jsxs("div",{className:"space-y-4",children:[h.jsx(Ap,{className:"mx-auto h-12 w-12 text-gray-400"}),h.jsxs("div",{children:[h.jsxs("p",{className:"text-gray-600 mb-2",children:["Drag and drop your board image here, or"," ",h.jsx("button",{onClick:()=>{var E;return(E=T.current)==null?void 0:E.click()},className:"text-kopi-500 hover:text-kopi-600 font-medium",children:"browse files"})]}),h.jsx("p",{className:"text-sm text-gray-500",children:"Supports JPG, PNG, and other image formats"})]})]})}),h.jsx("input",{ref:T,type:"file",accept:"image/*",onChange:C,className:"hidden"}),f&&h.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg flex items-center gap-2",children:[h.jsx(Gy,{className:"h-4 w-4 text-red-500"}),h.jsx("span",{className:"text-red-700 text-sm",children:f})]})]}),t&&!c&&h.jsx("button",{onClick:S,disabled:a,className:"w-full bg-gradient-to-r from-kopi-500 to-talk-500 text-white py-4 px-6 rounded-xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-2",children:a?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Analyzing Board..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Wn,{className:"h-5 w-5"}),"Analyze Board with AI"]})})]}),h.jsx("div",{className:"space-y-6",children:c?h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[h.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[h.jsx(Ru,{className:"h-5 w-5 text-green-500"}),"Board Analysis Complete"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Assessment"}),h.jsx("p",{className:"text-gray-600 text-sm",children:c.board_assessment})]}),h.jsxs("div",{className:"grid grid-cols-3 gap-4 text-center",children:[h.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[h.jsx("p",{className:"font-medium text-gray-800",children:"Complexity"}),h.jsx("p",{className:"text-sm text-gray-600 capitalize",children:c.complexity})]}),h.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[h.jsx("p",{className:"font-medium text-gray-800",children:"Family Friendly"}),h.jsx("p",{className:"text-sm text-gray-600",children:c.family_friendly?"Yes":"No"})]}),h.jsxs("div",{className:"p-3 bg-gray-50 rounded-lg",children:[h.jsx("p",{className:"font-medium text-gray-800",children:"Game Time"}),h.jsx("p",{className:"text-sm text-gray-600",children:c.estimated_game_time})]})]})]})]}),h.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Module Placement Suggestions"}),h.jsx("div",{className:"space-y-3",children:c.module_suggestions.map((E,M)=>h.jsx("div",{className:"p-4 bg-gray-50 rounded-lg",children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-800",children:E.module_type}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:E.placement}),h.jsx("p",{className:"text-xs text-gray-500 mt-2",children:E.reason})]}),h.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${E.priority==="high"?"bg-red-100 text-red-700":E.priority==="medium"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:E.priority})]})},M))})]}),h.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:[h.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Strategic Tips"}),h.jsx("ul",{className:"space-y-2",children:c.strategic_tips.map((E,M)=>h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-kopi-500 mt-2 flex-shrink-0"}),h.jsx("span",{className:"text-sm text-gray-600",children:E})]},M))})]}),h.jsxs("button",{onClick:w,className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white py-4 px-6 rounded-xl font-semibold hover:shadow-lg transition-all duration-300 flex items-center justify-center gap-2",children:[h.jsx(Ru,{className:"h-5 w-5"}),"Complete Board Setup"]})]}):h.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg",children:h.jsxs("div",{className:"text-center py-8",children:[h.jsx(Yi,{className:"mx-auto h-12 w-12 text-gray-400 mb-4"}),h.jsx("p",{className:"text-gray-500",children:"Upload and analyze your board to see AI suggestions"})]})})})]})]})})})},el="AIzaSyD2daiWIA5myoNp74FmWq6iIqUNPOdcS0U";let Lo=null;try{Lo=new dm(el),console.log("✅ Gemini API initialized successfully with key:",el?"***"+el.slice(-4):"NOT_PROVIDED")}catch(n){console.error("❌ Failed to initialize Gemini API:",n),console.warn("Please set VITE_GEMINI_API_KEY or VITE_GOOGLE_API_KEY environment variable")}const Xi={}.VITE_GEMINI_MODEL||"gemini-1.5-flash",ed=[{type:"positive",title:"Positive Card",description:"Your heartfelt conversation touched everyone! Bonus points for emotional connection.",emoji:"😔",effect:{points:10,money:5}},{type:"negative",title:"Negative Card",description:"Someone got a bit grumpy during the discussion. Take it with humor!",emoji:"🤪",effect:{points:-5}},{type:"funny_face",title:"Funny Face",description:"Someone made such a funny expression! Everyone bursts into laughter.",emoji:"💃",effect:{points:8,movement:1}},{type:"funny_dance",title:"Funny Dance",description:"The conversation got so lively, someone started dancing! Move ahead extra spaces.",emoji:"💃",effect:{movement:2,points:12}},{type:"snack_time",title:"Snack Time",description:"All this talking made everyone hungry! Time for some family snacks.",emoji:"🍿",effect:{points:5}},{type:"drink_time",title:"Drink Time",description:"The conversation was so engaging, everyone needs a drink break!",emoji:"🥤",effect:{points:5}}],X1=()=>ed[Math.floor(Math.random()*ed.length)],Z1=async(n,e)=>{var t,o;try{if(!Lo)throw new Error("❌ Gemini API not initialized. Please check your API key configuration.");if(console.log(`🎙️ Analyzing conversation with Gemini model=${Xi} (multimodal)...`,{duration:e+"s",audioType:n.type,audioSize:Math.round(n.size/1024)+"KB",maxSizeSupported:"20MB",supportedFormats:["audio/wav","audio/mp3","audio/aiff","audio/aac","audio/ogg","audio/flac"]}),n.size===0)throw new Error("Empty audio blob received");if(n.size>20*1024*1024)throw new Error("Audio file too large (max 20MB)");console.log("🔄 Converting audio to base64...");const i=await n.arrayBuffer(),s=btoa(String.fromCharCode(...new Uint8Array(i)));console.log("✅ Base64 conversion complete, length:",s.length);const a=`
    Analyze this family conversation recording for intergenerational bonding quality.
    Audio duration: ${e} seconds
    
    Please evaluate:
    1. Quality of conversation (1-100)
    2. Intergenerational engagement level
    3. Topics discussed
    4. Emotional connection observed
    5. Family bonding effectiveness
    
    Focus on how well different generations (elderly and young) are connecting and sharing.
    Return a quality score and suggest movement (1-5 spaces) based on conversation depth.
    
    Respond in JSON format with: quality, movement, feedback, topics_covered, bonding_level
    `,u=await Lo.models.generateContent({model:Xi,contents:[{role:"user",parts:[{inlineData:{mimeType:n.type||"audio/webm",data:s}},{text:a}]}]});if(console.log("📨 Raw API response received:",u),!u||!u.candidates||!u.candidates[0]||!u.candidates[0].content)throw new Error("Empty response from Gemini API");const c=(o=(t=u.candidates[0].content.parts)==null?void 0:t[0])==null?void 0:o.text;if(!c)throw new Error("No text content in Gemini API response");console.log("✅ Received analysis from Gemini API (length:",c.length,"):",c.substring(0,200)+"...");const d=c.replace(/```json\n?|\n?```/g,"").trim();let f;try{f=JSON.parse(d)}catch(p){throw console.warn("⚠️ Failed to parse JSON response, using fallback. Raw text:",d),new Error(`Invalid JSON response: ${p}`)}return{quality:f.quality||Math.floor(Math.random()*40)+60,movement:f.movement||Math.floor(Math.random()*5)+1,earnings:0,feedback:f.feedback||"Great family conversation! Keep sharing stories across generations.",topics_covered:f.topics_covered||["family memories","generational differences"],bonding_level:f.bonding_level||"medium"}}catch(i){console.error("❌ Gemini API conversation analysis error:",{error:i instanceof Error?i.message:i,stack:i instanceof Error?i.stack:void 0,duration:e,audioSize:n.size,audioType:n.type});const s=Math.random()*40+50,a=Math.min(e/60,1),u=Math.min(s+a*20,100),c={quality:Math.round(u),movement:Math.floor(u/20)+1,earnings:0,feedback:`AI analysis temporarily unavailable. Duration: ${e}s suggests ${u>80?"excellent":u>60?"good":"basic"} engagement level.`,topics_covered:["family stories","shared memories","generational wisdom","life experiences"],bonding_level:u>80?"excellent":u>60?"high":u>40?"medium":"low"};return console.log("🔄 Using fallback analysis:",c),c}},j1=async(n,e)=>{var t,o;try{if(!Lo)throw new Error("❌ Gemini API not initialized. Please check your API key configuration.");if(console.log(`📹 Analyzing TikTok video with Gemini model=${Xi} (multimodal vision)...`,{description:e,videoType:n.type,videoSize:Math.round(n.size/1024)+"KB",maxSizeSupported:"20MB",supportedFormats:["video/mp4","video/mpeg","video/mov","video/avi","video/x-flv","video/mpg","video/webm","video/wmv","video/3gpp"]}),n.size===0)throw new Error("Empty video blob received");if(n.size>20*1024*1024)throw new Error("Video file too large (max 20MB)");if(!e.trim())throw new Error("Video description is required for analysis");console.log("🔄 Converting video to base64...");const i=await n.arrayBuffer(),s=btoa(String.fromCharCode(...new Uint8Array(i)));console.log("✅ Video base64 conversion complete, length:",s.length);const a=`
    Analyze this TikTok trend video for creativity and family engagement.
    Description: "${e}"
    
    Evaluate:
    1. Creativity and effort (1-100)
    2. Family participation and fun
    3. Trend execution quality
    4. Intergenerational bonding visible
    
    Award earnings between $5-$10 based on performance.
    Focus on how well different generations participate together.
    
    Respond in JSON format with: performance_score, earnings, feedback, creativity_level
    `,u=await Lo.models.generateContent({model:Xi,contents:[{role:"user",parts:[{inlineData:{mimeType:n.type||"video/webm",data:s}},{text:a}]}]});if(console.log("📨 Raw video API response received:",u),!u||!u.candidates||!u.candidates[0]||!u.candidates[0].content)throw new Error("Empty response from Gemini Video API");const c=(o=(t=u.candidates[0].content.parts)==null?void 0:t[0])==null?void 0:o.text;if(!c)throw new Error("No text content in Gemini Video API response");console.log("✅ Received video analysis from Gemini API (length:",c.length,"):",c.substring(0,200)+"...");const d=c.replace(/```json\n?|\n?```/g,"").trim();let f;try{f=JSON.parse(d)}catch(p){throw console.warn("⚠️ Failed to parse video JSON response, using fallback. Raw text:",d),new Error(`Invalid JSON response: ${p}`)}return{performance_score:f.performance_score||Math.floor(Math.random()*40)+60,earnings:Math.max(5,Math.min(10,f.earnings||Math.floor(Math.random()*6)+5)),feedback:f.feedback||"Great creativity! The family participation shows wonderful bonding.",creativity_level:f.creativity_level||"good"}}catch(i){console.error("❌ Gemini API video analysis error:",{error:i instanceof Error?i.message:i,stack:i instanceof Error?i.stack:void 0,description:e,videoSize:n.size,videoType:n.type});const s=n.size/(1024*1024),a=e.length;let u=Math.random()*.4+.5;a>50&&(u+=.1),a>100&&(u+=.1),s>.5&&(u+=.1),s>2&&(u+=.1),u=Math.min(u,1);const c=Math.floor(u*6)+5,d=Math.round(u*100),f={performance_score:d,earnings:c,feedback:`AI analysis temporarily unavailable. Based on video metrics (${Math.round(s)}MB, ${a} chars): ${d}% creativity score with great family bonding potential!`,creativity_level:u>.8?"amazing":u>.6?"great":u>.4?"good":"basic"};return console.log("🔄 Using video fallback analysis:",f),f}},eM=({isOpen:n,onClose:e,onAnalysisComplete:t})=>{const[o,i]=A.useState(!1),[s,a]=A.useState(null),[u,c]=A.useState(!1),[d,f]=A.useState(0),[p,m]=A.useState(!1),y=A.useRef(null),T=A.useRef(null),x=A.useRef(null);A.useEffect(()=>()=>{x.current&&clearInterval(x.current),y.current&&o&&y.current.stop()},[o]),A.useEffect(()=>{n||(i(!1),a(null),c(!1),f(0),m(!1),x.current&&clearInterval(x.current))},[n]);const _=async()=>{try{const E=await navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!0,noiseSuppression:!0,sampleRate:44100}});let M="audio/webm;codecs=opus";MediaRecorder.isTypeSupported(M)||(MediaRecorder.isTypeSupported("audio/webm")?M="audio/webm":MediaRecorder.isTypeSupported("audio/mp4")?M="audio/mp4":M="audio/wav"),console.log("🎤 Using audio MIME type:",M);const R=new MediaRecorder(E,{mimeType:M}),k=[];R.ondataavailable=I=>{k.push(I.data)},R.onstop=()=>{const I=new Blob(k,{type:M});a(I),E.getTracks().forEach(P=>P.stop()),console.log("🎤 Audio recorded:",{size:Math.round(I.size/1024)+"KB",type:I.type,duration:d+"s"})},y.current=R,R.start(),i(!0),f(0),x.current=setInterval(()=>{f(I=>I>=300?(v(),I):I+1)},1e3)}catch(E){console.error("Error starting recording:",E),alert("Unable to access microphone. Please check permissions.")}},v=()=>{y.current&&o&&(y.current.stop(),i(!1),x.current&&(clearInterval(x.current),x.current=null))},g=()=>{if(s&&T.current)if(u)T.current.pause(),c(!1);else{const E=URL.createObjectURL(s);T.current.src=E,T.current.play(),c(!0),T.current.onended=()=>{c(!1),URL.revokeObjectURL(E)}}},C=async()=>{if(s){m(!0);try{console.log("🎤 Starting real Gemini API analysis for conversation...",{duration:d,audioSize:Math.round(s.size/1024)+"KB",mimeType:s.type});const E=await Z1(s,d);console.log("✅ Conversation analysis complete:",E),t(E),e()}catch(E){console.error("❌ Gemini API analysis failed:",E);const M={quality:Math.floor(Math.random()*40)+60,movement:Math.floor(Math.random()*3)+1,earnings:0,feedback:"AI analysis temporarily unavailable. Your conversation shows great family bonding potential!",topics_covered:["family stories","shared experiences"],bonding_level:d>60?"high":d>30?"medium":"low"};t(M),e()}finally{m(!1)}}},S=()=>{if(s)try{const E=URL.createObjectURL(s),M=document.createElement("a"),R=new Date().toISOString().replace(/[:.]/g,"-"),k=s.type.includes("webm")?"webm":s.type.includes("mp4")?"mp4":s.type.includes("wav")?"wav":"audio";M.href=E,M.download=`kopitalk-recording-${R}.${k}`,document.body.appendChild(M),M.click(),document.body.removeChild(M),setTimeout(()=>URL.revokeObjectURL(E),1e3)}catch(E){console.error("Failed to save recording:",E)}},w=E=>{const M=Math.floor(E/60),R=E%60;return`${M}:${R.toString().padStart(2,"0")}`};return n?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:h.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Record Conversation"}),h.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700",disabled:p,children:h.jsx(Np,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"text-center mb-6",children:[o&&h.jsxs("div",{className:"mb-4",children:[h.jsx("div",{className:"recording-pulse w-20 h-20 bg-red-500 rounded-full flex items-center justify-center mx-auto mb-2",children:h.jsx(oo,{className:"w-8 h-8 text-white"})}),h.jsx("p",{className:"text-red-600 font-semibold",children:"🔴 RECORDING"}),h.jsxs("p",{className:"text-gray-600 text-sm",children:[w(d)," / 5:00"]})]}),!o&&!s&&h.jsxs("div",{className:"mb-4",children:[h.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-2",children:h.jsx(oo,{className:"w-8 h-8 text-gray-400"})}),h.jsx("p",{className:"text-gray-600",children:"Ready to record"})]}),s&&!o&&h.jsxs("div",{className:"mb-4",children:[h.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2",children:h.jsx(oo,{className:"w-8 h-8 text-green-600"})}),h.jsx("p",{className:"text-green-600",children:"Recording complete"}),h.jsxs("p",{className:"text-gray-600 text-sm",children:["Duration: ",w(d)]})]})]}),h.jsxs("div",{className:"flex gap-3 justify-center mb-6",children:[!s&&h.jsxs("button",{onClick:o?v:_,className:`flex items-center gap-2 px-6 py-3 rounded-xl font-medium transition-all ${o?"bg-red-500 hover:bg-red-600 text-white":"bg-kopi-500 hover:bg-kopi-600 text-white"}`,children:[o?h.jsx(Yy,{className:"w-4 h-4"}):h.jsx(oo,{className:"w-4 h-4"}),o?"Stop Recording":"Start Recording"]}),s&&h.jsxs(h.Fragment,{children:[h.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-6 py-3 bg-talk-500 hover:bg-talk-600 text-white rounded-xl font-medium transition-all",children:[u?h.jsx(Oy,{className:"w-4 h-4"}):h.jsx(kp,{className:"w-4 h-4"}),u?"Pause":"Play"]}),h.jsx("button",{onClick:S,className:"flex items-center gap-2 px-6 py-3 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded-xl font-medium transition-all",children:"Save Recording"}),h.jsx("button",{onClick:C,disabled:p,className:"flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-kopi-500 to-talk-500 hover:from-kopi-600 hover:to-talk-600 text-white rounded-xl font-medium transition-all disabled:opacity-50",children:p?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Analyzing..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Ap,{className:"w-4 h-4"}),"Analyze with AI"]})})]})]}),h.jsx("div",{className:"bg-gray-50 rounded-xl p-4",children:h.jsx("p",{className:"text-sm text-gray-600 text-center",children:s?"Listen to your recording and upload it for AI analysis to see your results.":"Record a family conversation to earn points and move forward on the board!"})}),h.jsx("audio",{ref:T,className:"hidden"})]})}):null},nM=({isOpen:n,onClose:e,onEarningsComplete:t})=>{const[o,i]=A.useState(!1),[s,a]=A.useState(null),[u,c]=A.useState(0),[d,f]=A.useState(""),[p,m]=A.useState(!1),[y,T]=A.useState(!1),x=A.useRef(null),_=A.useRef(null),v=A.useRef(null),g=A.useRef(null),C=["Dancing to the latest viral song with family members","Cooking hack demonstration with grandparents' wisdom","Before and after organization with family help","Family member swap challenge (switching roles)","Generations comparing how they do the same task","Teaching grandparents a modern trend","Learning a traditional skill from elders"];A.useEffect(()=>(n?S():w(),w),[n]);const S=async()=>{try{const I=await navigator.mediaDevices.getUserMedia({video:{width:{ideal:1280},height:{ideal:720},facingMode:"user"},audio:!0});x.current&&(x.current.srcObject=I,T(!0)),v.current=I}catch(I){console.error("Camera access failed:",I),alert("Unable to access camera. Please check permissions.")}},w=()=>{v.current&&(v.current.getTracks().forEach(I=>I.stop()),v.current=null),g.current&&(clearInterval(g.current),g.current=null),i(!1),a(null),c(0),f(""),m(!1),T(!1)},E=async()=>{if(v.current)try{let I="video/webm;codecs=vp9";MediaRecorder.isTypeSupported(I)||(MediaRecorder.isTypeSupported("video/webm")?I="video/webm":MediaRecorder.isTypeSupported("video/mp4")?I="video/mp4":I="video/webm"),console.log("📹 Using video MIME type:",I);const P=new MediaRecorder(v.current,{mimeType:I}),q=[];P.ondataavailable=W=>{W.data.size>0&&q.push(W.data)},P.onstop=()=>{const W=new Blob(q,{type:I});a(W),console.log("📹 Video recorded:",{size:Math.round(W.size/1024)+"KB",type:W.type,duration:u+"s"})},_.current=P,P.start(100),i(!0),c(0),g.current=setInterval(()=>{c(W=>W>=60?(M(),W):W+1)},1e3)}catch(I){console.error("Recording failed:",I),alert("Recording failed. Please try again.")}},M=()=>{_.current&&o&&(_.current.stop(),i(!1),g.current&&(clearInterval(g.current),g.current=null))},R=async()=>{if(!(!s||!d.trim())){m(!0);try{const I=await j1(s,d);t(I),e()}catch(I){console.error("Analysis failed:",I),alert("Analysis failed. Please try again.")}finally{m(!1)}}},k=I=>{const P=Math.floor(I/60),q=I%60;return`${P}:${q.toString().padStart(2,"0")}`};return n?h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 fade-in-up",children:h.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto scale-in",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center gap-2",children:[h.jsx(Yi,{className:"w-6 h-6 text-kopi-500"}),"TikTok Trend Challenge"]}),h.jsx("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 transition-colors duration-200",disabled:p,children:h.jsx(Np,{className:"w-5 h-5"})})]}),h.jsx("div",{className:"mb-6 slide-in-left",children:h.jsxs("div",{className:"relative bg-black rounded-xl overflow-hidden aspect-video",children:[h.jsx("video",{ref:x,autoPlay:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover"}),o&&h.jsx("div",{className:"absolute top-4 left-4",children:h.jsxs("div",{className:"flex items-center gap-2 bg-red-500 text-white px-3 py-1 rounded-full recording-pulse",children:[h.jsx("div",{className:"w-2 h-2 bg-white rounded-full animate-pulse"}),h.jsxs("span",{className:"text-sm font-medium",children:["REC ",k(u)]})]})}),!y&&h.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-white",children:h.jsxs("div",{className:"text-center",children:[h.jsx(Yi,{className:"w-12 h-12 mx-auto mb-2 opacity-50"}),h.jsx("p",{children:"Initializing camera..."})]})})]})}),h.jsx("div",{className:"text-center mb-6 fade-in-up",children:s?h.jsx("div",{className:"flex items-center justify-center gap-3 bounce-in",children:h.jsxs("div",{className:"text-green-600 text-center",children:[h.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-2 glow-pulse",children:h.jsx(kp,{className:"w-6 h-6 animate-pulse"})}),h.jsx("p",{className:"text-sm shimmer",children:"Video recorded!"}),h.jsx("p",{className:"text-xs text-gray-500 fade-in-up",children:k(u)})]})}):h.jsx("button",{onClick:o?M:E,disabled:!y,className:`w-16 h-16 rounded-full flex items-center justify-center transition-all duration-200 ${o?"bg-red-500 hover:bg-red-600 recording-pulse":"bg-kopi-500 hover:bg-kopi-600"} text-white disabled:opacity-50 disabled:cursor-not-allowed`,children:o?h.jsx(Xy,{className:"w-8 h-8"}):h.jsx(Zy,{className:"w-8 h-8"})})}),h.jsxs("div",{className:"mb-6 slide-in-right",children:[h.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2 bounce-in",children:"Describe your TikTok trend"}),h.jsx("textarea",{value:d,onChange:I=>f(I.target.value),placeholder:"What trend are you performing? Be creative and detailed!",className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-kopi-500 resize-none transition-all duration-300 hover:border-kopi-300 fade-in-up",rows:3,maxLength:200}),h.jsxs("p",{className:"text-xs text-gray-500 mt-1 shimmer",children:[d.length,"/200 characters"]})]}),h.jsxs("div",{className:"mb-6 fade-in-up",children:[h.jsx("p",{className:"text-sm font-medium text-gray-700 mb-2 bounce-in",children:"💡 Trend ideas:"}),h.jsx("div",{className:"flex flex-wrap gap-2",children:C.slice(0,3).map((I,P)=>h.jsx("button",{onClick:()=>f(I),className:"text-xs bg-gray-100 hover:bg-gray-200 px-3 py-1 rounded-full text-gray-700 transition-all duration-300 hover:scale-105 card-hover",style:{animationDelay:`${P*100}ms`},children:I},P))})]}),s&&h.jsx("div",{className:"text-center mb-4 scale-in",children:h.jsx("button",{onClick:R,disabled:p||!d.trim(),className:"inline-flex items-center gap-2 px-8 py-3 bg-gradient-to-r from-kopi-500 to-talk-500 hover:from-kopi-600 hover:to-talk-600 text-white rounded-xl font-medium transition-all duration-300 hover:scale-105 glow-pulse disabled:opacity-50 disabled:cursor-not-allowed",children:p?h.jsxs(h.Fragment,{children:[h.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),h.jsx("span",{className:"shimmer",children:"Analyzing Performance..."})]}):h.jsxs(h.Fragment,{children:[h.jsx(Ip,{className:"w-5 h-5 animate-bounce"}),"Analyze & Earn Money ($5-10)"]})})}),h.jsx("div",{className:"bg-gradient-to-r from-kopi-50 to-talk-50 rounded-xl p-4 fade-in-up card-hover",children:h.jsx("p",{className:"text-sm text-gray-600 text-center bounce-in",children:"Record a creative TikTok trend with family members! The AI will analyze your performance and award money based on creativity, effort, and trend alignment."})})]})}):null},tM=({gameSession:n,onUpdateGame:e})=>{const[t,o]=A.useState(!1),[i,s]=A.useState(!1),[a,u]=A.useState(null),[c,d]=A.useState(!1),[f,p]=A.useState(null),[m,y]=A.useState(!1),T=[{id:"causeway",name:"Causeway Point Supermarket",type:"supermarket",availability:85,pricing:"Higher prices, but good selection",queue:"Short queues",special:"10% discount on weekends",color:"bg-blue-500"},{id:"wet_market",name:"Central Wet Market",type:"wet_market",availability:95,pricing:"Best prices for fresh goods",queue:"Crowded mornings",special:"Cash only, haggling allowed",color:"bg-green-500"},{id:"redmart",name:"RedMart Online",type:"online",availability:70,pricing:"Competitive online prices",queue:"2-hour delivery",special:"$8 delivery fee",color:"bg-red-500"},{id:"freshdirect",name:"FreshDirect Online",type:"online",availability:80,pricing:"Premium quality, higher cost",queue:"1-hour delivery",special:"$6 delivery fee, premium quality",color:"bg-purple-500"}],x=n.family_members[n.current_player_index],_=(n.current_player_index+1)%n.family_members.length,v=k=>{switch(k){case"grandfather":return Mp;case"grandmother":return Xl;case"son":return yt;case"daughter":return Wn;default:return yt}},g=(k,I)=>{const P=n.family_members.map((q,W)=>W===k?{...q,...I}:q);e({family_members:P})},C=()=>{e({current_player_index:_,last_updated:new Date().toISOString()}),u(null)},S=()=>{d(!0);let k=0;const I=setInterval(()=>{if(u(Math.floor(Math.random()*6)+1),k++,k>10){clearInterval(I);const P=Math.floor(Math.random()*6)+1;u(P),d(!1);const q=Math.min(x.position+P,20);g(n.current_player_index,{position:q});const W=X1();p(W),y(!0)}},100)},w=k=>{const I=n.family_members.map(P=>({...P,position:Math.min(P.position+k.movement,20),points:P.points+Math.floor(k.quality/10)}));e({family_members:I,family_budget:n.family_budget+Math.floor(k.movement*2)}),o(!1),alert(`${k.feedback}
Family moved: ${k.movement} spaces
Bonding Level: ${k.bonding_level}`)},E=k=>{const I=n.family_members.map(P=>({...P,cash:P.cash+Math.floor(k.earnings/n.family_members.length),points:P.points+Math.floor(k.performance_score/10)}));e({family_members:I,family_budget:n.family_budget+k.earnings}),s(!1),alert(`${k.feedback}
Family earned: $${k.earnings}!
Creativity: ${k.creativity_level}`)},M=k=>{const I=T.find(W=>W.id===k);if(!I)return;const P=Math.floor(Math.random()*30)+20,q=Math.floor(P*.1)+5;x.cash>=P?(g(n.current_player_index,{cash:x.cash-P+q}),alert(`Shopped at ${I.name}!
Spent: $${P}
Earned from reselling: $${q}`)):alert(`Not enough cash! You need $${P} but only have $${x.cash}`)},R=k=>k?[Du,Hy,zy,Jy,Wy,Ky][k-1]:Du;return h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-kopi-50 via-white to-talk-50",children:[h.jsxs("div",{className:"container mx-auto px-4 py-6",children:[h.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-lg mb-6 fade-in-up glow-pulse",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"slide-in-left",children:[h.jsxs("h1",{className:"text-2xl font-bold gradient-text flex items-center gap-2 bounce-in",children:[h.jsx($y,{className:"w-6 h-6 animate-bounce"}),"Today's Family Challenge!"]}),h.jsx("p",{className:"text-gray-600 shimmer",children:"Cook Grandma's Secret Laksa Recipe Together"})]}),h.jsxs("div",{className:"text-right slide-in-right",children:[h.jsx("p",{className:"text-sm text-gray-500 fade-in-up",children:"Family Budget"}),h.jsxs("p",{className:"text-2xl font-bold text-green-600 scale-in turn-indicator",children:["$",n.family_budget]})]})]})}),h.jsx("div",{className:"bg-gradient-to-r from-kopi-500 to-talk-500 rounded-2xl p-4 shadow-lg mb-6 text-white turn-indicator glow-pulse bounce-in",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-3 slide-in-left",children:[h.jsx(Xl,{className:"w-8 h-8 animate-pulse"}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold gradient-text",children:"Family Bonding Time"}),h.jsx("p",{className:"opacity-90 text-sm shimmer",children:"Connect across generations through conversation & fun!"})]})]}),h.jsxs("div",{className:"text-right slide-in-right",children:[h.jsx("p",{className:"text-sm opacity-90",children:"Active Players"}),h.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[h.jsx(yt,{className:"w-4 h-4 animate-pulse"}),h.jsxs("span",{className:"font-medium",children:[n.family_members.length," Members"]})]})]})]})}),h.jsxs("div",{className:"grid lg:grid-cols-3 gap-6",children:[h.jsx("div",{className:"lg:col-span-1",children:h.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg fade-in-up glow-pulse",children:[h.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2 bounce-in",children:[h.jsx(yt,{className:"w-5 h-5 animate-pulse"}),"Family Members"]}),h.jsx("div",{className:"space-y-4",children:n.family_members.map((k,I)=>{const P=v(k.role);return h.jsxs("div",{className:"p-4 rounded-xl border-2 border-gray-200 hover:border-kopi-300 transition-all duration-500 card-hover bg-gradient-to-r from-kopi-25 to-talk-25",style:{animationDelay:`${I*.1}s`},children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx(P,{className:"w-6 h-6 text-kopi-600 animate-pulse"}),h.jsxs("div",{className:"fade-in-up",children:[h.jsx("h3",{className:"font-semibold text-gray-800",children:k.name}),h.jsx("p",{className:"text-sm text-gray-500 capitalize",children:k.role})]}),h.jsx("div",{className:"ml-auto bg-gradient-to-r from-kopi-500 to-talk-500 text-white px-2 py-1 rounded-full text-xs font-medium glow-pulse",children:"ACTIVE"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"Cash:"}),h.jsxs("span",{className:"font-medium text-green-600",children:[" $",k.cash]})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"Position:"}),h.jsxs("span",{className:"font-medium",children:[" ",k.position,"/20"]})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"Points:"}),h.jsxs("span",{className:"font-medium text-blue-600",children:[" ",k.points]})]}),h.jsxs("div",{children:[h.jsx("span",{className:"text-gray-500",children:"EZ-Link:"}),h.jsxs("span",{className:"font-medium",children:[" $",k.ezlink_balance]})]})]})]},I)})})]})}),h.jsx("div",{className:"lg:col-span-2",children:h.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg mb-6",children:[h.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-6",children:"Available Actions"}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[h.jsxs("button",{onClick:()=>o(!0),className:"card-hover p-6 bg-gradient-to-br from-talk-500 to-talk-600 text-white rounded-xl slide-in-left glow-pulse",children:[h.jsx(oo,{className:"w-8 h-8 mb-3 animate-pulse"}),h.jsx("h3",{className:"font-semibold mb-2 bounce-in",children:"Record Conversation"}),h.jsx("p",{className:"text-sm opacity-90 fade-in-up",children:"Have a family discussion and move 1-5 spaces"})]}),h.jsxs("button",{onClick:()=>s(!0),className:"card-hover p-6 bg-gradient-to-br from-kopi-500 to-kopi-600 text-white rounded-xl slide-in-right glow-pulse",children:[h.jsx(Yi,{className:"w-8 h-8 mb-3 animate-bounce"}),h.jsx("h3",{className:"font-semibold mb-2 bounce-in",children:"TikTok Trend Challenge"}),h.jsx("p",{className:"text-sm opacity-90 fade-in-up",children:"Create viral content and earn $5-10"})]}),"                ",h.jsxs("button",{onClick:S,disabled:c,className:"card-hover p-6 bg-gradient-to-br from-purple-500 to-purple-600 text-white rounded-xl disabled:opacity-50 fade-in-up glow-pulse",children:[ps.createElement(R(a),{className:`w-8 h-8 mb-3 transition-all duration-300 ${c?"animate-spin":"animate-pulse"}`}),h.jsx("h3",{className:"font-semibold mb-2 bounce-in",children:c?"Rolling...":a?`Rolled ${a}!`:"Roll Dice"}),h.jsx("p",{className:"text-sm opacity-90 shimmer",children:a?"Turn ending...":"Move forward and end turn"})]}),h.jsxs("div",{className:"p-6 bg-gradient-to-br from-green-500 to-green-600 text-white rounded-xl scale-in glow-pulse",children:[h.jsx(Qy,{className:"w-8 h-8 mb-3 animate-bounce"}),h.jsx("h3",{className:"font-semibold mb-2 bounce-in",children:"Visit Markets"}),h.jsx("p",{className:"text-sm opacity-90 mb-3 fade-in-up",children:"Shop for ingredients at different locations"})]})]}),h.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:T.map((k,I)=>h.jsxs("button",{onClick:()=>M(k.id),className:"card-hover p-4 bg-gray-50 hover:bg-gray-100 rounded-xl border border-gray-200 text-left transition-all duration-500 fade-in-up glow-pulse",style:{animationDelay:`${I*.1}s`},children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("div",{className:`w-3 h-3 rounded-full ${k.color} animate-pulse`}),h.jsx("h4",{className:"font-semibold text-gray-800 text-sm bounce-in",children:k.name})]}),h.jsx("p",{className:"text-xs text-gray-600 mb-1 slide-in-left",children:k.pricing}),h.jsxs("p",{className:"text-xs text-gray-500 slide-in-right",children:[k.queue," • ",k.special]}),h.jsxs("div",{className:"flex items-center gap-1 mt-2 scale-in",children:[h.jsx("div",{className:`w-2 h-2 rounded-full transition-all duration-300 ${k.availability>80?"bg-green-400 animate-pulse":"bg-yellow-400 animate-bounce"}`}),h.jsxs("span",{className:"text-xs text-gray-500 shimmer",children:[k.availability,"% available"]})]})]},k.id))})]})})]})]}),h.jsx(eM,{isOpen:t,onClose:()=>o(!1),onAnalysisComplete:w}),h.jsx(nM,{isOpen:i,onClose:()=>s(!1),onEarningsComplete:E}),m&&f&&h.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4 fade-in-up",children:h.jsx("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md scale-in glow-pulse",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-6xl mb-4 animate-bounce",children:f.emoji}),h.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2 bounce-in",children:f.title}),h.jsx("p",{className:"text-gray-600 mb-6 fade-in-up",children:f.description}),f.effect&&h.jsx("div",{className:"bg-gradient-to-r from-kopi-50 to-talk-50 rounded-xl p-4 mb-6",children:h.jsxs("div",{className:"flex items-center justify-center gap-4 text-sm",children:[f.effect.money&&h.jsxs("div",{className:"flex items-center gap-1 text-green-600",children:[h.jsx(Ip,{className:"w-4 h-4"}),h.jsxs("span",{children:["+$",f.effect.money]})]}),f.effect.movement&&h.jsxs("div",{className:"flex items-center gap-1 text-blue-600",children:[h.jsx(By,{className:"w-4 h-4"}),h.jsxs("span",{children:["+",f.effect.movement," spaces"]})]}),f.effect.points&&h.jsxs("div",{className:"flex items-center gap-1 text-purple-600",children:[h.jsx(Wn,{className:"w-4 h-4"}),h.jsxs("span",{children:["+",f.effect.points," points"]})]})]})}),h.jsx("button",{onClick:()=>{y(!1),setTimeout(()=>C(),300)},className:"px-6 py-3 bg-gradient-to-r from-kopi-500 to-talk-500 text-white rounded-xl hover:from-kopi-600 hover:to-talk-600 transition-all duration-300 hover:scale-105 glow-pulse",children:"Continue Family Time!"})]})})})]})},oM=()=>{const{sessionId:n}=gy(),e=Ep(),[t,o]=A.useState(null),[i,s]=A.useState(!0);A.useEffect(()=>{if(n){const d=bl.getGame(n);if(d)o(d);else{e("/");return}}else o({id:`game_${Date.now()}`,difficulty:"medium",family_budget:100,family_members:[],game_phase:"family_setup",current_player_index:0,game_scenario:null,created_date:new Date().toISOString(),last_updated:new Date().toISOString()});s(!1)},[n,e]);const a=d=>{if(!t)return;const f={...t,...d,last_updated:new Date().toISOString()};o(f),bl.saveGame(f),!n&&f.id&&e(`/game/${f.id}`,{replace:!0})},u=(d,f)=>{a({difficulty:d,family_budget:{easy:0,medium:0,hard:0,expert:0}[d],family_members:f.map((m,y)=>({...m,position:0,points:0,cash:0,ezlink_balance:0})),game_phase:"board_setup",current_player_index:0})},c=()=>{a({game_phase:"gameplay"})};if(i)return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-kopi-50 to-talk-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-kopi-500 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Loading game..."})]})});if(!t)return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-kopi-50 to-talk-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-red-600 text-lg mb-4",children:"Game not found"}),h.jsx("button",{onClick:()=>e("/"),className:"bg-kopi-500 text-white px-6 py-2 rounded-lg hover:bg-kopi-600 transition-colors",children:"Return Home"})]})});switch(t.game_phase){case"family_setup":return h.jsx(ev,{onSetupComplete:u});case"board_setup":return h.jsx(b1,{difficulty:t.difficulty,onSetupComplete:c});case"gameplay":return h.jsx(tM,{gameSession:t,onUpdateGame:a});default:return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-kopi-50 to-talk-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsxs("p",{className:"text-gray-600 text-lg mb-4",children:["Unknown game phase: ",t.game_phase]}),h.jsx("button",{onClick:()=>e("/"),className:"bg-kopi-500 text-white px-6 py-2 rounded-lg hover:bg-kopi-600 transition-colors",children:"Return Home"})]})})}},iM=()=>h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-kopi-50 via-white to-talk-50 p-6",children:h.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-2xl p-6 shadow",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Delivery App (Placeholder)"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Plan deliveries, estimate ETAs and costs. Integration coming next."}),h.jsxs("div",{className:"grid gap-3",children:[h.jsx("div",{className:"p-4 rounded-xl border",children:"Route planner UI goes here"}),h.jsx("div",{className:"p-4 rounded-xl border",children:"Order list / status"}),h.jsx("div",{className:"p-4 rounded-xl border",children:"Map mock"})]})]})}),rM=()=>h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-kopi-50 via-white to-talk-50 p-6",children:h.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-2xl p-6 shadow",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Cooking Mini-Game (Placeholder)"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Step-by-step cooking flow with timers and scoring will be added."}),h.jsxs("div",{className:"grid gap-3",children:[h.jsx("div",{className:"p-4 rounded-xl border",children:"Ingredients UI"}),h.jsx("div",{className:"p-4 rounded-xl border",children:"Steps & timer"}),h.jsx("div",{className:"p-4 rounded-xl border",children:"Scoring"})]})]})}),lM=()=>h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-kopi-50 via-white to-talk-50 p-6",children:h.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-2xl p-6 shadow",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Bus Timings (Placeholder)"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Show nearby bus arrivals; mock data first, API later."}),h.jsxs("div",{className:"grid gap-3",children:[h.jsx("div",{className:"p-4 rounded-xl border",children:"Bus stop selector"}),h.jsx("div",{className:"p-4 rounded-xl border",children:"Bus arrivals list"})]})]})}),sM=()=>h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-kopi-50 via-white to-talk-50 p-6",children:h.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-2xl p-6 shadow",children:[h.jsx("h1",{className:"text-2xl font-bold mb-2",children:"EZ-Link Top Up (Placeholder)"}),h.jsx("p",{className:"text-gray-600 mb-4",children:"Simulate card balance and top-up flows here."}),h.jsxs("div",{className:"grid gap-3",children:[h.jsx("div",{className:"p-4 rounded-xl border",children:"Card selector"}),h.jsx("div",{className:"p-4 rounded-xl border",children:"Balance and top-up amount"}),h.jsx("div",{className:"p-4 rounded-xl border",children:"Transaction history"})]})]})});function aM(){return h.jsx("div",{className:"min-h-screen bg-gray-50",children:h.jsxs(Py,{children:[h.jsx(Gn,{path:"/",element:h.jsx(jy,{})}),h.jsx(Gn,{path:"/game/:sessionId?",element:h.jsx(oM,{})}),h.jsx(Gn,{path:"/delivery",element:h.jsx(iM,{})}),h.jsx(Gn,{path:"/cooking",element:h.jsx(rM,{})}),h.jsx(Gn,{path:"/bus",element:h.jsx(lM,{})}),h.jsx(Gn,{path:"/ezlink",element:h.jsx(sM,{})})]})})}nl.createRoot(document.getElementById("root")).render(h.jsx(ps.StrictMode,{children:h.jsx(Uy,{children:h.jsx(aM,{})})}));
